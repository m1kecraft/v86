'use strict';var t;function aa(a,b,c){this.h=a;this.v=c;this.s=[104,111,115,116,57,112];this.F=this.s.length;this.D="9P2000.L";this.j=this.o=8192;this.i=new Uint8Array(2*this.j);this.A=0;this.g=[];this.Z=new ba(b,{name:"virtio-9p",Sa:48,He:4169,pg:9,Fe:{ob:43008,$:[{gb:32,yb:0}],features:[0,32,29,28],zh:()=>{}},notification:{ob:43264,Qg:!1,Ag:[d=>{if(0===d){for(;ca(this.l);)d=da(this.l),ha(this,d);d=this.l;const e=d.u.fb(d.g+2)+0&65535;d.u.Kf(d.h+4+8*d.size,e)}}]},bc:{ob:42752},Sf:{ob:42496,dd:[{bytes:2,name:"mount tag length",
read:()=>this.F,write:()=>{}}].concat(Array.from(Array(254).keys()).map(d=>({bytes:1,name:"mount tag name "+d,read:()=>this.s[d]||0,write:()=>{}})))}});this.l=this.Z.$[0]}aa.prototype.ga=function(){var a=[];a[0]=this.s;a[1]=this.F;a[2]=this.Z;a[3]=this.D;a[4]=this.o;a[5]=this.j;a[6]=this.i;a[7]=this.A;a[8]=this.g.map(function(b){return[b.ha,b.type,b.uid,b.Ic]});a[9]=this.h;return a};
aa.prototype.H=function(a){this.s=a[0];this.F=a[1];this.Z.H(a[2]);this.l=this.Z.$[0];this.D=a[3];this.o=a[4];this.j=a[5];this.i=a[6];this.A=a[7];this.g=a[8].map(function(b){return{ha:b[0],type:b[1],uid:b[2],Ic:b[3]}});this.h.H(a[9])};function v(a,b,c,d){x(["w","b","h"],[d+7,b+1,c],a.i,0);a.A=d+7}function ia(a,b,c){c=x(["w"],[c],a.i,7);v(a,6,b,c)}function D(a,b){ja(b,a.i.subarray(0,a.A));ka(a.l,b);la(a.l)}
async function ha(a,b){var c=new Uint8Array(b.ee);ma(b,c);var d={offset:0},e=E(["w","b","h"],c,d),f=e[0],g=e[1],h=e[2];switch(g){case 8:f=na(a.h);var k=oa(a.h);e=[16914839];e[1]=a.o;e[2]=Math.floor(k/e[1]);e[3]=e[2]-Math.floor(f/e[1]);e[4]=e[2]-Math.floor(f/e[1]);e[5]=ra(a.h);e[6]=sa(a.h);e[7]=0;e[8]=256;f=x("wwddddddw".split(""),e,a.i,7);v(a,g,h,f);D(a,b);break;case 112:case 12:e=E(["w","w"],c,d);f=e[0];d=e[1];c=a.g[f].ha;var l=J(a.h,c);k=wa(a.h,c,d);xa(a.h,a.g[f].ha,function(){var r=[];r[0]=l.Ta;
r[1]=this.j-24;x(["Q","w"],r,this.i,7);v(this,g,h,17);D(this,b)}.bind(a));break;case 70:e=E(["w","w","s"],c,d);c=e[0];f=e[1];k=e[2];k=ya(a.h,a.g[c].ha,a.g[f].ha,k);if(0>k){ia(a,h,-k);D(a,b);break}v(a,g,h,0);D(a,b);break;case 16:e=E(["w","s","s","w"],c,d);f=e[0];k=e[1];var m=e[3];c=za(a.h,k,a.g[f].ha,e[2]);l=J(a.h,c);l.uid=a.g[f].uid;l.ab=m;x(["Q"],[l.Ta],a.i,7);v(a,g,h,13);D(a,b);break;case 18:e=E("wswwww".split(""),c,d);f=e[0];k=e[1];d=e[2];c=e[3];var p=e[4];m=e[5];c=Ba(a.h,k,a.g[f].ha,c,p);l=J(a.h,
c);l.mode=d;l.uid=a.g[f].uid;l.ab=m;x(["Q"],[l.Ta],a.i,7);v(a,g,h,13);D(a,b);break;case 22:e=E(["w"],c,d);f=e[0];l=J(a.h,a.g[f].ha);f=x(["s"],[l.Df],a.i,7);v(a,g,h,f);D(a,b);break;case 72:e=E(["w","s","w","w"],c,d);f=e[0];k=e[1];d=e[2];m=e[3];c=Ea(a.h,k,a.g[f].ha);l=J(a.h,c);l.mode=d|Fa;l.uid=a.g[f].uid;l.ab=m;x(["Q"],[l.Ta],a.i,7);v(a,g,h,13);D(a,b);break;case 14:e=E(["w","s","w","w","w"],c,d);f=e[0];k=e[1];c=e[2];d=e[3];m=e[4];a.v.send("9p-create",[k,a.g[f].ha]);c=Ga(a.h,k,a.g[f].ha);a.g[f].ha=
c;a.g[f].type=1;a.g[f].Ic=k;l=J(a.h,c);l.uid=a.g[f].uid;l.ab=m;l.mode=d|Ha;x(["Q","w"],[l.Ta,a.j-24],a.i,7);v(a,g,h,17);D(a,b);break;case 52:e=E("wbwddws".split(""),c,d);f=e[0];c=e[2];k=0===e[4]?Infinity:e[4];e=Ia(e[1],e[3],k,e[5],e[6]);k=Ja(a.h,a.g[f].ha,e,c);x(["b"],[k],a.i,7);v(a,g,h,1);D(a,b);break;case 54:e=E("wbddws".split(""),c,d);f=e[0];k=0===e[3]?Infinity:e[3];e=Ia(e[1],e[2],k,e[4],e[5]);k=Ka(a.h,a.g[f].ha,e);k||(k=e,k.type=2);f=x(["b","d","d","w","s"],[k.type,k.start,Infinity===k.length?
0:k.length,k.h,k.g],a.i,7);v(a,g,h,f);D(a,b);break;case 24:e=E(["w","d"],c,d);f=e[0];l=J(a.h,a.g[f].ha);if(!l||l.status===La){ia(a,h,2);D(a,b);break}e[0]=e[1];e[1]=l.Ta;e[2]=l.mode;e[3]=l.uid;e[4]=l.ab;e[5]=l.xb;e[6]=l.Zf<<8|l.$f;e[7]=l.size;e[8]=a.o;e[9]=Math.floor(l.size/512+1);e[10]=l.Ud;e[11]=0;e[12]=l.Vc;e[13]=0;e[14]=l.Ge;e[15]=0;e[16]=0;e[17]=0;e[18]=0;e[19]=0;x("dQwwwddddddddddddddd".split(""),e,a.i,7);v(a,g,h,153);D(a,b);break;case 26:e=E("wwwwwddddd".split(""),c,d);f=e[0];l=J(a.h,a.g[f].ha);
e[1]&1&&(l.mode=e[2]);e[1]&2&&(l.uid=e[3]);e[1]&4&&(l.ab=e[4]);e[1]&16&&(l.Ud=Math.floor((new Date).getTime()/1E3));e[1]&32&&(l.Vc=Math.floor((new Date).getTime()/1E3));e[1]&64&&(l.Ge=Math.floor((new Date).getTime()/1E3));e[1]&128&&(l.Ud=e[6]);e[1]&256&&(l.Vc=e[8]);e[1]&8&&await Ma(a.h,a.g[f].ha,e[5]);v(a,g,h,0);D(a,b);break;case 50:e=E(["w","d"],c,d);f=e[0];v(a,g,h,0);D(a,b);break;case 40:case 116:e=E(["w","d","w"],c,d);f=e[0];k=e[1];m=e[2];l=J(a.h,a.g[f].ha);if(!l||l.status===La){ia(a,h,2);D(a,
b);break}if(2===a.g[f].type){(void 0).length<k+m&&(m=(void 0).length-k);for(e=0;e<m;e++)a.i[11+e]=(void 0)[k+e];x(["w"],[m],a.i,7);v(a,g,h,4+m)}else wa(a.h,a.g[f].ha,void 0),e=a.g[f].ha,m=Math.min(m,a.i.length-11),l.size<k+m?m=l.size-k:40===g&&(m=Na(a.h,e,k+m)-k),k>l.size&&(m=0),a.v.send("9p-read-start",[a.g[f].Ic]),e=await Oa(a.h,e,k,m),a.v.send("9p-read-end",[a.g[f].Ic,m]),e&&a.i.set(e,11),x(["w"],[m],a.i,7),v(a,g,h,4+m);D(a,b);break;case 118:e=E(["w","d","w"],c,d);f=e[0];k=e[1];m=e[2];e=a.g[f].Ic;
if(2===a.g[f].type){ia(a,h,95);D(a,b);break}else await Pa(a.h,a.g[f].ha,k,m,c.subarray(d.offset));a.v.send("9p-write-end",[e,m]);x(["w"],[m],a.i,7);v(a,g,h,4);D(a,b);break;case 74:e=E(["w","s","w","s"],c,d);k=await Qa(a.h,a.g[e[0]].ha,e[1],a.g[e[2]].ha,e[3]);if(0>k){ia(a,h,-k);D(a,b);break}v(a,g,h,0);D(a,b);break;case 76:e=E(["w","s","w"],c,d);d=e[0];k=e[1];c=e[2];f=Sa(a.h,a.g[d].ha,k);if(-1===f){ia(a,h,2);D(a,b);break}k=Ta(a.h,a.g[d].ha,k);if(0>k){ia(a,h,-k);D(a,b);break}v(a,g,h,0);D(a,b);break;
case 100:f=E(["w","s"],c,d);a.j!==f[0]&&(a.j=f[0],a.i=new Uint8Array(Math.min(16777216,2*a.j)));f=x(["w","s"],[a.j,a.D],a.i,7);v(a,g,h,f);D(a,b);break;case 104:e=E(["w","w","s","s","w"],c,d);f=e[0];a.g[f]={ha:0,type:1,uid:e[4],Ic:""};l=J(a.h,a.g[f].ha);x(["Q"],[l.Ta],a.i,7);v(a,g,h,13);D(a,b);a.v.send("9p-attach");break;case 108:e=E(["h"],c,d);v(a,g,h,0);D(a,b);break;case 110:e=E(["w","w","h"],c,d);f=e[0];m=e[1];p=e[2];if(0===p){a.g[m]={ha:a.g[f].ha,type:1,uid:a.g[f].uid,Ic:a.g[f].Ic};x(["h"],[0],
a.i,7);v(a,g,h,2);D(a,b);break}k=[];for(e=0;e<p;e++)k.push("s");d=E(k,c,d);c=a.g[f].ha;k=9;var w=0;for(e=0;e<p;e++){c=Sa(a.h,c,d[e]);if(-1===c)break;k+=x(["Q"],[J(a.h,c).Ta],a.i,k);w++;a.g[m]={ha:c,type:1,uid:a.g[f].uid,Ic:d[e]}}x(["h"],[w],a.i,7);v(a,g,h,k-7);D(a,b);break;case 120:e=E(["w"],c,d);a.g[e[0]]&&0<=a.g[e[0]].ha&&(await Ua(a.h,a.g[e[0]].ha),a.g[e[0]].ha=-1,a.g[e[0]].type=-1);v(a,g,h,0);D(a,b);break;case 32:e=E(["w","s","d","w"],c,d);f=e[0];k=e[1];c=e[3];a.g[f].type=2;v(a,g,h,0);D(a,b);
break;case 30:e=E(["w","w","s"],c,d),f=e[0],k=e[2],ia(a,h,95),D(a,b)}};function Va(a,b){function c(B){B=B.toString(16);return"#"+"0".repeat(6-B.length)+B}function d(B,C,S,K){B.style.width="";B.style.height="";K&&(B.style.transform="");var X=B.getBoundingClientRect();K?B.style.transform=(1===C?"":" scaleX("+C+")")+(1===S?"":" scaleY("+S+")"):(0===C%1&&0===S%1?(f.style.imageRendering="crisp-edges",f.style.imageRendering="pixelated",f.style["-ms-interpolation-mode"]="nearest-neighbor"):(f.style.imageRendering="",f.style["-ms-interpolation-mode"]=""),K=window.devicePixelRatio||
1,0!==K%1&&(C/=K,S/=K));1!==C&&(B.style.width=X.width*C+"px");1!==S&&(B.style.height=X.height*S+"px")}var e=a.Qf;this.Mg=b;console.assert(e,"options.container must be provided");var f=e.getElementsByTagName("canvas")[0],g=f.getContext("2d",{alpha:!1}),h=e.getElementsByTagName("div")[0],k=document.createElement("div"),l,m,p=1,w=1,r=1,n,z=!!a.ji,q,u,y,F=!1,P=!1;b=new Uint16Array([8962,199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,
165,8359,402,225,237,243,250,241,209,170,186,191,8976,172,189,188,161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);e=new Uint16Array([32,9786,9787,9829,9830,
9827,9824,8226,9688,9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]);for(var G=[],Q,N=0;256>N;N++)Q=126<N?b[N-127]:32>N?e[N]:N,G[N]=String.fromCharCode(Q);g.imageSmoothingEnabled=!1;k.classList.add("cursor");k.style.position="absolute";k.style.backgroundColor="#ccc";k.style.width="7px";k.style.display="inline-block";h.style.display="block";f.style.display="none";this.Mb=function(){this.g(z);z?this.h(720,400):this.i(80,25);this.ic()};
this.mj=function(){const B=new Image;if(z)B.src=f.toDataURL("image/png");else{const C=[9,16],S=document.createElement("canvas");S.width=u*C[0];S.height=y*C[1];const K=S.getContext("2d");K.imageSmoothingEnabled=!1;K.font=window.getComputedStyle(h).font;K.textBaseline="top";for(let X=0;X<y;X++)for(let Y=0;Y<u;Y++){const ea=4*(X*u+Y),ta=q[ea],pa=q[ea+3];K.fillStyle=c(q[ea+2]);K.fillRect(Y*C[0],X*C[1],C[0],C[1]);K.fillStyle=c(pa);K.fillText(G[ta],Y*C[0],X*C[1])}"none"!==k.style.display&&l<y&&m<u&&(K.fillStyle=
k.style.backgroundColor,K.fillRect(m*C[0],l*C[1]+parseInt(k.style.marginTop,10),parseInt(k.style.width,10),parseInt(k.style.height,10)));B.src=S.toDataURL("image/png")}return B};this.l=function(B,C,S,K,X,Y){C=4*(B*u+C);q[C]=S;q[C+1]=K;q[C+2]=X;q[C+3]=Y;n[B]=1};this.ic=function(){F||requestAnimationFrame(()=>z?this.F():this.I())};this.I=function(){for(var B=0;B<y;B++)n[B]&&(this.D(B),n[B]=0);this.ic()};this.F=function(){P||this.Mg();this.ic()};this.va=function(){F=!0};this.pause=function(){P=!0;k.classList.remove("blinking-cursor")};
this.continue=function(){P=!1;k.classList.add("blinking-cursor")};this.g=function(B){(z=B)?(h.style.display="none",f.style.display="block"):(h.style.display="block",f.style.display="none")};this.A=function(){g.fillStyle="#000";g.fillRect(0,0,f.width,f.height)};this.i=function(B,C){if(B!==u||C!==y){n=new Int8Array(C);q=new Int32Array(B*C*4);u=B;for(y=C;h.childNodes.length>C;)h.removeChild(h.firstChild);for(;h.childNodes.length<C;)h.appendChild(document.createElement("div"));for(B=0;B<C;B++)this.D(B);
d(h,p,w,!0)}};this.h=function(B,C){f.style.display="block";f.width=B;f.height=C;g.imageSmoothingEnabled=!1;r=!a.ml&&640>=B&&2*B<window.innerWidth*window.devicePixelRatio&&2*C<window.innerHeight*window.devicePixelRatio?2:1;d(f,p*r,w*r,!1)};this.Og=function(B,C){p=B;w=C;d(h,p,w,!0);d(f,p*r,w*r,!1)};this.Og(p,w);this.s=function(B,C,S){S?(k.style.display="inline",k.style.height=C-B+"px",k.style.marginTop=B+"px"):k.style.display="none"};this.o=function(B,C){if(B!==l||C!==m)B<y&&(n[B]=1),l<y&&(n[l]=1),
l=B,m=C};this.D=function(B){var C=4*B*u,S;var K=h.childNodes[B];var X=document.createElement("div");for(var Y=0;Y<u;){var ea=document.createElement("span");var ta=q[C+1];var pa=q[C+2];var Aa=q[C+3];ta&&ea.classList.add("blink");ea.style.backgroundColor=c(pa);ea.style.color=c(Aa);for(S="";Y<u&&q[C+1]===ta&&q[C+2]===pa&&q[C+3]===Aa;)if(S+=G[q[C]],Y++,C+=4,B===l)if(Y===m)break;else if(Y===m+1){k.style.backgroundColor=ea.style.color;X.appendChild(k);break}ea.textContent=S;X.appendChild(ea)}K.parentNode.replaceChild(X,
K)};this.j=function(B){for(const C of B)g.putImageData(C.wb,C.lg-C.af,C.mg-C.bf,C.af,C.bf,C.Of,C.Nf)};this.Mb()};(function(){function a(r){document.title=r+" - Virtual x86";const n=document.querySelector("meta[name=description]");n&&(n.content="Running "+r)}function b(r){return!!r&&"0"!==r}function c(r){return document.getElementById(r)}function d(){if(window.WebAssembly){c("start_emulation").onclick=function(u){e(null,null);c("start_emulation").blur();u.preventDefault()};var r=new URLSearchParams(location.search),n=r.get("cdn")||(l?"images/":"//i.copy.sh/");n=[{id:"archlinux",name:"Arch Linux",G:536870912,
pa:8388608,state:{url:n+"arch_state.bin.zst"},filesystem:{Mf:n+"arch/"},uf:"virtio"},{id:"archlinux-boot",name:"Arch Linux",G:536870912,pa:8388608,filesystem:{Mf:n+"arch/",Ai:{url:n+"fs.json"}},Hb:"rw apm=off vga=0x344 video=vesafb:ypan,vremap:8 root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose mitigations=off audit=0 init_on_free=on tsc=reliable random.trust_cpu=on nowatchdog init=/usr/bin/init-openrc net.ifnames=0 biosdevname=0",cf:!0,uf:"virtio"},{id:"copy/skiffos",name:"SkiffOS",W:{url:n+
"skiffos/.iso",size:124672E3,async:!0,N:1048576,ia:!0},G:536870912},{id:"serenity",name:"SerenityOS",K:{url:n+"serenity-v3/.img.zst",size:734003200,async:!0,N:1048576,ia:!0},G:536870912,state:{url:n+"serenity_state-v4.bin.zst"},L:"https://serenityos.org/",Ob:!0},{id:"serenity-boot",name:"SerenityOS",K:{url:n+"serenity-v3/.img.zst",size:734003200,async:!0,N:1048576,ia:!0},G:536870912,L:"https://serenityos.org/"},{id:"redox",name:"Redox",K:{url:n+"redox_demo_i686_2022-11-26_643_harddrive/.img",size:536870912,
async:!0,N:1048576,ia:!0},G:536870912,state:{url:n+"redox_state.bin.zst"},L:"https://www.redox-os.org/",Ba:!0},{id:"redox-boot",name:"Redox",K:{url:n+"redox_demo_i686_2022-11-26_643_harddrive/.img",size:536870912,async:!0,N:1048576,ia:!0},G:536870912,L:"https://www.redox-os.org/",Ba:!0},{id:"helenos",G:268435456,W:{url:n+"HelenOS-0.14.1-ia32.iso",size:25792512,async:!1},name:"HelenOS",L:"http://www.helenos.org/"},{id:"fiwix",G:268435456,K:{url:n+"FiwixOS-3.3-i386/.img",size:1073741824,async:!0,N:1048576,
ia:!0},name:"FiwixOS",L:"https://www.fiwix.org/"},{id:"haiku",G:536870912,K:{url:n+"haiku-v3/.img",size:1073741824,async:!0,N:1048576,ia:!0},state:{url:n+"haiku_state-v3.bin.zst"},name:"Haiku",L:"https://www.haiku-os.org/"},{id:"haiku-boot",G:536870912,K:{url:n+"haiku-v3/.img",size:1073741824,async:!0,N:1048576,ia:!0},name:"Haiku",L:"https://www.haiku-os.org/"},{id:"msdos",K:{url:n+"msdos.img",size:8388608,async:!1},name:"MS-DOS"},{id:"freedos",X:{url:n+"freedos722.img",size:737280},name:"FreeDOS"},
{id:"freegem",K:{url:n+"freegem/.bin",size:209715200,async:!0,N:262144,ia:!0},name:"Freedos with FreeGEM"},{id:"psychdos",K:{url:n+"psychdos/.img",size:549453824,async:!0,N:262144,ia:!0},name:"PsychDOS",L:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},{id:"86dos",X:{url:n+"pc86dos.img",size:163840},name:"86-DOS",L:"https://www.os2museum.com/wp/pc-86-dos/"},{id:"oberon",K:{url:n+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",X:{url:n+"windows101.img",size:1474560},name:"Windows"},
{id:"windows2",K:{url:n+"windows2.img",size:4177920,async:!1},name:"Windows 2.03"},{id:"linux26",W:{url:n+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",W:{url:n+"linux3.iso",size:8638464,async:!1},name:"Linux"},{id:"linux4",W:{url:n+"linux4.iso",size:7731200,async:!1},name:"Linux",filesystem:{}},{id:"buildroot",Db:{url:n+"buildroot-bzimage.bin",size:5166352,async:!1},name:"Buildroot Linux",filesystem:{},Hb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"buildroot6",Db:{url:n+
"buildroot-bzimage68.bin",size:10068480,async:!1},name:"Buildroot Linux",filesystem:{},Hb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"basiclinux",K:{url:n+"bl3-5.img",size:104857600,async:!1},name:"BasicLinux"},{id:"xpud",W:{url:n+"xpud-0.9.2.iso",size:67108864,async:!1},name:"xPUD",G:268435456},{id:"elks",K:{url:n+"elks-hd32-fat.img",size:32514048,async:!1},name:"ELKS"},{id:"nodeos",Db:{url:n+"nodeos-kernel.bin",size:14452E3,async:!1},name:"NodeOS",Hb:"tsc=reliable mitigations=off random.trust_cpu=on"},
{id:"dsl",G:268435456,W:{url:n+"dsl-4.11.rc2.iso",size:52824064,async:!1},name:"Damn Small Linux",L:"http://www.damnsmalllinux.org/"},{id:"xwoaf",G:268435456,W:{url:n+"xwoaf_rebuild4.iso",size:2205696,async:!1},name:"xwoaf",L:"https://pupngo.dk/xwinflpy/xwoaf_rebuild.html"},{id:"minix",name:"Minix",G:268435456,W:{url:n+"minix-3.3.0/.iso",size:605581312,async:!0,N:1048576,ia:!0},L:"https://www.minix3.org/"},{id:"kolibrios",X:{url:l?n+"kolibri.img":"//builds.kolibrios.org/en_US/data/data/kolibri.img",
size:1474560},name:"KolibriOS",L:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",X:{url:n+"kolibri.img",size:1474560},name:"KolibriOS"},{id:"mu",K:{url:n+"mu-shell.img",size:10321920,async:!1},G:268435456,name:"Mu",L:"https://github.com/akkartik/mu"},{id:"openbsd",K:{url:n+"openbsd/.img",size:1073741824,async:!0,N:1048576,ia:!0},state:{url:n+"openbsd_state.bin.zst"},G:268435456,name:"OpenBSD"},{id:"sortix",W:{url:n+"sortix-1.0-i686.iso",size:71075840,async:!1},G:536870912,name:"Sortix"},{id:"openbsd-boot",
K:{url:n+"openbsd/.img",size:1073741824,async:!0,N:1048576,ia:!0},G:268435456,name:"OpenBSD"},{id:"netbsd",K:{url:n+"netbsd/.img",size:511000064,async:!0,N:1048576,ia:!0},G:268435456,name:"NetBSD"},{id:"crazierl",cc:{url:n+"crazierl-elf.img",size:896592,async:!1},Nb:{url:n+"crazierl-initrd.img",size:18448316,async:!1},Ba:!0,Hb:"kernel /libexec/ld-elf32.so.1",G:134217728,name:"Crazierl"},{id:"solos",X:{url:n+"os8.img",size:1474560},name:"Sol OS",L:"http://oby.ro/os/"},{id:"bootchess",X:{url:n+"bootchess.img",
size:1474560},name:"BootChess",L:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",X:{url:n+"bootbasic.img",size:512},name:"bootBASIC",L:"https://github.com/nanochess/bootBASIC"},{id:"bootlogo",X:{url:n+"bootlogo.img",size:512},name:"bootLogo",L:"https://github.com/nanochess/bootLogo"},{id:"sectorlisp",X:{url:n+"sectorlisp-friendly.bin",size:512},name:"SectorLISP",L:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",X:{url:n+"sectorforth.img",size:512},name:"sectorforth",L:"https://github.com/cesarblum/sectorforth"},
{id:"floppybird",X:{url:n+"floppybird.img",size:1474560},name:"Floppy Bird",L:"http://mihail.co/floppybird"},{id:"stillalive",X:{url:n+"stillalive-os.img",size:368640},name:"Still Alive",L:"https://github.com/maniekx86/stillalive-os"},{id:"hello-v86",X:{url:n+"hello-v86.img",size:512},name:"Hello v86"},{id:"tetros",X:{url:n+"tetros.img",size:512},name:"TetrOS",L:"https://github.com/daniel-e/tetros"},{id:"dino",X:{url:n+"bootdino.img",size:512},name:"dino",L:"https://github.com/franeklubi/dino"},{id:"bootrogue",
X:{url:n+"bootrogue.img",size:512},name:"bootRogue",L:"https://github.com/nanochess/bootRogue"},{id:"duskos",K:{url:n+"duskos.img",async:!1,size:8388608},name:"Dusk OS",L:"http://duskos.org/"},{id:"windows2000",G:536870912,K:{url:n+"windows2k/.img",size:2147483648,async:!0,N:262144,ia:!0},name:"Windows 2000",state:{url:n+"windows2k_state-v2.bin.zst"},Ob:!0},{id:"windows2000-boot",G:536870912,K:{url:n+"windows2k/.img",size:2147483648,async:!0,N:262144,ia:!0},name:"Windows 2000"},{id:"windowsnt4",G:536870912,
K:{url:n+"winnt4_noacpi/.img",size:523837440,async:!0,N:262144,ia:!0},name:"Windows NT 4.0",hd:2},{id:"windowsnt3",G:268435456,K:{url:n+"winnt31/.img",size:91226112,async:!0,N:262144,ia:!0},name:"Windows NT 3.1"},{id:"windows98",G:134217728,K:{url:n+"windows98/.img",size:314572800,async:!0,N:262144,ia:!0},name:"Windows 98",state:{url:n+"windows98_state.bin.zst"},Ob:!0},{id:"windows98-boot",G:134217728,K:{url:n+"windows98/.img",size:314572800,async:!0,N:262144,ia:!0},name:"Windows 98"},{id:"windows95",
G:67108864,K:{url:n+"windows95-v2/.img",size:471859200,async:!0,N:262144,ia:!0},name:"Windows 95"},{id:"windows95-boot",G:67108864,K:{url:n+"windows95-v2/.img",size:471859200,async:!0,N:262144,ia:!0},name:"Windows 95"},{id:"windows30",G:67108864,W:{url:n+"Win30.iso",size:7774208,async:!1},name:"Windows 3.0"},{id:"windows31",G:67108864,K:{url:n+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"tilck",G:134217728,K:{url:n+"tilck.img",async:!1,size:37748736},name:"Tilck",L:"https://github.com/vvaltchev/tilck"},
{id:"sanos",G:134217728,K:{url:n+"sanos-flp.img",async:!1,size:1474560},name:"sanos",L:"http://www.jbox.dk/sanos/"},{id:"freebsd",G:268435456,K:{url:n+"freebsd/.img",size:2147483648,async:!0,N:1048576,ia:!0},state:{url:n+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",G:268435456,K:{url:n+"freebsd/.img",size:2147483648,async:!0,N:1048576,ia:!0},name:"FreeBSD"},{id:"reactos",G:536870912,K:{url:n+"reactos/.img",size:524288E3,async:!0,N:1048576,ia:!0},state:{url:n+"reactos_state.bin.zst"},
Ob:!0,name:"ReactOS",L:"https://reactos.org/"},{id:"reactos-boot",G:536870912,K:{url:n+"reactos/.img",size:524288E3,async:!0,N:1048576,ia:!0},name:"ReactOS",L:"https://reactos.org/"},{id:"skift",W:{url:n+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",L:"https://skiftos.org/"},{id:"snowdrop",X:{url:n+"snowdrop.img",size:1474560},name:"Snowdrop",L:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",K:{url:n+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},
{id:"qnx",X:{url:n+"qnx-demo-network-4.05.img",size:1474560},name:"QNX 4.05"},{id:"9front",G:134217728,K:{url:n+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386/.iso",size:477452288,async:!0,N:1048576,ia:!0},state:{url:n+"9front_state-v2.bin.zst"},Ba:!0,name:"9front",L:"https://9front.org/"},{id:"9front-boot",G:134217728,K:{url:n+"9front-8963.f84cf1e60427675514fb056cc1723e45da01e043.386/.iso",size:477452288,async:!0,N:1048576,ia:!0},Ba:!0,name:"9front",L:"https://9front.org/"},{id:"mobius",
X:{url:n+"mobius-fd-release5.img",size:1474560},name:"Mobius"},{id:"android",G:536870912,W:{url:n+"android-x86-1.6-r2/.iso",size:54661120,async:!0,N:1048576,ia:!0},name:"Android"},{id:"android4",G:536870912,W:{url:n+"android_x86_nonsse3_4.4r1_20140904/.iso",size:247463936,async:!0,N:1048576,ia:!0},name:"Android"},{id:"tinycore",G:268435456,K:{url:n+"TinyCore-11.0.iso",size:19922944,async:!1},name:"Tinycore",L:"http://www.tinycorelinux.net/"},{id:"slitaz",G:536870912,K:{url:n+"slitaz-rolling-2024.iso",
size:56573952,async:!1},name:"SliTaz",L:"https://slitaz.org/"},{id:"freenos",G:268435456,W:{url:n+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",Ba:!0,L:"http://www.freenos.org/"},{id:"syllable",G:536870912,K:{url:n+"syllable-destop-0.6.7/.img",async:!0,size:524288E3,N:524288,ia:!0},name:"Syllable",L:"http://syllable.metaproject.frl/"},{id:"toaruos",G:536870912,W:{url:n+"toaruos-1.6.1-core.iso",size:67567616,async:!1},name:"ToaruOS",Ba:!0,L:"https://toaruos.org/"},{id:"nopeos",W:{url:n+
"nopeos-0.1.iso",size:532480,async:!1},name:"Nope OS",L:"https://github.com/d99kris/nopeos"},{id:"soso",W:{url:n+"soso.iso",size:22546432,async:!1},name:"Soso",L:"https://github.com/ozkl/soso"},{id:"pcmos",X:{url:n+"PCMOS386-9-user-patched.img",size:1474560},name:"PC-MOS/386",L:"https://github.com/roelandjansen/pcmos386v501"},{id:"jx",X:{url:n+"jx-demo.img",size:1474560},name:"JX",L:"https://www4.cs.fau.de/Projects/JX/index.html"},{id:"house",X:{url:n+"hOp-0.8.img",size:1474560},name:"House",L:"https://programatica.cs.pdx.edu/House/"},
{id:"bleskos",name:"BleskOS",W:{url:n+"bleskos_2024u32.iso",size:1835008,async:!1},L:"https://github.com/VendelinSlezak/BleskOS"},{id:"boneos",name:"BoneOS",W:{url:n+"BoneOS.iso",size:11429888,async:!1},L:"https://amanuel.io/projects/BoneOS/"},{id:"mikeos",name:"MikeOS",W:{url:n+"mikeos.iso",size:3311616,async:!1},L:"https://mikeos.sourceforge.net/"},{id:"bluejay",name:"Blue Jay",X:{url:n+"bj050.img",size:1474560},L:"https://archiveos.org/blue-jay/"},{id:"t3xforth",name:"T3XFORTH",X:{url:n+"t3xforth.img",
size:1474560},L:"https://t3x.org/t3xforth/"},{id:"nanoshell",name:"NanoShell",W:{url:n+"nanoshell.iso",size:6785024,async:!1},L:"https://github.com/iProgramMC/NanoShellOS"},{id:"catk",name:"CatK",W:{url:n+"catkernel.iso",size:11968512,async:!1},L:"https://catk.neocities.org/"},{id:"mcp",name:"M/CP",X:{url:n+"mcp2.img",size:512},L:"https://github.com/ybuzoku/MCP"},{id:"ibm-exploring",name:"Exploring The IBM Personal Computer",X:{url:n+"ibm-exploring.img",size:368640}},{id:"leetos",name:"lEEt/OS",X:{url:n+
"leetos.img",size:1474560},L:"http://sininenankka.dy.fi/leetos/index.php"},{id:"newos",name:"NewOS",X:{url:n+"newos-flp.img",size:1474560,async:!1},L:"https://newos.org/"},{id:"aros-broadway",name:"AROS Broadway",G:536870912,W:{url:n+"broadway10/.iso",size:742051840,async:!0,N:524288,ia:!0},L:"https://web.archive.org/web/20231109224346/http://www.aros-broadway.de/"},{id:"icaros",name:"Icaros Desktop",G:536870912,W:{url:n+"icaros-pc-i386-2.3/.iso",size:726511616,async:!0,N:524288,ia:!0},L:"http://vmwaros.blogspot.com/"},
{id:"tinyaros",name:"Tiny Aros",G:536870912,W:{url:n+"tinyaros-pc-i386/.iso",size:111175680,async:!0,N:524288,ia:!0},L:"https://www.tinyaros.it/"}];var z=r.get("profile");if(!z){var q=document.createElement("link");q.rel="prefetch";q.href="build/v86.wasm";document.head.appendChild(q)}q=document.createElement("link");q.rel="prefetch";q.href="build/xterm.js";document.head.appendChild(q);for(const u of n){if(z===u.id){e(u,r);return}const y=c("start_"+u.id);y&&(y.onclick=F=>{F.preventDefault();y.blur();
e(u,null)})}if("custom"===z)r.has("hda.url")||r.has("cdrom.url")||r.has("fda.url")?e(null,r):(r.has("m")&&(c("memory_size").value=r.get("m")),r.has("vram")&&(c("vga_memory_size").value=r.get("vram")),r.has("relay_url")&&(c("relay_url").value=r.get("relay_url")),r.has("mute")&&(c("disable_audio").checked=b(r.get("mute"))),r.has("acpi")&&(c("acpi").checked=b(r.get("acpi"))),r.has("boot_order")&&(c("boot_order").value=r.get("boot_order")));else if(/^[a-zA-Z0-9\-_]+\/[a-zA-Z0-9\-_]+$/g.test(z)){const u=
"https://v86-user-images.b-cdn.net/"+z;fetch(u+"/profile.json").catch(()=>alert("Profile not found: "+z)).then(y=>y.json()).then(y=>{function F(P){return P&&{url:u+"/"+P.url,async:P.async,size:P.size}}y={id:y.id,name:y.name,G:y.memory_size,pa:y.vga_memory_size,Ba:y.acpi,Gb:y.boot_order,K:F(y.hda),W:F(y.cdrom),X:F(y.fda),cc:F(y.multiboot),Db:F(y.bzimage),Nb:F(y.initrd)};e(y,r)})}}else alert("Your browser is not supported because it doesn't support WebAssembly")}function e(r,n){c("boot_options").style.display=
"none";const z=new URLSearchParams({profile:r?.id||"custom"}),q={};if(r&&(r.state&&(c("reset").style.display="none"),a(r.name),q.Ac=r.state,q.filesystem=r.filesystem,q.X=r.X,q.W=r.W,q.K=r.K,q.cc=r.cc,q.Db=r.Db,q.Nb=r.Nb,q.Hb=r.Hb,q.cf=r.cf,q.Ob=r.Ob,q.hd=r.hd,q.Ba=r.Ba,q.G=r.G,q.pa=r.pa,q.Gb=r.Gb,q.uf=r.uf,r.L)){c("description").style.display="block";var u=document.createElement("a");u.href=r.L;u.textContent=r.name;u.target="_blank";c("description").append(document.createTextNode("Running "),u)}n&&
(q.Ac||(u=parseInt(n.get("chunk_size"),10),0<=u?(u=Math.min(4194304,Math.max(512,u)),u=Wa(u)):u=262144,n.has("hda.url")&&(q.K={size:parseInt(n.get("hda.size"),10)||void 0,url:n.get("hda.url"),N:u,async:!0}),n.has("cdrom.url")&&(q.W={size:parseInt(n.get("cdrom.size"),10)||void 0,url:n.get("cdrom.url"),N:u,async:!0}),n.has("fda.url")&&(q.X={size:parseInt(n.get("fda.size"),10)||void 0,url:n.get("fda.url"),async:!1}),u=parseInt(n.get("m"),10),0<u&&(q.G=1048576*Math.max(16,u)),u=parseInt(n.get("vram"),
10),0<u&&(q.pa=1048576*u),q.Ba=n.has("acpi")?b(n.get("acpi")):void 0,q.Zk="bochs"===n.get("bios"),q.uf="virtio"===n.get("net_device_type")?"virtio":"ne2k"),q.te=n.get("relay_url"),q.ff=b(n.get("disable_jit")),q.Tf=b(n.get("mute")));q.te||(q.te=c("relay_url").value,m.includes(q.te)||z.append("relay_url",q.te));q.Tf=c("disable_audio").checked||q.Tf;q.Tf&&z.append("mute","1");if(!q.Ac){if(u=c("bios").files[0])q.Cb={buffer:u};var y=c("floppy_image").files[0];y&&(q.X={buffer:y});const G=c("cdrom_image").files[0];
G&&(q.W={buffer:G});const Q=c("hda_image").files[0];Q&&(q.K={buffer:Q});const N=c("hdb_image")?.files[0];N&&(q.Nc={buffer:N});const B=c("multiboot_image")?.files[0];B&&(q.cc={buffer:B});var F=c("bzimage").files[0];F&&(q.Db={buffer:F});if(F=c("initrd").files[0])q.Nb={buffer:F};(u=B?.name||Q?.name||G?.name||N?.name||y?.name||u?.name)&&a(u);u=parseInt(c("memory_size").value,10)||128;q.G&&128===u||(q.G=1048576*u);128!==u&&z.append("m",String(u));u=parseInt(c("vga_memory_size").value,10)||8;q.pa&&8===
u||(q.pa=1048576*u);8!==u&&z.append("vram",String(u));u=parseInt(c("boot_order").value,16)||0;q.Gb&&0===u||(q.Gb=u);0!==q.Gb&&z.append("boot_order",String(q.Gb));void 0===q.Ba&&(q.Ba=c("acpi").checked,q.Ba&&z.append("acpi","1"));q.Cb||(q.Zk?(u="bochs-bios.bin",y="bochs-vgabios.bin"):(u="seabios.bin",y="vgabios.bin"),q.Cb={url:"bios/"+u},q.Hf={url:"bios/"+y})}n||k(z);const P=new Xa({screen:{Qf:c("screen_container"),ji:!1},Ne:{type:q.uf||"ne2k",te:q.te},zi:!0,G:q.G,pa:q.pa,Gb:q.Gb,Cb:q.Cb,Hf:q.Hf,X:q.X,
K:q.K,Nc:q.Nc,W:q.W,cc:q.cc,Db:q.Db,Nb:q.Nb,Hb:q.Hb,cf:q.cf,Ba:q.Ba,ff:q.ff,Ac:q.Ac,filesystem:q.filesystem||{},Pi:q.Tf,Ob:q.Ob,hd:q.hd});L(P,"emulator-ready",function(){if(P.Qa.u.Ma.exports.profiler_is_enabled()){const G=document.createElement("pre");document.body.appendChild(G);setInterval(function(){if(P.ce()){var Q=Ya.Vk(P.Qa.u);G.textContent=Q}},1E3)}["dsl","helenos","android","android4"].includes(r?.id)&&setTimeout(()=>{Za(P,"\n")},3E3);f(q,P);n?.has("c")&&setTimeout(function(){Za(P,n.get("c")+
"\n")},25);n?.has("s")&&setTimeout(function(){for(var G=n.get("s")+"\n",Q=0;Q<G.length;Q++)P.v.send("serial0-input",G.charCodeAt(Q))},25)});L(P,"download-progress",function(G){const Q=c("loading");Q.style.display="block";if(G.nf.endsWith(".wasm")){var N=G.nf.split("/");Q.textContent="Fetching "+N[N.length-1]+" ..."}else if(G.mf===G.lf-1&&G.loaded>=G.total-2048)Q.textContent="Done downloading. Starting now ...";else{N="Downloading images ";"number"===typeof G.mf&&G.lf&&(N+="["+(G.mf+1)+"/"+G.lf+"] ");
if(G.total&&"number"===typeof G.loaded){G=Math.floor(G.loaded/G.total*100);G=Math.min(100,Math.max(0,G));var B=Math.floor(G/2);N=N+(G+"% [")+"#".repeat(B);N+=" ".repeat(50-B)+"]"}else N+=".".repeat(p++%50);Q.textContent=N}});L(P,"download-error",function(G){const Q=c("loading");Q.style.display="block";Q.textContent=`Loading ${G.nf} failed. Check your connection and reload the page to try again.`})}function f(r,n){function z(){var A=Date.now(),I=n.Qa?n.Qa.u.jj[0]>>>0:0;I<G&&(G-=4294967296);var H=I-
G;G=I;B+=H;if(I=A-F)P+=I,F=A,c("speed").textContent=(H/1E3/I).toFixed(1),c("avg_speed").textContent=(B/1E3/P).toFixed(1),A=c("running_time"),H=P/1E3|0,A.textContent=60>H?H+"s":3600>H?(H/60|0)+"m "+$a(H%60,2)+"s":(H/3600|0)+"h "+$a((H/60|0)%60,2)+"m "+$a(H%60,2)+"s"}function q(A,I,H){var T=c("get_"+H+"_image");!A||104857600<A.size?T.style.display="none":T.onclick=function(){const fa=I.file&&I.file.name||r.id+("cdrom"===H?".iso":".img");if(I.th){var pb=I.th(fa);ab(pb,fa)}else I.ac(function(Tb){Tb?bb(Tb,
fa):alert("The file could not be loaded. Maybe it's too big?")});T.blur()}}function u(A){A.ctrlKey?window.onbeforeunload=function(){window.onbeforeunload=null;return"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}c("loading").style.display="none";c("runtime_options").style.display="block";c("runtime_infos").style.display="block";c("screen_container").style.display="block";r.filesystem?g(n):L(n,"9p-attach",function(){g(n)});c("run").onclick=function(){n.ce()?(c("run").value="Run",
n.stop()):(c("run").value="Pause",n.Af());c("run").blur()};c("exit").onclick=function(){n.stop();location.href=location.pathname};c("lock_mouse").onclick=function(){if(!y)c("toggle_mouse").onclick();cb();c("lock_mouse").blur()};var y=!0;c("toggle_mouse").onclick=function(){y=!y;n.i&&(n.i.Vf=y);c("toggle_mouse").value=(y?"Dis":"En")+"able mouse";c("toggle_mouse").blur()};var F=0,P=0,G=0,Q=null,N=!1,B=0;L(n,"emulator-started",function(){F=Date.now();Q=setInterval(z,1E3)});L(n,"emulator-stopped",function(){z();
null!==Q&&clearInterval(Q)});var C=0,S=0,K=[];L(n,"9p-read-start",function(A){A=A[0];K.push(A);c("info_filesystem").style.display="block";c("info_filesystem_status").textContent="Loading ...";c("info_filesystem_last_file").textContent=A});L(n,"9p-read-end",function(A){C+=A[1];c("info_filesystem_bytes_read").textContent=C;const I=A[0];K=K.filter(H=>H!==I);K[0]?c("info_filesystem_last_file").textContent=K[0]:c("info_filesystem_status").textContent="Idle"});L(n,"9p-write-end",function(A){S+=A[1];c("info_filesystem_bytes_written").textContent=
S;K[0]||(c("info_filesystem_last_file").textContent=A[0])});var X=0,Y=0,ea=0,ta=0;c("ide_type").textContent=n.ub.W?" (CD-ROM)":" (hard disk)";L(n,"ide-read-start",function(){c("info_storage").style.display="block";c("info_storage_status").textContent="Loading ..."});L(n,"ide-read-end",function(A){X+=A[1];Y+=A[2];c("info_storage_status").textContent="Idle";c("info_storage_bytes_read").textContent=X;c("info_storage_sectors_read").textContent=Y});L(n,"ide-write-end",function(A){ea+=A[1];ta+=A[2];c("info_storage_bytes_written").textContent=
ea;c("info_storage_sectors_written").textContent=ta});var pa=0,Aa=0;L(n,"eth-receive-end",function(A){Aa+=A[0];c("info_network").style.display="block";c("info_network_bytes_received").textContent=Aa});L(n,"eth-transmit-end",function(A){pa+=A[0];c("info_network").style.display="block";c("info_network_bytes_transmitted").textContent=pa});L(n,"mouse-enable",function(A){N=A;c("info_mouse_enabled").textContent=A?"Yes":"No"});L(n,"screen-set-size",function(A){const [I,H,T]=A;c("info_res").textContent=I+
"x"+H+(T?"x"+T:"");c("info_vga_mode").textContent=T?"Graphical":"Text"});c("reset").onclick=function(){n.Kg();c("reset").blur()};q(r.K,n.ub.K,"hda");q(r.Nc,n.ub.Nc,"hdb");q(r.X,n.ub.X,"fda");q(r.Je,n.ub.Je,"fdb");q(r.W,n.ub.W,"cdrom");c("change_fda_image").value=r.X?"Eject floppy image":"Insert floppy image";c("change_fda_image").onclick=function(){if(n.Qa.u.B.ae.ld)n.Uf(),c("change_fda_image").value="Insert floppy image";else{const A=document.createElement("input");A.type="file";A.onchange=async function(){const I=
A.files[0];I&&(await n.Cf({buffer:I}),c("change_fda_image").value="Eject floppy image")};A.click()}c("change_fda_image").blur()};c("memory_dump").onclick=function(){const A=n.Qa.u.pb;bb(new Uint8Array(A.buffer,A.byteOffset,A.length),"v86memory.bin");c("memory_dump").blur()};c("capture_network_traffic").onclick=function(){function A(H,T){var fa=I,pb=fa.push,Tb=performance.now()/1E3;const zc=[];let qa=0;for(;qa+15<T.length;qa+=16){var ua=$a(qa.toString(16).toUpperCase(),5)+"   ";for(var va=0;16>va;va++)ua+=
$a(T[qa+va].toString(16).toUpperCase(),2)+" ";ua+="  ";for(va=0;16>va;va++){var Ca=T[qa+va];ua+=33<=Ca&&34!==Ca&&92!==Ca&&126>=Ca?String.fromCharCode(Ca):"."}zc.push(ua)}for(ua=$a(qa.toString(16).toUpperCase(),5)+"   ";qa<T.length;qa++)ua+=$a(T[qa].toString(16).toUpperCase(),2)+" ";va=qa&15;ua+="   ".repeat(16-va);ua+="  ";for(Ca=0;Ca<va;Ca++){const rb=T[qa+Ca];ua+=33<=rb&&34!==rb&&92!==rb&&126>=rb?String.fromCharCode(rb):"."}zc.push(ua);pb.call(fa,{direction:H,time:Tb,hj:"\n"+zc.join("\n")+"\n"});
c("capture_network_traffic").value=I.length+" packets"}this.value="0 packets";let I=[];n.$d.register("net0-receive",A.bind(this,"I"));L(n,"net0-send",A.bind(this,"O"));this.onclick=function(){const H=I.map(({direction:T,time:fa,hj:pb})=>T+" "+fa.toFixed(6)+pb+"\n").join("");bb(H,"traffic.hex");I=[];this.value="0 packets"}};c("save_state").onclick=async function(){const A=await n.Bf();bb(A,"v86state.bin");c("save_state").blur()};c("load_state").onclick=function(){c("load_state_input").click();c("load_state").blur()};
c("load_state_input").onchange=async function(){var A=this.files[0];if(A){var I=n.ce();I&&await n.stop();var H=new FileReader;H.onload=async function(T){try{await n.Re(T.target.result)}catch(fa){throw alert("Something bad happened while restoring the state:\n"+fa+"\n\nNote that the current configuration must be the same as the original"),fa;}I&&n.Af()};H.readAsArrayBuffer(A);this.value=""}};c("ctrlaltdel").onclick=function(){db(n,[29,56,83,157,184,211]);c("ctrlaltdel").blur()};c("alttab").onclick=
function(){db(n,[56,15]);setTimeout(function(){db(n,[184,143])},100);c("alttab").blur()};c("scale").onchange=function(){var A=parseFloat(this.value);(A||0<A)&&n.fc&&n.fc.Og(A,A)};c("fullscreen").onclick=function(){if(n.fc){var A=document.getElementById("screen_container");if(A){var I=A.requestFullScreen||A.webkitRequestFullscreen||A.mozRequestFullScreen||A.msRequestFullScreen;I&&(I.call(A),(A=document.getElementsByClassName("phone_keyboard")[0])&&A.focus());try{navigator.keyboard.lock()}catch(H){}cb()}}};
c("screen_container").onclick=function(){if(y&&N)cb();else if(window.getSelection().isCollapsed){const A=document.getElementsByClassName("phone_keyboard")[0];A.style.top=document.body.scrollTop+100+"px";A.style.left=document.body.scrollLeft+100+"px";A.focus()}};const Da=document.getElementsByClassName("phone_keyboard")[0];Da.setAttribute("autocorrect","off");Da.setAttribute("autocapitalize","off");Da.setAttribute("spellcheck","false");Da.tabIndex=0;c("screen_container").addEventListener("mousedown",
()=>{Da.focus()},!1);c("take_screenshot").onclick=function(){const A=n.fc?n.fc.mj():null;try{window.open("").document.write(A.outerHTML)}catch(I){}c("take_screenshot").blur()};if(n.h){let A=!1;c("mute").onclick=function(){A?(n.h.ag.ng(1,void 0),A=!1,c("mute").value="Mute"):(n.h.ag.ng(0,void 0),A=!0,c("mute").value="Unmute");c("mute").blur()}}else c("mute").remove();window.addEventListener("keydown",u,!1);window.addEventListener("keyup",u,!1);window.addEventListener("blur",u,!1);const Ra=document.createElement("script");
Ra.src="build/xterm.js";Ra.async=!0;Ra.onload=function(){var A=c("terminal");n.hc&&n.hc.va&&n.hc.va();n.hc=new eb(A,n.v);n.hc.show()};document.body.appendChild(Ra)}function g(r){c("filesystem_panel").style.display="block";c("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,function(n){var z=new fb(n);z.onload=function(){z.ac(async function(q){await r.Ii("/"+n.name,new Uint8Array(q))})};z.load()},this);this.value="";this.blur()};c("filesystem_get_file").onkeypress=
async function(n){if(13===n.which){this.disabled=!0;try{var z=await r.zf(this.value)}catch(q){console.log(q)}this.disabled=!1;z?(n=this.value.replace(/\/$/,"").split("/"),n=n[n.length-1]||"root",bb(z,n),this.value=""):alert("Can't read file")}}}function h(){location.reload()}function k(r){window.history.pushState&&(r="?"+r.toString(),window.history.pushState({search:r},"",r))}const l=!location.hostname.endsWith("copy.sh"),m=["wss://relay.widgetry.org/","ws://localhost:8080/"];let p=0;const w="memory_size video_memory_size networking_proxy disable_audio enable_acpi boot_order".split(" ");
for(const r of w)try{window.localStorage.removeItem(r)}catch(n){}window.addEventListener("load",d,!1);window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",h)},0)});"complete"===document.readyState&&d()})();function gb(a){this.ports=[];this.u=a;for(var b=0;65536>b;b++)this.ports[b]=hb(this);var c=a.G[0];for(b=0;b<<17<c;b++)a.g[b]=a.j[b]=void 0,a.aa[b]=a.i[b]=void 0;ib(this,c,4294967296-c,function(){return 255},function(){},function(){return-1},function(){})}function hb(a){return{re:a.aj,fb:a.Zi,yf:a.$i,tg:a.yg,Kf:a.yg,Aa:a.yg,ya:void 0}}t=gb.prototype;t.aj=function(){return 255};t.Zi=function(){return 65535};t.$i=function(){return-1};t.yg=function(){};
function M(a,b,c,d,e,f){d&&(a.ports[b].re=d);e&&(a.ports[b].fb=e);f&&(a.ports[b].yf=f);a.ports[b].ya=c}function O(a,b,c,d,e,f){d&&(a.ports[b].tg=d);e&&(a.ports[b].Kf=e);f&&(a.ports[b].Aa=f);a.ports[b].ya=c}
t.se=function(a,b,c,d,e,f){function g(){return c.call(this)|d.call(this)<<8}function h(){return e.call(this)|f.call(this)<<8}function k(){return c.call(this)|d.call(this)<<8|e.call(this)<<16|f.call(this)<<24}e&&f?(M(this,a,b,c,g,k),M(this,a+1,b,d),M(this,a+2,b,e,h),M(this,a+3,b,f)):(M(this,a,b,c,g),M(this,a+1,b,d))};
t.ad=function(a,b,c,d,e,f){function g(l){c.call(this,l&255);d.call(this,l>>8&255)}function h(l){e.call(this,l&255);f.call(this,l>>8&255)}function k(l){c.call(this,l&255);d.call(this,l>>8&255);e.call(this,l>>16&255);f.call(this,l>>>24)}e&&f?(O(this,a,b,c,g,k),O(this,a+1,b,d),O(this,a+2,b,e,h),O(this,a+3,b,f)):(O(this,a,b,c,g),O(this,a+1,b,d))};t.nj=function(a){var b=this.u.g[a>>>17];return b(a)|b(a+1)<<8|b(a+2)<<16|b(a+3)<<24};
t.oj=function(a,b){var c=this.u.j[a>>>17];c(a,b&255);c(a+1,b>>8&255);c(a+2,b>>16&255);c(a+3,b>>>24)};function ib(a,b,c,d,e,f,g){f||(f=a.nj.bind(a));g||(g=a.oj.bind(a));for(b>>>=17;0<c;b++)a.u.g[b]=d,a.u.j[b]=e,a.u.aa[b]=f,a.u.i[b]=g,c-=131072}function jb(a,b){a=a.ports[b];return a.yf.call(a.ya)};function kb(a,b){this.i=this.h=!1;this.l=!0;this.j=0;this.g=null;this.u=new lb(a,b,()=>{this.l&&mb(this,0)});this.v=a;this.o()}t=kb.prototype;t.Af=function(){this.i=!1;this.h||(this.h=!0,this.v.send("emulator-started"));mb(this,0)};function nb(a){if(a.i||!a.h)a.i=a.h=!1,a.v.send("emulator-stopped");else{a.l=!1;var b=a.u.Jd();mb(a,b)}}function mb(a,b){const c=++a.j;a.l=!0;a.A(b,c)}t.stop=function(){this.h&&(this.i=!0)};t.va=function(){this.s()};t.Kg=function(){this.u.o();ob(this.u)};
t.Mb=function(a){this.u.Mb(a,this.v);this.v.send("emulator-ready")};
if("undefined"!==typeof process)kb.prototype.A=function(a,b){1>a?global.setImmediate(c=>{c===this.j&&nb(this)},b):setTimeout(c=>{c===this.j&&nb(this)},a,b)},kb.prototype.o=function(){},kb.prototype.s=function(){};else if("undefined"!==typeof Worker){function a(){let b;globalThis.onmessage=function(c){const d=c.data.t;b=b&&clearTimeout(b);1>d?postMessage(c.data.ii):b=setTimeout(()=>postMessage(c.data.ii),d)}}kb.prototype.o=function(){const b=URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"}));
this.g=new Worker(b);this.g.onmessage=c=>{c.data===this.j&&nb(this)};URL.revokeObjectURL(b)};kb.prototype.A=function(b,c){this.g.postMessage({t:b,ii:c})};kb.prototype.s=function(){this.g&&this.g.terminate();this.g=null}}else kb.prototype.A=function(a){setTimeout(()=>{nb(this)},a)},kb.prototype.o=function(){},kb.prototype.s=function(){};kb.prototype.Bf=function(){return this.u.Bf()};kb.prototype.Re=function(a){return this.u.Re(a)};
if("object"===typeof performance&&performance.now)var qb=performance.now.bind(performance);else if("function"===typeof require){const {performance:a}=require("perf_hooks");qb=a.now.bind(a)}else"object"===typeof process&&process.hrtime?qb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:qb=Date.now;var fb,sb,tb,ub,vb,wb,xb;function yb(a,b){return(a||0===a?a+"":"").padEnd(b," ")}function $a(a,b){return(a||0===a?a+"":"").padStart(b,"0")}function R(a,b,c,d){return new Proxy({},{get:function(e,f){e=new a(b.buffer,c,d);f=e[f];return"function"===typeof f?f.bind(e):f},set:function(e,f,g){(new a(b.buffer,c,d))[f]=g;return!0}})}function zb(a,b){return"0x"+$a((a?a.toString(16):"").toUpperCase(),b||1)}
if("undefined"!==typeof crypto&&crypto.getRandomValues){const a=new Int32Array(1);var Ab=function(){crypto.getRandomValues(a);return a[0]}}else if("undefined"!==typeof require){const a=require("crypto");Ab=function(){return a.Kl(4).readInt32LE(0)}}
(function(){if("function"===typeof Math.clz32)sb=function(d){return 31-Math.clz32(d)};else{for(var a=new Int8Array(256),b=0,c=-2;256>b;b++)b&b-1||c++,a[b]=c;sb=function(d){d>>>=0;var e=d>>>16;if(e){var f=e>>>8;return f?24+a[f]:16+a[e]}return(f=d>>>8)?8+a[f]:a[d]}}})();function Wa(a){return 1>=a?1:1<<1+sb(a-1)}
function Bb(a){var b=new Uint8Array(a),c,d;this.length=0;this.push=function(e){this.length!==a&&this.length++;b[d]=e;d=d+1&a-1};this.shift=function(){if(this.length){var e=b[c];c=c+1&a-1;this.length--;return e}return-1};this.clear=function(){this.length=d=c=0};this.clear()}function Cb(){this.size=65536;this.data=new Float32Array(65536);this.length=this.end=this.start=0}
Cb.prototype.push=function(a){this.length===this.size?this.start=this.start+1&this.size-1:this.length++;this.data[this.end]=a;this.end=this.end+1&this.size-1};Cb.prototype.shift=function(){if(this.length){var a=this.data[this.start];this.start=this.start+1&this.size-1;this.length--;return a}};
function Db(a,b){var c=new Float32Array(b);b>a.length&&(b=a.length);var d=a.start+b,e=a.data.subarray(a.start,d);c.set(e);d>=a.size&&(d-=a.size,c.set(a.data.subarray(0,d),e.length));a.start=d;a.length-=b;return c}Cb.prototype.clear=function(){this.length=this.end=this.start=0};function bb(a,b){a instanceof Array||(a=[a]);ab(new Blob(a),b)}
function ab(a,b){var c=document.createElement("a");c.download=b;c.href=window.URL.createObjectURL(a);c.dataset.downloadurl=["application/octet-stream",c.download,c.href].join(":");document.createEvent?(a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(a)):c.click();window.URL.revokeObjectURL(c.href)}function Eb(a){"number"===typeof a?this.view=new Uint8Array(a+7>>3):a instanceof ArrayBuffer&&(this.view=new Uint8Array(a))}
Eb.prototype.set=function(a,b){const c=a>>3;a=1<<(a&7);this.view[c]=b?this.view[c]|a:this.view[c]&~a};Eb.prototype.get=function(a){return this.view[a>>3]>>(a&7)&1};Eb.prototype.ac=function(){return this.view.buffer};var Hb="undefined"===typeof XMLHttpRequest?Fb:Gb;
function Gb(a,b,c){function d(){const k=c||0;setTimeout(()=>{Gb(a,b,k+1)},1E3*([1,1,2,3,5,8,13,21][k]||34))}var e=new XMLHttpRequest;e.open(b.method||"get",a,!0);e.responseType=b.De?"json":"arraybuffer";if(b.headers)for(var f=Object.keys(b.headers),g=0;g<f.length;g++){var h=f[g];e.setRequestHeader(h,b.headers[h])}b.qe&&(f=b.qe.start,e.setRequestHeader("Range","bytes="+f+"-"+(f+b.qe.length-1)),e.setRequestHeader("X-Accept-Encoding","identity"),e.onreadystatechange=function(){200===e.status&&e.abort()});
e.onload=function(){if(4===e.readyState)if(200!==e.status&&206!==e.status)console.error("Loading the image "+a+" failed (status %d)",e.status),500<=e.status&&600>e.status&&d();else if(e.response){if(b.qe){const k=e.getResponseHeader("Content-Encoding");k&&"identity"!==k&&console.error("Server sent Content-Encoding in response to ranged request",{filename:a,xl:k})}b.done&&b.done(e.response,e)}};e.onerror=function(k){console.error("Loading the image "+a+" failed",k);d()};b.progress&&(e.onprogress=function(k){b.progress(k)});
e.send(null)}function Fb(a,b){const c=require("fs");b.qe?c.open(a,"r",(d,e)=>{if(d)throw d;d=b.qe.length;var f=Buffer.allocUnsafe(d);c.read(e,f,0,d,b.qe.start,g=>{if(g)throw g;b.done&&b.done(new Uint8Array(f));c.close(e,h=>{if(h)throw h;})})}):c.readFile(a,{encoding:b.De?"utf-8":null},function(d,e){d?console.log("Could not read file:",a,d):(d=e,b.De?d=JSON.parse(d):d=(new Uint8Array(d)).buffer,b.done(d))})};(function(){function a(g){this.buffer=g;this.byteLength=g.byteLength;this.onload=void 0}function b(g,h,k){this.filename=g;this.byteLength=h;this.g=new Map;this.i=new Set;this.N=k;this.s=!!k;this.onload=void 0}function c(g,h,k,l,m){const p=g.match(/\.[^\.]+(\.zst)?$/);this.j=p?p[0]:"";this.h=g.substring(0,g.length-this.j.length);this.D=this.j.endsWith(".zst");this.h.endsWith("/")||(this.h+="-");this.g=new Map;this.i=new Set;this.byteLength=h;this.N=k;this.F=!!l;this.A=m;this.s=!!k;this.onload=void 0}
function d(g){this.file=g;this.byteLength=g.size;1073741824<g.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(g.size>>20)+" MB ...");this.buffer=new ArrayBuffer(g.size);this.onload=void 0}function e(g){this.file=g;this.byteLength=g.size;this.g=new Map;this.i=new Set;this.onload=void 0}tb=a;wb=b;vb=c;ub=e;fb=d;xb=function(g,h){if(g.buffer instanceof ArrayBuffer)return new tb(g.buffer);if("undefined"!==typeof File&&g.buffer instanceof File)return h=g.async,void 0===h&&(h=268435456<=g.buffer.size),
h?new ub(g.buffer):new fb(g.buffer);if(g.url)return g.ia?new vb(g.url,g.size,g.N,!1,h):new wb(g.url,g.size,g.N)};a.prototype.load=function(){this.onload&&this.onload({buffer:this.buffer})};a.prototype.get=function(g,h,k){k(new Uint8Array(this.buffer,g,h))};a.prototype.set=function(g,h,k){(new Uint8Array(this.buffer,g,h.byteLength)).set(h);k()};a.prototype.ac=function(g){g(this.buffer)};a.prototype.ga=function(){const g=[];g[0]=this.byteLength;g[1]=new Uint8Array(this.buffer);return g};a.prototype.H=
function(g){this.byteLength=g[0];this.buffer=g[1].slice().buffer};b.prototype.load=function(){void 0!==this.byteLength?this.onload&&this.onload(Object.create(null)):f(this.filename,(g,h)=>{if(g)throw Error("Cannot use: "+this.filename+". "+g);this.byteLength=h;this.onload&&this.onload(Object.create(null))})};b.prototype.h=function(g,h){var k=h/256;g/=256;for(var l=0;l<k;l++)if(!this.g.get(g+l))return;if(1===k)return this.g.get(g);h=new Uint8Array(h);for(l=0;l<k;l++)h.set(this.g.get(g+l),256*l);return h};
b.prototype.get=function(g,h,k){var l=this.h(g,h);if(l)k(l);else{var m=g,p=h;this.N&&(m=g-g%this.N,p=Math.ceil((g-m+h)/this.N)*this.N);Hb(this.filename,{done:function(w){w=new Uint8Array(w);this.j(m,p,w);m===g&&p===h?k(w):k(w.subarray(g-m,g-m+h))}.bind(this),qe:{start:m,length:p}})}};b.prototype.set=function(g,h,k){g/=256;for(var l=h.length/256,m=0;m<l;m++){var p=this.g.get(g+m);void 0===p?this.g.set(g+m,h.slice(256*m,256*(m+1))):p.set(h.subarray(256*m,256*(m+1)));this.i.add(g+m)}k()};b.prototype.j=
function(g,h,k){g/=256;h/=256;for(var l=0;l<h;l++){const m=this.g.get(g+l);m?k.set(m,256*l):this.s&&this.g.set(g+l,k.slice(256*l,256*(l+1)))}};b.prototype.ac=function(g){g()};b.prototype.ga=function(){const g=[],h=[];for(const [k,l]of this.g)this.i.has(k)&&h.push([k,l]);g[0]=h;return g};b.prototype.H=function(g){g=g[0];this.g.clear();this.i.clear();for(const [h,k]of g)this.g.set(h,k),this.i.add(h)};c.prototype.load=function(){this.onload&&this.onload(Object.create(null))};c.prototype.get=function(g,
h,k){var l=this.l(g,h);if(l)k(l);else if(this.N){const p=Math.floor(g/this.N),w=g-p*this.N,r=Math.ceil((w+h)/this.N),n=new Uint8Array(r*this.N);let z=0;for(let q=0;q<r;q++){var m=(p+q)*this.N;l=this.F?this.h+(p+q+"").padStart(8,"0")+this.j:this.h+m+"-"+(m+this.N)+this.j;(m=this.l(m,this.N))?(n.set(m,q*this.N),z++,z===r&&k(n.subarray(w,w+h))):Hb(l,{done:async function(u){u=new Uint8Array(u);this.D&&(u=await this.A(this.N,u),u=new Uint8Array(u));n.set(u,q*this.N);this.o((p+q)*this.N,this.N|0,u);z++;
z===r&&k(n.subarray(w,w+h))}.bind(this)})}}else Hb(this.h+g+"-"+(g+h)+this.j,{done:function(p){p=new Uint8Array(p);this.o(g,h,p);k(p)}.bind(this)})};c.prototype.l=b.prototype.h;c.prototype.set=b.prototype.set;c.prototype.o=b.prototype.j;c.prototype.ga=b.prototype.ga;c.prototype.H=b.prototype.H;d.prototype.load=function(){this.g(0)};d.prototype.g=function(g){var h=new FileReader;h.onload=function(k){k=new Uint8Array(k.target.result);(new Uint8Array(this.buffer,g)).set(k);this.g(g+4194304)}.bind(this);
g<this.byteLength?h.readAsArrayBuffer(this.file.slice(g,Math.min(g+4194304,this.byteLength))):(this.file=void 0,this.onload&&this.onload({buffer:this.buffer}))};d.prototype.get=a.prototype.get;d.prototype.set=a.prototype.set;d.prototype.ac=a.prototype.ac;d.prototype.ga=a.prototype.ga;d.prototype.H=a.prototype.H;e.prototype.load=function(){this.onload&&this.onload(Object.create(null))};e.prototype.get=function(g,h,k){var l=this.h(g,h);l?k(l):(l=new FileReader,l.onload=function(m){m=new Uint8Array(m.target.result);
this.j(g,h,m);k(m)}.bind(this),l.readAsArrayBuffer(this.file.slice(g,g+h)))};e.prototype.h=b.prototype.h;e.prototype.set=b.prototype.set;e.prototype.j=b.prototype.j;e.prototype.ga=b.prototype.ga;e.prototype.H=b.prototype.H;e.prototype.ac=function(g){g()};e.prototype.th=function(g){for(var h=[],k=Array.from(this.g.keys()).sort(function(r,n){return r-n}),l=0,m=0;m<k.length;m++){var p=k[m],w=this.g.get(p);p*=256;p!==l&&(h.push(this.file.slice(l,p)),l=p);h.push(w);l+=w.length}l!==this.file.size&&h.push(this.file.slice(l));
return new File(h,g)};var f="undefined"===typeof XMLHttpRequest?function(g,h){require("fs").stat(g,(k,l)=>{k?h(k):h(null,l.size)})}:function(g,h){Hb(g,{done:(k,l)=>{k=l.getResponseHeader("Content-Range")||"";(l=k.match(/\/(\d+)\s*$/))?h(null,+l[1]):h("`Range: bytes=...` header not supported (Got `"+k+"`)")},headers:{Range:"bytes=0-0","X-Accept-Encoding":"identity"}})}})();function Ib(a,b,c,d,e,f){this.Na=new Jb(this,a,b,d,e,f);this.Za=new Jb(this,a,c,!1,e,f);this.Ea=this.Na;this.u=a;0===e?(this.g=496,this.na=14,this.Sa=240):1===e&&(this.g=368,this.na=15,this.Sa=248);this.i=this.g|516;this.h=46080;this.P=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,this.g&255|1,this.g>>8,0,0,this.i&255|1,this.i>>8,0,0,0,0,0,0,0,0,0,0,this.h&255|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.na,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Pb=[{size:8},{size:4},void 0,void 0,{size:16}];this.name="ide"+e;this.l=2;M(a.C,this.g|7,this,function(){Kb(this.u,this.na);return this.$h()});M(a.C,this.i|2,this,this.$h);O(a.C,this.i|2,this,this.cl);M(a.C,this.g|0,this,function(){return Lb(this.Ea,1)},function(){return Lb(this.Ea,2)},function(){return Lb(this.Ea,4)});M(a.C,this.g|1,this,function(){return this.Ea.error&
255});M(a.C,this.g|2,this,function(){return this.Ea.qa&255});M(a.C,this.g|3,this,function(){return this.Ea.Pa&255});M(a.C,this.g|4,this,function(){return this.Ea.xa&255});M(a.C,this.g|5,this,function(){return this.Ea.Ca&255});M(a.C,this.g|6,this,function(){return this.Ea.jd&255});O(a.C,this.g|0,this,function(g){Mb(this.Ea,g,1)},function(g){Mb(this.Ea,g,2)},function(g){Mb(this.Ea,g,4)});O(a.C,this.g|1,this,function(g){this.Na.de=(this.Na.de<<8|g)&65535;this.Za.de=(this.Za.de<<8|g)&65535});O(a.C,this.g|
2,this,function(g){this.Na.qa=(this.Na.qa<<8|g)&65535;this.Za.qa=(this.Za.qa<<8|g)&65535});O(a.C,this.g|3,this,function(g){this.Na.Pa=(this.Na.Pa<<8|g)&65535;this.Za.Pa=(this.Za.Pa<<8|g)&65535});O(a.C,this.g|4,this,function(g){this.Na.xa=(this.Na.xa<<8|g)&65535;this.Za.xa=(this.Za.xa<<8|g)&65535});O(a.C,this.g|5,this,function(g){this.Na.Ca=(this.Na.Ca<<8|g)&65535;this.Za.Ca=(this.Za.Ca<<8|g)&65535});O(a.C,this.g|6,this,function(g){this.Ea=g&16?this.Za:this.Na;this.Na.jd=g;this.Za.jd=g;this.Na.Le=
this.Za.Le=g>>6&1;this.Na.head=this.Za.head=g&15});this.j=this.Da=this.oe=0;O(a.C,this.g|7,this,function(g){Kb(this.u,this.na);var h=this.Ea;if(h.buffer)switch(h.s=g,h.error=0,g){case 8:h.i=0;h.g=0;h.h=0;Nb(h);h.ca();break;case 16:h.status=80;h.xa=0;h.ca();break;case 248:h.status=80;var k=h.j-1;h.Pa=k&255;h.xa=k>>8&255;h.Ca=k>>16&255;h.jd=h.jd&240|k>>24&15;h.ca();break;case 39:h.status=80;k=h.j-1;h.Pa=k&255;h.xa=k>>8&255;h.Ca=k>>16&255;h.Pa|=k>>24<<8&65280;h.ca();break;case 32:case 36:case 41:case 196:Ob(h,
g);break;case 48:case 52:case 57:case 197:var l=52===g||57===g;k=Pb(h,l);l=Qb(h,l);g=48===g||52===g;k*=h.l;l*=h.l;l+k>h.buffer.byteLength?(h.status=255,h.ca()):(h.status=88,Rb(h,k),h.g=g?512:Math.min(k,512*h.I),h.U=l);break;case 144:h.ca();h.error=257;h.status=80;break;case 145:h.status=80;h.ca();break;case 160:h.F&&(h.status=88,Sb(h,12),h.g=12,h.qa=1,h.ca());break;case 161:h.F?(Ub(h),h.status=88,h.xa=20,h.Ca=235):h.status=65;h.ca();break;case 198:h.I=h.qa&255;h.status=80;h.ca();break;case 37:case 200:k=
37===g;l=Pb(h,k);Qb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.ca()):(h.status=88,h.ya.Da|=1);break;case 53:case 202:k=53===g;l=Pb(h,k);Qb(h,k)*h.l+l*h.l>h.buffer.byteLength?(h.status=255,h.ca()):(h.status=88,h.ya.Da|=1);break;case 64:h.status=80;h.ca();break;case 218:h.status=65;h.error=4;h.ca();break;case 224:h.status=80;h.ca();break;case 225:h.status=80;h.ca();break;case 231:h.status=80;h.ca();break;case 236:if(h.F){h.status=65;h.error=4;h.ca();break}Ub(h);h.status=88;h.ca();break;case 234:h.status=
80;h.ca();break;case 239:h.status=80;h.ca();break;case 222:h.status=80;h.ca();break;case 245:h.status=80;h.ca();break;case 249:h.status=65;h.error=4;break;default:h.status=65,h.error=4}else h.error=4,h.status=65,h.ca()});M(a.C,this.h|4,this,void 0,void 0,this.Qi);O(a.C,this.h|4,this,void 0,void 0,this.Ui);M(a.C,this.h,this,this.Si,void 0,this.Ri);O(a.C,this.h,this,this.hh,void 0,this.Vi);M(a.C,this.h|2,this,this.Ti);O(a.C,this.h|2,this,this.ih);M(a.C,this.h|8,this,function(){return 0});M(a.C,this.h|
10,this,function(){return 0});Vb(a.B.eb,this)}t=Ib.prototype;t.$h=function(){return this.Ea.buffer?this.Ea.status:0};t.cl=function(a){a&4&&(Kb(this.u,this.na),Nb(this.Na),Nb(this.Za));this.l=a};t.Qi=function(){return this.oe};t.Ui=function(a){this.oe=a};t.Ti=function(){return this.Da};t.ih=function(a){this.Da&=~(a&6)};t.Ri=function(){return this.j|this.Da<<16};t.Si=function(){return this.j};t.Vi=function(a){this.hh(a&255);this.ih(a>>16&255)};
t.hh=function(a){const b=this.j;this.j=a&9;if((b&1)!==(a&1))if(0===(a&1))this.Da&=-2;else switch(this.Da|=1,this.Ea.s){case 37:case 200:Wb(this.Ea);break;case 202:case 53:Xb(this.Ea);break;case 160:Yb(this.Ea)}};t.ca=function(){0===(this.l&2)&&(this.Da|=4,this.u.$a(this.na))};t.ga=function(){var a=[];a[0]=this.Na;a[1]=this.Za;a[2]=this.g;a[3]=this.na;a[4]=this.Sa;a[5]=this.i;a[6]=this.h;a[7]=this.name;a[8]=this.l;a[9]=this.oe;a[10]=this.Da;a[11]=this.Ea===this.Na;a[12]=this.j;return a};
t.H=function(a){this.Na.H(a[0]);this.Za.H(a[1]);this.g=a[2];this.na=a[3];this.Sa=a[4];this.i=a[5];this.h=a[6];this.name=a[7];this.l=a[8];this.oe=a[9];this.Da=a[10];this.Ea=a[11]?this.Na:this.Za;this.j=a[12]};
function Jb(a,b,c,d,e,f){this.ya=a;this.v=f;this.V=e;this.u=b;this.buffer=c;this.l=d?2048:512;this.F=d;this.D=this.o=this.A=this.j=0;this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(this.j|0)&&(this.j=Math.ceil(this.j)),d?(this.A=1,this.o=0):(this.A=16,this.o=63),this.D=this.j/this.A/this.o,this.D!==(this.D|0)&&(this.D=Math.floor(this.D)),a=b.B.xd,a.da[57]|=1<<4*this.V,a.da[18]=a.da[18]&15|240,a.da[27]=this.D&255,a.da[28]=this.D>>8&255,a.da[29]=this.A&255,a.da[30]=255,a.da[31]=255,a.da[32]=
200,a.da[33]=this.D&255,a.da[34]=this.D>>8&255,a.da[35]=this.o&255);this.buffer=c;this.jd=this.head=this.Ca=this.xa=this.de=this.Pa=this.qa=this.Le=0;this.status=80;this.I=128;this.i=this.error=0;this.data=new Uint8Array(65536);this.S=new Uint16Array(this.data.buffer);this.M=new Int32Array(this.data.buffer);this.g=this.h=0;this.R=this.s=-1;this.aa=this.U=0;this.O=new Set;this.Y=new Set;Object.seal(this)}
function Nb(a){a.F?(a.status=0,a.qa=1,a.error=1,a.Pa=1,a.xa=20,a.Ca=235):(a.status=81,a.qa=1,a.error=1,a.Pa=1,a.xa=0,a.Ca=0);for(const b of a.O)a.Y.add(b);a.O.clear()}t=Jb.prototype;t.ca=function(){this.ya.ca()};t.gf=function(){this.status=80;var a=this.data.subarray(0,this.h);Zb(this,this.s,this.h/512);this.ca();this.buffer.set(this.U,a,function(){});$b(this,this.h)};
function ac(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;a.h=0;var d=a.Ca<<8&65280|a.xa&255;a.xa=a.Ca=0;65535===d&&d--;d>c&&(d=c);b>=a.buffer.byteLength?(a.status=255,a.ca()):0===c?(a.status=80,a.i=0):(c=Math.min(c,a.buffer.byteLength-b),a.status=208,bc(a),a.ra(b,c,e=>{cc(a,e);a.status=88;a.qa=a.qa&-8|2;a.ca();d&=-4;a.g=d;a.g>a.h&&(a.g=a.h);a.xa=a.g&255;a.Ca=a.g>>8&255;dc(a,c)}))}
function ec(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;b>=a.buffer.byteLength?(a.status=255,a.ca()):(a.status=208,bc(a),a.ra(b,c,d=>{dc(a,c);a.status=88;a.qa=a.qa&-8|2;cc(a,d);Yb(a)}))}function Yb(a){if(0!==(a.ya.Da&1)&&0!==(a.status&8)){var b=a.ya.oe,c=0,d=a.data;do{var e=a.u.h(b),f=a.u.fb(b+4),g=a.u.re(b+7)&128;f||(f=65536);fc(a.u,d.subarray(c,Math.min(c+f,a.h)),e);c+=f;b+=8;if(c>=a.h&&!g)break}while(!g);a.status=80;a.ya.Da&=-2;a.qa=a.qa&-8|3;a.ca()}}
function Lb(a,b){if(a.i<a.g){var c=1===b?a.data[a.i]:2===b?a.S[a.i>>>1]:a.M[a.i>>>2];a.i+=b;a.i>=a.g&&(160===a.s?a.g===a.h?(a.status=80,a.qa=a.qa&-8|3,a.ca()):(a.status=88,a.qa=a.qa&-8|2,a.ca(),b=a.Ca<<8&65280|a.xa&255,a.g+b>a.h?(a.xa=a.h-a.g&255,a.Ca=a.h-a.g>>8&255,a.g=a.h):a.g+=b):(a.error=0,a.i>=a.h?a.status=80:(b=196===a.s||41===a.s?Math.min(a.I,(a.h-a.g)/512):1,Zb(a,a.s,b),a.g+=512*b,a.status=88,a.ca())));return c}a.i+=b;return 0}
function Mb(a,b,c){if(!(a.i>=a.g)&&(1===c?a.data[a.i++]=b:2===c?(a.S[a.i>>>1]=b,a.i+=2):(a.M[a.i>>>2]=b,a.i+=4),a.i===a.g))if(160===a.s){a.i=0;a.R=a.data[0];switch(a.R){case 0:Sb(a,0);a.g=a.h;a.status=80;break;case 3:Sb(a,a.data[4]);a.g=a.h;a.status=88;a.data[0]=240;a.data[2]=5;a.data[7]=8;break;case 18:b=a.data[4];a.status=88;a.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]);a.g=a.h=Math.min(36,b);break;case 26:Sb(a,a.data[4]);a.g=
a.h;a.status=88;break;case 30:Sb(a,0);a.g=a.h;a.status=80;break;case 37:b=a.j-1;cc(a,new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,0,0,a.l>>8&255,a.l&255]));a.g=a.h;a.status=88;break;case 40:a.de&1?ec(a,a.data):ac(a,a.data);break;case 66:b=a.data[8];Sb(a,Math.min(8,b));a.g=a.h;a.status=88;break;case 67:b=a.data[8]|a.data[7]<<8;c=a.data[9]>>6;Sb(a,b);a.g=a.h;0===c?(b=a.j,a.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,b>>24,b>>16&255,b>>8&255,b&255]))):1===c&&a.data.set(new Uint8Array([0,
10,1,1,0,0,0,0,0,0,0,0]));a.status=88;break;case 70:b=a.data[8]|a.data[7]<<8;b=Math.min(b,32);Sb(a,b);a.g=a.h;a.data[0]=b-4>>24&255;a.data[1]=b-4>>16&255;a.data[2]=b-4>>8&255;a.data[3]=b-4&255;a.data[6]=8;a.data[10]=3;a.status=88;break;case 81:Sb(a,0);a.g=a.h;a.status=80;break;case 82:a.status=81;a.h=0;a.error=80;break;case 90:b=a.data[8]|a.data[7]<<8;42===a.data[2]&&Sb(a,Math.min(30,b));a.g=a.h;a.status=88;break;case 189:Sb(a,a.data[9]|a.data[8]<<8);a.g=a.h;a.data[5]=1;a.status=88;break;case 74:a.status=
81;a.h=0;a.error=80;break;case 190:Sb(a,0);a.g=a.h;a.status=80;break;default:a.status=81,a.h=0,a.error=80}a.qa=a.qa&-8|2;0===(a.status&128)&&a.ca();0===(a.status&128)&&0===a.h&&(a.qa|=1,a.status&=-9)}else a.i>=a.h?a.gf():(a.status=88,a.g+=512,a.ca())}
function Zb(a,b,c){a.qa-=c;36===b||41===b||52===b||57===b||37===b||53===b?(b=c+gc(a),a.Pa=b&255|b>>16&65280,a.xa=b>>8&255,a.Ca=b>>16&255):a.Le?(b=c+hc(a),a.Pa=b&255,a.xa=b>>8&255,a.Ca=b>>16&255,a.head=a.head&-16|b&15):(b=c+ic(a),c=b/(a.A*a.o)|0,a.xa=c&255,a.Ca=c>>8&255,a.head=(b/a.o|0)%a.A&15,a.Pa=b%a.o+1&255,ic(a))}
function Ob(a,b){var c=36===b||41===b,d=Pb(a,c);c=Qb(a,c);var e=32===b||36===b,f=d*a.l;c*=a.l;c+f>a.buffer.byteLength?(a.status=255,a.ca()):(a.status=192,bc(a),a.ra(c,f,g=>{cc(a,g);a.status=88;a.g=e?512:Math.min(f,512*a.I);Zb(a,b,e?1:Math.min(d,a.o));a.ca();dc(a,f)}))}
function Wb(a){var b=37===a.s,c=Pb(a,b);b=Qb(a,b);var d=c*a.l;b*=a.l;bc(a);a.ra(b,d,e=>{var f=a.ya.oe,g=0;do{var h=a.u.h(f),k=a.u.fb(f+4),l=a.u.re(f+7)&128;k||(k=65536);fc(a.u,e.subarray(g,g+k),h);g+=k;f+=8}while(!l);Zb(a,a.s,c);a.status=80;a.ya.Da&=-2;a.s=-1;a.ca();dc(a,d)})}
function Xb(a){var b=53===a.s,c=Pb(a,b),d=Qb(a,b);b=c*a.l;d*=a.l;var e=a.ya.oe,f=0;const g=new Uint8Array(b);do{var h=a.u.h(e),k=a.u.fb(e+4),l=a.u.re(e+7)&128;k||(k=65536);g.set(a.u.pb.subarray(h,h+k),f);f+=k;e+=8}while(!l);a.buffer.set(d,g,()=>{Zb(a,a.s,c);a.status=80;a.ca();a.ya.Da&=-2;a.s=-1});$b(a,b)}function ic(a){return((a.xa&255|a.Ca<<8&65280)*a.A+a.head)*a.o+(a.Pa&255)-1}function hc(a){return a.Pa&255|a.xa<<8&65280|a.Ca<<16&16711680|(a.head&15)<<24}
function gc(a){return(a.Pa&255|a.xa<<8&65280|a.Ca<<16&16711680|a.Pa>>8<<24&4278190080)>>>0}function Qb(a,b){return b?gc(a):a.Le?hc(a):ic(a)}function Pb(a,b){b?(a=a.qa,0===a&&(a=65536)):(a=a.qa&255,0===a&&(a=256));return a}
function Ub(a){if(a.jd&16)Sb(a,0);else{for(var b=0;512>b;b++)a.data[b]=0;b=Math.min(16383,a.D);cc(a,[64,a.F?133:0,b,b>>8,0,0,a.A,a.A>>8,a.o/512,a.o/512>>8,0,2,a.o,a.o>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,b,b>>8,a.A,a.A>>8,a.o,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255,0,0,a.j&255,a.j>>8&255,a.j>>16&255,
a.j>>24&255,0,0,160===a.s?0:7,160===a.s?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255]);a.h=512;a.g=512}}function Sb(a,b){Rb(a,b);for(var c=0;c<b+3>>2;c++)a.M[c]=0}function Rb(a,b){a.data.length<b&&(a.data=new Uint8Array(b+3&-4),a.S=new Uint16Array(a.data.buffer),a.M=new Int32Array(a.data.buffer));a.h=b;a.i=0}
function cc(a,b){Rb(a,b.length);a.data.set(b)}function bc(a){a.v.send("ide-read-start")}function dc(a,b){a.v.send("ide-read-end",[a.V,b,b/a.l|0])}function $b(a,b){a.v.send("ide-write-end",[a.V,b,b/a.l|0])}t.ra=function(a,b,c){const d=this.aa++;this.O.add(d);this.buffer.get(a,b,e=>{this.Y.delete(d)?this.O.has(d):(this.O.delete(d),c(e))})};
t.ga=function(){var a=[];a[0]=this.qa;a[1]=this.D;a[2]=this.Ca;a[3]=this.xa;a[4]=this.i;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=this.jd;a[10]=this.error;a[11]=this.head;a[12]=this.A;a[13]=this.F;a[14]=this.Le;a[15]=this.de;a[16]=this.data;a[17]=this.h;a[18]=this.Pa;a[19]=this.j;a[20]=this.l;a[21]=this.I;a[22]=this.o;a[23]=this.status;a[24]=this.U;a[25]=this.s;a[26]=this.g;a[27]=this.R;a[28]=this.buffer;return a};
t.H=function(a){this.qa=a[0];this.D=a[1];this.Ca=a[2];this.xa=a[3];this.i=a[4];this.jd=a[9];this.error=a[10];this.head=a[11];this.A=a[12];this.F=a[13];this.Le=a[14];this.de=a[15];this.data=a[16];this.h=a[17];this.Pa=a[18];this.j=a[19];this.l=a[20];this.I=a[21];this.o=a[22];this.status=a[23];this.U=a[24];this.s=a[25];this.g=a[26];this.R=a[27];this.S=new Uint16Array(this.data.buffer);this.M=new Int32Array(this.data.buffer);this.buffer&&this.buffer.H(a[28])};function jc(a){this.dc=new Uint8Array(4);this.g=new Uint8Array(4);this.je=new Uint8Array(4);this.ke=new Uint8Array(4);this.ie=new Int32Array(this.dc.buffer);new Int32Array(this.g.buffer);this.Dh=new Int32Array(this.je.buffer);this.Fh=new Int32Array(this.ke.buffer);this.qc=[];this.B=[];this.u=a;for(var b=0;256>b;b++)this.qc[b]=void 0,this.B[b]=void 0;this.C=a.C;O(a.C,3324,this,function(c){kc(this,this.ie[0],c)},function(c){lc(this,this.ie[0],c)},function(c){var d=this.ie[0],e=d>>8&65535,f=d&255;d=
this.qc[e];e=this.B[e];if(d)if(16<=f&&40>f)if(e=e.Pb[f-16>>2]){f>>=2;var g=d[f]&1;-1===(c|3|e.size-1)?(c=~(e.size-1)|g,0===g&&(d[f]=c)):0===g&&(d[f]=e.Ch);1===g&&(mc(this,e,d[f]&65534,c&65534),d[f]=c|1)}else d[f>>2]=0;else 48===f?d[f>>2]=e.Eh?-1===(c|2047)?-e.Eh|0:e.qj|0:0:4!==f&&(d[f>>>2]=c)});O(a.C,3325,this,function(c){kc(this,this.ie[0]+1|0,c)});O(a.C,3326,this,function(c){kc(this,this.ie[0]+2|0,c)},function(c){lc(this,this.ie[0]+2|0,c)});O(a.C,3327,this,function(c){kc(this,this.ie[0]+3|0,c)});
a.C.se(3324,this,function(){return this.je[0]},function(){return this.je[1]},function(){return this.je[2]},function(){return this.je[3]});a.C.se(3320,this,function(){return this.ke[0]},function(){return this.ke[1]},function(){return this.ke[2]},function(){return this.ke[3]});a.C.ad(3320,this,function(c){this.dc[0]=c&252},function(c){2===(this.dc[1]&6)&&6===(c&6)?(a.o(),a.vb=[],ob(a)):this.dc[1]=c},function(c){this.dc[2]=c},function(c){this.dc[3]=c;c=this.dc[0]&252;var d=this.qc[this.dc[2]<<8|this.dc[1]];
void 0!==d?(this.Fh[0]=-2147483648,this.Dh[0]=c<d.byteLength?d[c>>2]:0):(this.Dh[0]=-1,this.Fh[0]=0)});Vb(this,{Sa:0,P:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],Pb:[],name:"82441FX PMC"});this.i={Sa:8,P:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pb:[],
name:"82371SB PIIX3 ISA"};this.j=Vb(this,this.i);this.h=new Uint8Array(this.j.buffer)}jc.prototype.ga=function(){for(var a=[],b=0;256>b;b++)a[b]=this.qc[b];a[256]=this.dc;a[257]=this.g;a[258]=this.je;a[259]=this.ke;return a};jc.prototype.H=function(a){for(var b=0;256>b;b++){var c=this.B[b],d=a[b];if(c&&d){for(var e=0;e<c.Pb.length;e++){var f=d[4+e];if(f&1){var g=c.Pb[e];mc(this,g,g.Ch&65534,f&65534)}}this.qc[b].set(d)}}this.dc.set(a[256]);this.g.set(a[257]);this.je.set(a[258]);this.ke.set(a[259])};
function kc(a,b,c){var d=b&255;(new Uint8Array(a.qc[b>>8&65535].buffer))[d]=c}function lc(a,b,c){var d=b&255;a=new Uint16Array(a.qc[b>>8&65535].buffer);!a||16<=d&&44>d||(a[d>>>1]=c)}function Vb(a,b){var c=b.Sa,d=new Int32Array(64);d.set(new Int32Array((new Uint8Array(b.P)).buffer));a.qc[c]=d;a.B[c]=b;c=d.slice(4,10);for(var e=0;e<b.Pb.length;e++){var f=b.Pb[e];if(f){var g=c[e],h=g&1;f.Ch=g;f.entries=[];if(0!==h)for(g&=-2,h=0;h<f.size;h++)f.entries[h]=a.C.ports[g+h]}}return d}
function mc(a,b,c,d){for(var e=b.size,f=a.C.ports,g=0;g<e;g++){4096<=c+g&&(f[c+g]=hb(a.C));var h=b.entries[g];4096<=d+g&&(f[d+g]=h)}}jc.prototype.Ya=function(a){this.u.$a(this.h[96+((this.qc[a][15]>>8&255)-1+((a>>3)-1&255)&3)])};function nc(a,b){Kb(a.u,a.h[96+((a.qc[b][15]>>8&255)+(b>>3&255)-2&3)])};function oc(a,b){this.C=a.C;this.u=a;this.Ib=a.B.Ib;this.h=0;this.R=new Uint8Array(10);this.S=0;this.i=null;this.g=new Uint8Array(10);this.O=this.D=this.Y=this.aa=this.F=this.s=this.l=this.j=0;this.U=1;this.I=this.A=0;this.ld=null;b?this.Cf(b):(this.Uf(),this.u.B.xd.da[16]=64);M(this.C,1008,this,this.rk);M(this.C,1010,this,this.sk);M(this.C,1012,this,this.uk);M(this.C,1013,this,this.wk);M(this.C,1015,this,this.yk);O(this.C,1010,this,this.tk);O(this.C,1012,this,this.vk);O(this.C,1013,this,this.xk)}
t=oc.prototype;t.Uf=function(){this.ld=null;this.V=this.M=this.o=0;this.I=128};
t.Cf=function(a){var b={[163840]:{type:1,Sb:40,Qb:8,Kb:1},[184320]:{type:1,Sb:40,Qb:9,Kb:1},[204800]:{type:1,Sb:40,Qb:10,Kb:1},[327680]:{type:1,Sb:40,Qb:8,Kb:2},[368640]:{type:1,Sb:40,Qb:9,Kb:2},[409600]:{type:1,Sb:40,Qb:10,Kb:2},[737280]:{type:3,Sb:80,Qb:9,Kb:2},[1228800]:{type:2,Sb:80,Qb:15,Kb:2},[1474560]:{type:4,Sb:80,Qb:18,Kb:2},[1763328]:{type:5,Sb:82,Qb:21,Kb:2},[2949120]:{type:5,Sb:80,Qb:36,Kb:2},512:{type:1,Sb:1,Qb:1,Kb:1}};let c=a.byteLength,d=b[c];d||(c=1474560<a.byteLength?2949120:1474560,
d=b[c],b=new Uint8Array(c),b.set(new Uint8Array(a.buffer)),a=new tb(b.buffer));this.o=d.Qb;this.M=d.Kb;this.V=d.Sb;this.ld=a;this.I=128;this.u.B.xd.da[16]=d.type<<4};t.ga=function(){var a=[];a[0]=this.h;a[1]=this.R;a[2]=this.S;a[4]=this.g;a[5]=this.j;a[6]=this.l;a[8]=this.s;a[9]=this.F;a[10]=this.aa;a[11]=this.Y;a[12]=this.D;a[13]=this.O;a[14]=this.U;a[15]=this.A;a[16]=this.o;a[17]=this.M;a[18]=this.V;return a};
t.H=function(a){this.h=a[0];this.R=a[1];this.S=a[2];this.i=a[3];this.g=a[4];this.j=a[5];this.l=a[6];this.s=a[8];this.F=a[9];this.aa=a[10];this.Y=a[11];this.D=a[12];this.O=a[13];this.U=a[14];this.A=a[15];this.o=a[16];this.M=a[17];this.V=a[18]};t.rk=function(){return 0};t.uk=function(){var a=128;this.j<this.l&&(a|=80);0===(this.A&8)&&(a|=32);return a};t.yk=function(){return this.I};t.wk=function(){return this.j<this.l?(Kb(this.u,6),this.g[this.j++]):255};t.vk=function(a){a&128&&(this.s=192,this.u.$a(6))};
t.xk=function(a){if(0<this.h)this.R[this.S++]=a,this.h--,0===this.h&&this.i.call(this,this.R);else{switch(a){case 3:this.i=this.bj;this.h=2;break;case 19:this.i=this.Hi;this.h=3;break;case 4:this.i=this.Ei;this.h=1;break;case 5:case 69:case 197:this.i=function(b){pc(this,!0,b)};this.h=8;break;case 6:case 70:case 198:case 230:this.i=function(b){pc(this,!1,b)};this.h=8;break;case 7:this.i=this.Di;this.h=1;break;case 8:this.j=0;this.l=2;this.g[0]=this.s;this.g[1]=this.D;break;case 74:this.i=this.Jk;
this.h=1;break;case 15:this.h=2;this.i=this.ah;break;case 14:case 16:this.s=128,this.g[0]=this.s,this.j=0,this.l=1,this.h=0}this.S=0}};t.sk=function(){return this.A};t.tk=function(a){4===(a&4)&&0===(this.A&4)&&(this.s=192,this.u.$a(6));this.A=a};t.Ei=function(){this.F=this.ld?0:5;this.j=0;this.l=1;this.g[0]=0};t.ah=function(a){if(0===(a[0]&3)){var b=a[1];a=a[0]>>2&1;b!==this.D&&(this.I=0);this.F=this.ld?0:5;this.s=32;this.D=b;this.O=a}this.Ya()};t.Di=function(a){this.ah([a[0],0])};
function pc(a,b,c){var d=c[2],e=c[1],f=c[3],g=128<<c[4],h=c[5]-c[3]+1,k=((d+a.M*e)*a.o+f-1)*g;a.ld?(a.F=0,b?a.Ib.gf(a.ld,k,h*g,2,a.done.bind(a,c,e,d,f)):qc(a.Ib,a.ld,k,a.done.bind(a,c,e,d,f))):a.F=5}t.done=function(a,b,c,d,e){e||(d++,d>this.o&&(d=1,c++,c>=this.M&&(c=0,b++)),b!==this.D&&(this.I=0),this.s=32,this.D=b,this.O=c,this.U=d,this.j=0,this.l=7,this.g[0]=c<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=b,this.g[4]=c,this.g[5]=d,this.g[6]=a[4],this.Ya())};t.bj=function(){};t.Hi=function(){};
t.Jk=function(){this.j=0;this.l=7;this.g[0]=0;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=0;this.g[6]=0;this.Ya()};t.Ya=function(){this.A&8&&this.u.$a(6)};function fc(a,b,c){b.length&&(a.Yf(c),a.Yf(c+b.length-1),a.kj(c,c+b.length),a.pb.set(b,c))};function rc(a){this.u=a;this.o=new Uint8Array(8);this.s=new Uint8Array(8);this.g=new Uint16Array(8);this.j=new Uint16Array(8);this.h=new Uint16Array(8);this.l=new Uint16Array(8);this.Hc=new Uint8Array(8);this.A=new Uint8Array(8);this.sg=[];this.i=0;a=a.C;O(a,0,this,this.rd.bind(this,0));O(a,2,this,this.rd.bind(this,1));O(a,4,this,this.rd.bind(this,2));O(a,6,this,this.rd.bind(this,3));O(a,1,this,this.td.bind(this,0));O(a,3,this,this.td.bind(this,1));O(a,5,this,this.td.bind(this,2));O(a,7,this,this.td.bind(this,
3));M(a,0,this,this.qd.bind(this,0));M(a,2,this,this.qd.bind(this,1));M(a,4,this,this.qd.bind(this,2));M(a,6,this,this.qd.bind(this,3));M(a,1,this,this.sd.bind(this,0));M(a,3,this,this.sd.bind(this,1));M(a,5,this,this.sd.bind(this,2));M(a,7,this,this.sd.bind(this,3));O(a,192,this,this.rd.bind(this,4));O(a,196,this,this.rd.bind(this,5));O(a,200,this,this.rd.bind(this,6));O(a,204,this,this.rd.bind(this,7));O(a,194,this,this.td.bind(this,4));O(a,198,this,this.td.bind(this,5));O(a,202,this,this.td.bind(this,
6));O(a,206,this,this.td.bind(this,7));M(a,192,this,this.qd.bind(this,4));M(a,196,this,this.qd.bind(this,5));M(a,200,this,this.qd.bind(this,6));M(a,204,this,this.qd.bind(this,7));M(a,194,this,this.sd.bind(this,4));M(a,198,this,this.sd.bind(this,5));M(a,202,this,this.sd.bind(this,6));M(a,206,this,this.sd.bind(this,7));O(a,135,this,this.vd.bind(this,0));O(a,131,this,this.vd.bind(this,1));O(a,129,this,this.vd.bind(this,2));O(a,130,this,this.vd.bind(this,3));O(a,143,this,this.vd.bind(this,4));O(a,139,
this,this.vd.bind(this,5));O(a,137,this,this.vd.bind(this,6));O(a,138,this,this.vd.bind(this,7));M(a,135,this,this.ud.bind(this,0));M(a,131,this,this.ud.bind(this,1));M(a,129,this,this.ud.bind(this,2));M(a,130,this,this.ud.bind(this,3));M(a,143,this,this.ud.bind(this,4));M(a,139,this,this.ud.bind(this,5));M(a,137,this,this.ud.bind(this,6));M(a,138,this,this.ud.bind(this,7));O(a,1159,this,this.ne.bind(this,0));O(a,1155,this,this.ne.bind(this,1));O(a,1153,this,this.ne.bind(this,2));O(a,1154,this,this.ne.bind(this,
3));O(a,1163,this,this.ne.bind(this,5));O(a,1161,this,this.ne.bind(this,6));O(a,1162,this,this.ne.bind(this,7));M(a,1159,this,this.me.bind(this,0));M(a,1155,this,this.me.bind(this,1));M(a,1153,this,this.me.bind(this,2));M(a,1154,this,this.me.bind(this,3));M(a,1163,this,this.me.bind(this,5));M(a,1161,this,this.me.bind(this,6));M(a,1162,this,this.me.bind(this,7));O(a,10,this,this.Yh.bind(this,0));O(a,212,this,this.Yh.bind(this,4));O(a,15,this,this.Xh.bind(this,0));O(a,222,this,this.Xh.bind(this,4));
M(a,15,this,this.Wh.bind(this,0));M(a,222,this,this.Wh.bind(this,4));O(a,11,this,this.Vh.bind(this,0));O(a,214,this,this.Vh.bind(this,4));O(a,12,this,this.Uh);O(a,216,this,this.Uh)}t=rc.prototype;t.ga=function(){return[this.o,this.s,this.g,this.j,this.h,this.l,this.Hc,this.A,this.i]};t.H=function(a){this.o=a[0];this.s=a[1];this.g=a[2];this.j=a[3];this.h=a[4];this.l=a[5];this.Hc=a[6];this.A=a[7];this.i=a[8]};t.td=function(a,b){this.h[a]=sc(this,this.h[a],b,!1);this.l[a]=sc(this,this.l[a],b,!0)};
t.sd=function(a){return tc(this,this.h[a])};t.rd=function(a,b){this.g[a]=sc(this,this.g[a],b,!1);this.j[a]=sc(this,this.j[a],b,!0)};t.qd=function(a){return tc(this,this.g[a])};t.ne=function(a,b){this.s[a]=b};t.me=function(a){return this.s[a]};t.vd=function(a,b){this.o[a]=b};t.ud=function(a){return this.o[a]};t.Yh=function(a,b){uc(this,(b&3)+a,b&4?1:0)};t.Xh=function(a,b){for(var c=0;4>c;c++)uc(this,a+c,b&1<<c)};
t.Wh=function(a){var b=0|this.Hc[a+0];b|=this.Hc[a+1]<<1;b|=this.Hc[a+2]<<2;return b|=this.Hc[a+3]<<3};t.Vh=function(a,b){this.A[(b&3)+a]=b};t.Uh=function(){this.i=0};function uc(a,b,c){if(a.Hc[b]!==c&&(a.Hc[b]=c,!c))for(c=0;c<a.sg.length;c++)a.sg[c].Wf.call(a.sg[c].Rg,b)}function qc(a,b,c,d){var e=a.h[2]+1,f=vc(a,2);if(c+e>b.byteLength)d(!0);else{var g=a.u;a.g[2]+=e;b.get(c,e,function(h){fc(g,h,f);d(!1)})}}
t.gf=function(a,b,c,d,e){var f=this.h[d]+1&65535,g=5<=d?2:1,h=f*g,k=vc(this,d),l=!1,m=!1,p=this.A[d]&16;c<h?(f=Math.floor(c/g),h=f*g,l=!0):c>h&&(m=!0);b+h>a.byteLength?e(!0):(this.g[d]+=f,this.h[d]-=f,!l&&p&&(this.g[d]=this.j[d],this.h[d]=this.l[d]),a.set(b,this.u.pb.subarray(k,k+h),()=>{m&&p?this.gf(a,b+h,c-h,d,e):e(!1)}))};function vc(a,b){var c=a.g[b];5<=b&&(c<<=1);c=c&65535|a.o[b]<<16;return c|=a.s[b]<<24}function sc(a,b,c,d){d||(a.i^=1);return a.i?b&-256|c:b&-65281|c<<8}
function tc(a,b){a.i^=1;return a.i?b&255:b>>8&255};function wc(a,b){this.u=a;this.v=b;this.i=new Float64Array(3);this.j=new Uint16Array(3);this.g=new Uint8Array(4);this.h=new Uint8Array(4);this.Xd=new Uint8Array(4);this.s=new Uint8Array(4);this.l=new Uint8Array(4);this.o=new Uint16Array(3);this.Xb=new Uint16Array(3);M(a.C,97,this,function(){var c=qb(),d=66.66666666666667*c&1;c=xc(this,2,c);return d<<4|c<<5});O(a.C,97,this,function(c){c&1?this.v.send("pcspeaker-enable"):this.v.send("pcspeaker-disable")});M(a.C,64,this,function(){return yc(this,0)});
M(a.C,65,this,function(){return yc(this,1)});M(a.C,66,this,function(){return yc(this,2)});O(a.C,64,this,function(c){Ac(this,0,c)});O(a.C,65,this,function(c){Ac(this,1,c)});O(a.C,66,this,function(c){Ac(this,2,c);this.v.send("pcspeaker-update",[this.Xd[2],this.Xb[2]])});O(a.C,67,this,this.A)}wc.prototype.ga=function(){var a=[];a[0]=this.g;a[1]=this.h;a[2]=this.Xd;a[3]=this.s;a[4]=this.l;a[5]=this.o;a[6]=this.Xb;a[7]=this.i;a[8]=this.j;return a};
wc.prototype.H=function(a){this.g=a[0];this.h=a[1];this.Xd=a[2];this.s=a[3];this.l=a[4];this.o=a[5];this.Xb=a[6];this.i=a[7];this.j=a[8]};wc.prototype.ic=function(a,b){var c=100;b||(this.h[0]&&xc(this,0,a)?(this.j[0]=Bc(this,0,a),this.i[0]=a,Kb(this.u,0),this.u.$a(0),0===this.Xd[0]&&(this.h[0]=0)):Kb(this.u,0),this.h[0]&&(c=(this.j[0]-Math.floor(1193.1816666*(a-this.i[0])))/1193.1816666));return c};
function Bc(a,b,c){if(!a.h[b])return 0;c=a.j[b]-Math.floor(1193.1816666*(c-a.i[b]));a=a.Xb[b];c>=a?c%=a:0>c&&(c=c%a+a);return c}function xc(a,b,c){c-=a.i[b];return 0>c?!0:a.j[b]<Math.floor(1193.1816666*c)}function yc(a,b){var c=a.l[b];if(c)return a.l[b]--,2===c?a.o[b]&255:a.o[b]>>8;c=a.g[b];3===a.Xd[b]&&(a.g[b]^=1);a=Bc(a,b,qb());return c?a&255:a>>8}
function Ac(a,b,c){a.Xb[b]=a.g[b]?a.Xb[b]&-256|c:a.Xb[b]&255|c<<8;3===a.s[b]&&a.g[b]||(a.Xb[b]||(a.Xb[b]=65535),a.j[b]=a.Xb[b],a.h[b]=!0,a.i[b]=qb());3===a.s[b]&&(a.g[b]^=1)}wc.prototype.A=function(a){var b=a>>1&7,c=a>>6&3;a=a>>4&3;3!==c&&(0===a?(this.l[c]=2,b=Bc(this,c,qb()),this.o[c]=b?b-1:0):(6<=b&&(b&=-5),this.g[c]=1===a?0:1,0===c&&Kb(this.u,0),this.Xd[c]=b,this.s[c]=a,2===c&&this.v.send("pcspeaker-update",[this.Xd[2],this.Xb[2]])))};const Cc=Uint32Array.from([655360,655360,720896,753664]),Dc=Uint32Array.from([131072,65536,32768,32768]);
function Ec(a,b,c,d,e){this.u=a;this.v=b;this.screen=c;this.pa=d;this.U=0;this.Rc=14;this.Hd=15;this.jb=80;this.Zc=25;this.Sd=this.i=this.Cd=this.lb=0;this.Yc=[];this.Rd=this.g=0;this.Oc=new Uint8Array(25);this.I=this.V=this.Qd=this.mb=this.D=this.M=this.Uc=this.Wc=this.l=0;this.o=!1;this.R=new Int32Array(256);this.F=0;this.Lf=45253;this.Y=this.A=0;this.h=!1;this.Ia=32;this.Gd=this.Fd=this.Vb=this.yc=0;void 0===this.pa||262144>this.pa?this.pa=262144:268435456<this.pa?this.pa=268435456:this.pa=Wa(this.pa);
this.P=[52,18,17,17,3,1,0,0,0,0,0,3,0,0,0,0,8,14680064,57344,224,0,0,0,0,0,0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0];this.Sa=144;this.Pb=[{size:this.pa}];this.Eh=65536;this.qj=4272947200;this.name="vga";this.oc=this.Sc=this.mc=this.Ha=0;this.Ra=255;this.Ga=new Uint8Array(16);this.S=-1;this.$c=32;this.lc=this.Xc=this.Mc=this.j=0;this.Dd=-1;this.Ub=15;this.kc=this.Ed=0;this.Tc=-1;this.wc=this.kb=this.Pd=this.jc=0;this.Nd=255;this.la=this.Tb=this.sb=this.vc=
this.Od=this.zd=0;this.O=this.xe=255;b=a.C;O(b,960,this,this.Yj);M(b,960,this,this.Nh,this.Xj);M(b,961,this,this.Oh);O(b,962,this,this.Zj);b.ad(964,this,this.ak,this.ck);M(b,964,this,this.$j);M(b,965,this,this.bk);b.ad(974,this,this.nk,this.qk);M(b,974,this,this.mk);M(b,975,this,this.pk);M(b,966,this,this.dk);O(b,966,this,this.ek);O(b,967,this,this.gk);M(b,967,this,this.fk);O(b,968,this,this.ik);M(b,968,this,this.hk);O(b,969,this,this.kk);M(b,969,this,this.jk);M(b,972,this,this.lk);O(b,980,this,this.Gg,
this.Qh);O(b,981,this,this.hg,this.Sh);M(b,980,this,this.Ph);M(b,981,this,this.Hg,this.Rh);O(b,948,this,this.Gg,this.Qh);O(b,949,this,this.hg,this.Sh);M(b,948,this,this.Ph);M(b,949,this,this.Hg,this.Rh);M(b,970,this,function(){return 0});M(b,986,this,this.Th);M(b,954,this,this.Th);this.Md=-1;this.Va=0;O(b,462,this,void 0,this.sj);O(b,463,this,void 0,this.uj);M(b,463,this,void 0,this.tj);c=a.ui(this.pa)>>>0;this.Be=R(Uint8Array,a.La,c,this.pa);this.Jd=this.pa;this.Id=0;this.Ld=this.pa;this.Kd=0;this.wb=
null;this.aa=new Uint8Array(262144);this.ye=new Uint8Array(this.aa.buffer,0,65536);this.ze=new Uint8Array(this.aa.buffer,65536,65536);this.Bd=new Uint8Array(this.aa.buffer,131072,65536);this.Ae=new Uint8Array(this.aa.buffer,196608,65536);this.bd=new Uint8Array(524288);ib(b,655360,131072,f=>Fc(this,f),(f,g)=>{if(this.h)this.u.tg((f-655360|this.yc)+3758096384|0,g);else{var h=this.vc>>2&3;f-=Cc[h];if(!(0>f||f>=Dc[h]))if(this.o){var k=g;g=Gc(this.Nd);var l=Hc(this.zd);h=Hc(this.Od);switch(this.kb&3){case 0:k=
(k|k<<8)>>>(this.wc&7)&255;var m=Gc(k);k=Hc(this.zd);m=Ic(this,(m|h&k)&(~h|k),this.F);m=g&m|~g&this.F;break;case 1:m=this.F;break;case 2:m=Hc(k);m=Ic(this,m,this.F);m=g&m|~g&this.F;break;case 3:k=(k|k<<8)>>>(this.wc&7)&255,g&=Gc(k),m=g&l|~g&this.F}g=15;switch(this.Ed&12){case 0:g=5<<(f&1);f&=-2;break;case 8:case 12:g=1<<(f&3),f&=-4}g&=this.Ub;g&1&&(this.ye[f]=m>>0&255);g&2&&(this.ze[f]=m>>8&255);g&4&&(this.Bd[f]=m>>16&255);g&8&&(this.Ae[f]=m>>24&255);m=Jc(this,f);g=m+7;m<this.Ld&&(this.Ld=m);g>this.Kd&&
(this.Kd=g);m<this.Jd&&(this.Jd=m);g>this.Id&&(this.Id=g)}else this.Ub&3?(this.aa[f]=g,h=Math.max(this.jb,2*this.V),f>>1>=this.g?(k=(f>>1)-this.g,m=k/h|0,h=k%h):(k=f>>1,m=(k/h|0)+Kc(this,this.I),h=k%h),h>=this.jb||m>=this.Zc||(f&1?(k=g,g=this.aa[f&-2]):k=this.aa[f|1],f=(l=this.j&8)&&k&128,l=l?7:15,this.v.send("screen-put-char",[m,h,g]),this.s?(g=this.s,0<=m&&m<g.j&&(g.l[m]=g.s=1)):this.screen.l(m,h,g,f,this.R[this.Ra&this.Ga[k>>4&l]],this.R[this.Ra&this.Ga[k&15]]))):this.Bd[f]=g}});e.ji&&(this.s=
new Lc(this));Vb(a.B.eb,this)}t=Ec.prototype;
t.ga=function(){var a=[];a[0]=this.pa;a[1]=this.U;a[2]=this.Rc;a[3]=this.Hd;a[4]=this.jb;a[5]=this.Zc;a[6]=this.aa;a[7]=this.oc;a[8]=this.g;a[9]=this.o;a[10]=this.R;a[11]=this.F;a[12]=this.sb;a[13]=this.Tb;a[14]=this.vc;a[15]=this.A;a[16]=this.Y;a[17]=this.l;a[18]=this.h;a[19]=this.Ia;a[20]=this.yc;a[21]=this.Vb;a[22]=this.Ha;a[23]=this.mc;a[24]=this.Sc;a[25]=this.Ga;a[26]=this.Dd;a[27]=this.Ub;a[28]=this.Ed;a[29]=this.Tc;a[30]=this.Pd;a[31]=this.kb;a[32]=this.wc;a[33]=this.Nd;a[34]=this.la;a[35]=
this.xe;a[36]=this.O;a[37]=this.Md;a[38]=this.Va;a[39]=this.Be;a[41]=this.S;a[42]=this.V;a[43]=this.zd;a[44]=this.Od;a[45]=this.Rd;a[46]=this.Oc;a[47]=this.Wc;a[48]=this.Uc;a[49]=this.M;a[50]=this.D;a[51]=this.mb;a[52]=this.Qd;a[53]=this.V;a[54]=this.$c;a[55]=this.j;a[56]=this.Mc;a[57]=this.Xc;a[58]=this.lc;a[59]=this.kc;a[60]=this.I;a[61]=this.bd;a[62]=this.Ra;a[63]=this.jc;return a};
t.H=function(a){this.pa=a[0];this.U=a[1];this.Rc=a[2];this.Hd=a[3];this.jb=a[4];this.Zc=a[5];a[6]&&this.aa.set(a[6]);this.oc=a[7];this.g=a[8];this.o=a[9];this.R=a[10];this.F=a[11];this.sb=a[12];this.Tb=a[13];this.vc=a[14];this.A=a[15];this.Y=a[16];this.l=a[17];this.h=a[18];this.Ia=a[19];this.yc=a[20];this.Vb=a[21];this.Ha=a[22];this.mc=a[23];this.Sc=a[24];this.Ga=a[25];this.Dd=a[26];this.Ub=a[27];this.Ed=a[28];this.Tc=a[29];this.Pd=a[30];this.kb=a[31];this.wc=a[32];this.Nd=a[33];this.la=a[34];this.xe=
a[35];this.O=a[36];this.Md=a[37];this.Va=a[38];this.Be.set(a[39]);this.S=a[41];this.V=a[42];this.zd=a[43];this.Od=a[44];this.Rd=a[45];this.Oc.set(a[46]);this.Wc=a[47];this.Uc=a[48];this.M=a[49];this.D=a[50];this.mb=a[51];this.Qd=a[52];this.V=a[53];this.$c=a[54];this.j=a[55];this.Mc=a[56];this.Xc=a[57];this.lc=a[58];this.kc=a[59];this.I=a[60];a[61]&&this.bd.set(a[61]);this.Ra=void 0===a[62]?255:a[62];this.jc=void 0===a[63]?0:a[63];this.screen.g(this.o||!!this.s);this.o?(this.Cd=this.lb=0,this.h?(Mc(this,
this.A,this.Y,this.A,this.Y,this.Ia),Nc(this)):(Oc(this),Nc(this),Pc(this))):(Qc(this,this.jb,this.Zc),Rc(this),Sc(this));Tc(this)};
function Fc(a,b){if(a.h)return a.u.re((b-655360|a.yc)+3758096384|0);var c=a.vc>>2&3;b-=Cc[c];if(0>b||b>=Dc[c])return 0;a.F=a.ye[b];a.F|=a.ze[b]<<8;a.F|=a.Bd[b]<<16;a.F|=a.Ae[b]<<24;if(a.kb&8)return c=255,a.Tb&1&&(c&=a.ye[b]^~(a.sb&1?255:0)),a.Tb&2&&(c&=a.ze[b]^~(a.sb&2?255:0)),a.Tb&4&&(c&=a.Bd[b]^~(a.sb&4?255:0)),a.Tb&8&&(c&=a.Ae[b]^~(a.sb&8?255:0)),c;c=a.Pd;a.o?a.Ed&8?(c=b&3,b&=-4):a.kb&16&&(c=b&1,b&=-2):c&=3;return a.aa[c<<16|b]}function Gc(a){return a|a<<8|a<<16|a<<24}
function Hc(a){return(a&1?255:0)|(a&2?255:0)<<8|(a&4?255:0)<<16|(a&8?255:0)<<24}function Ic(a,b,c){switch(a.wc&24){case 8:return b&c;case 16:return b|c;case 24:return b^c}return b}function Uc(a){if(!a.s){var b=Kc(a,a.I),c=Math.max(0,2*(2*a.V-a.jb)),d=a.j&8,e=d?7:15,f=a.g<<1;for(let g=0;g<a.Zc;g++){g===b&&(f=0);for(let h=0;h<a.jb;h++){const k=a.aa[f],l=a.aa[f|1],m=d&&l&128;a.v.send("screen-put-char",[g,h,k]);a.screen.l(g,h,k,m,a.R[a.Ra&a.Ga[l>>4&e]],a.R[a.Ra&a.Ga[l&15]]);f+=2}f+=c}}}
function Sc(a){var b=Math.max(a.jb,2*a.V);let c;a.U>=a.g?(c=(a.U-a.g)/b|0,b=(a.U-a.g)%b):(c=(a.U/b|0)+Kc(a,a.I),b=a.U%b);a.s?(a=a.s,a.la=!0,a.A=c,a.F=b):a.screen.o(c,b)}function Tc(a){a.o?a.h?a.u.Wc():(a.Jd=0,a.Id=524288):Uc(a)}function Pc(a){a.o&&!a.h&&(a.Ld=0,a.Kd=524288,Tc(a))}t.va=function(){};function Vc(a){var b=128+(~a.mb&a.l&64);b-=a.mb&64;b-=a.j&64;return b>>>6}
function Jc(a,b){var c=Vc(a);if(~a.l&3){var d=b-a.g;d&=a.l<<13|-24577;d<<=c;var e=d/a.i|0;d%=a.i;switch(a.l&3){case 2:e=e<<1|b>>13&1;break;case 1:e=e<<1|b>>14&1;break;case 0:e=e<<2|b>>13&3}return e*a.i+d+(a.g<<c)}return b<<c}function Kc(a,b){a.la&128&&(b>>>=1);b=Math.ceil(b/(1+(a.la&31)));a.l&1||(b<<=1);a.l&2||(b<<=1);return b}
function Qc(a,b,c){a.jb=b;a.Zc=c;a.v.send("screen-set-size",[b,c,0]);a.s?(a=a.s,0<c&&256>c&&0<b&&256>b&&(a.D=b,a.j=c,a.i=a.D*a.g,a.o=a.j*a.h,a.l=new Uint8Array(a.j),a.rb.screen.h(a.i,a.o),Wc(a),Xc(a))):a.screen.i(b,c)}
function Mc(a,b,c,d,e,f){d=Math.max(d,1);e=Math.max(e,1);if(a.lb!==b||a.Cd!==c||a.i!==d||a.Sd!==e){a.lb=b;a.Cd=c;a.i=d;a.Sd=e;if("undefined"!==typeof ImageData){const g=d*e,h=a.u.ti(g)>>>0;a.Ze=h;a.wb=new ImageData(new Uint8ClampedArray(a.u.La.buffer,h,4*g),d,e);a.u.Wc()}a.screen.h(b,c);a.v.send("screen-set-size",[b,c,f])}}
function Oc(a){if(!a.h){var b=Math.min(1+a.Wc,a.Uc),c=Math.min(1+a.M,a.D);if(b&&c)if(a.o){b<<=3;var d=a.V<<4;a.j&64&&(b>>>=1,d>>>=1);c=Kc(a,c);var e=Dc[0];var f=a.V<<2;a.mb&64?f<<=1:a.l&64&&(f>>>=1);Mc(a,b,c,d,f?Math.ceil(e/f):c,8);Yc(a);Nc(a)}else a.la&128&&(c>>>=1),d=c/(1+(a.la&31))|0,b&&d&&Qc(a,b,d)}}
function Nc(a){a.o||Uc(a);if(a.h)a.Yc=[];else if(a.i&&a.lb)if(!a.$c||a.kc&32)a.Yc=[],a.screen.A();else{var b=a.Rd,c=a.Xc;a.j&64&&(c>>>=1);var d=a.Qd>>5&3,e=Jc(a,b+d);b=e/a.i|0;var f=e%a.i+c;e=Kc(a,1+a.I);e=Math.min(e,a.Cd);var g=a.Cd-e;a.Yc=[];f=-f;for(var h=0;f<a.lb;f+=a.i,h++)a.Yc.push({wb:a.wb,lg:f,mg:0,af:0,bf:b+h,Of:a.i,Nf:e});b=0;a.j&32||(b=Jc(a,d)+c);f=-b;for(h=0;f<a.lb;f+=a.i,h++)a.Yc.push({wb:a.wb,lg:f,mg:e,af:0,bf:h,Of:a.i,Nf:g})}}function Yc(a){a.O|=8;a.Rd!==a.g&&(a.Rd=a.g,Nc(a))}
function Rc(a){var b=a.la&31;const c=Math.min(b,a.Rc&31);b=Math.min(b,a.Hd&31);const d=!(a.Rc&32)&&c<b;a.s?(a=a.s,a.R=!0,a.aa=!!d,a.Ha=c,a.U=b):a.screen.s(c,b,d)}
t.Yj=function(a){if(-1===this.S)this.S=a&31,this.$c!==(a&32)&&(this.$c=a&32,Nc(this));else{if(16>this.S)this.Ga[this.S]=a,this.j&64||Tc(this);else switch(this.S){case 16:if(this.j!==a){var b=this.j;this.j=a;const c=0!==(a&1);this.h||this.o===c||(this.o=c,this.screen.g(this.o||!!this.s));(b^a)&64&&Pc(this);Oc(this);Tc(this)}break;case 18:this.Mc!==a&&(this.Mc=a,Tc(this));break;case 19:this.Xc!==a&&(this.Xc=a&15,Nc(this));break;case 20:this.lc!==a&&(this.lc=a,Tc(this))}this.S=-1}};
t.Nh=function(){return(this.S|this.$c)&255};t.Xj=function(){return this.Nh()|this.Oh()<<8&65280};t.Oh=function(){if(16>this.S)return this.Ga[this.S]&255;switch(this.S){case 16:return this.j;case 18:return this.Mc;case 19:return this.Xc;case 20:return this.lc}return 255};t.Zj=function(a){this.xe=a};t.ak=function(a){this.Dd=a};t.$j=function(){return this.Dd};
t.ck=function(a){switch(this.Dd){case 1:var b=this.kc;this.kc=a;(b^a)&32&&Nc(this);break;case 2:b=this.Ub;this.Ub=a;this.s&&15!==b&&b&4&&!(this.Ub&4)&&(this.s.M=!0);break;case 3:b=this.jc;this.jc=a;if(this.s&&b!==this.jc){a=this.s;var c=this.jc;const d=[0,2,4,6,1,3,5,7];b=d[(c&12)>>2|(c&32)>>3];c=d[c&3|(c&16)>>2];if(a.Ia!==b||a.Ra!==c)a.Ia=b,a.Ra=c,Wc(a)}break;case 4:this.Ed=a}};
t.bk=function(){switch(this.Dd){case 1:return this.kc;case 2:return this.Ub;case 3:return this.jc;case 4:return this.Ed;case 6:return 18}return 0};t.ek=function(a){this.Ra=a};t.dk=function(){return this.Ra};t.gk=function(a){this.Sc=3*a;this.oc&=0};t.fk=function(){return this.oc};t.ik=function(a){this.mc=3*a;this.oc|=3};t.hk=function(){return this.mc/3&255};
t.kk=function(a){var b=this.mc/3|0,c=this.mc%3,d=this.R[b];if(0===(this.Va&32)){a&=63;const e=a&1;a=a<<2|e<<1|e}d=0===c?d&-16711681|a<<16:1===c?d&-65281|a<<8:d&-256|a;this.R[b]!==d&&(this.R[b]=d,Tc(this));this.mc++};t.jk=function(){var a=this.R[this.Sc/3|0]>>8*(2-this.Sc%3)&255;this.Sc++;return this.Va&32?a:a>>2};t.lk=function(){return this.xe};t.nk=function(a){this.Tc=a};t.mk=function(){return this.Tc};
t.qk=function(a){switch(this.Tc){case 0:this.zd=a;break;case 1:this.Od=a;break;case 2:this.sb=a;break;case 3:this.wc=a;break;case 4:this.Pd=a;break;case 5:var b=this.kb;this.kb=a;(b^a)&96&&Pc(this);break;case 6:this.vc!==a&&(this.vc=a,Oc(this));break;case 7:this.Tb=a;break;case 8:this.Nd=a}};
t.pk=function(){switch(this.Tc){case 0:return this.zd;case 1:return this.Od;case 2:return this.sb;case 3:return this.wc;case 4:return this.Pd;case 5:return this.kb;case 6:return this.vc;case 7:return this.Tb;case 8:return this.Nd}return 0};t.Gg=function(a){this.Ha=a};t.Qh=function(a){this.Gg(a&255);this.hg(a>>8&255)};t.Ph=function(){return this.Ha};
t.hg=function(a){switch(this.Ha){case 1:this.Wc!==a&&(this.Wc=a,Oc(this));break;case 2:this.Uc!==a&&(this.Uc=a,Oc(this));break;case 7:var b=this.M;this.M&=255;this.M=this.M|a<<3&512|a<<7&256;b!==this.M&&Oc(this);this.I=this.I&767|a<<4&256;b=this.D;this.D=this.D&767|a<<5&256;b!==this.D&&Oc(this);Nc(this);break;case 8:this.Qd=a;Nc(this);break;case 9:var c=this.la;this.la=a;this.I=this.I&511|a<<3&512;b=this.D;this.D=this.D&511|a<<4&512;((c^this.la)&159||b!==this.D)&&Oc(this);Rc(this);Nc(this);break;
case 10:this.Rc=a;Rc(this);break;case 11:this.Hd=a;Rc(this);break;case 12:(this.g>>8&255)!==a&&(this.g=this.g&255|a<<8,Nc(this),~this.l&3&&Pc(this));break;case 13:(this.g&255)!==a&&(this.g=this.g&65280|a,Nc(this),~this.l&3&&Pc(this));break;case 14:this.U=this.U&255|a<<8;Sc(this);break;case 15:this.U=this.U&65280|a;Sc(this);break;case 18:(this.M&255)!==a&&(this.M=this.M&768|a,Oc(this));break;case 19:this.V!==a&&(this.V=a,Oc(this),~this.l&3&&Pc(this));break;case 20:this.mb!==a&&(b=this.mb,this.mb=a,
Oc(this),(b^a)&64&&Pc(this));break;case 21:(this.D&255)!==a&&(this.D=this.D&768|a,Oc(this));break;case 23:this.l!==a&&(b=this.l,this.l=a,Oc(this),(b^a)&67&&Pc(this));break;case 24:this.I=this.I&768|a;Nc(this);break;default:this.Ha<this.Oc.length&&(this.Oc[this.Ha]=a)}};t.Sh=function(a){this.hg(a&255)};
t.Hg=function(){switch(this.Ha){case 1:return this.Wc;case 2:return this.Uc;case 7:return this.M>>7&2|this.D>>5&8|this.I>>4&16|this.M>>3&64;case 8:return this.Qd;case 9:return this.la;case 10:return this.Rc;case 11:return this.Hd;case 12:return this.g&255;case 13:return this.g>>8;case 14:return this.U>>8;case 15:return this.U&255;case 18:return this.M&255;case 19:return this.V;case 20:return this.mb;case 21:return this.D&255;case 23:return this.l;case 24:return this.I&255}return this.Ha<this.Oc.length?
this.Oc[this.Ha]:0};t.Rh=function(){return this.Hg()};t.Th=function(){var a=this.O;this.o?(this.O^=1,this.O&=1):(this.O&1&&(this.O^=8),this.O^=1);this.S=-1;return a};t.sj=function(a){this.Md=a};
t.uj=function(a){const b=this.h;switch(this.Md){case 0:45248<=a&&45253>=a&&(this.Lf=a);break;case 1:this.A=a;2560<this.A&&(this.A=2560);break;case 2:this.Y=a;1600<this.Y&&(this.Y=1600);break;case 3:this.Ia=a;break;case 4:(this.h=1===(a&1))&&0===(a&128)&&this.Be.fill(0);this.Va=a;break;case 5:this.yc=a<<16;break;case 8:this.Fd!==a&&(this.Fd=a,this.Vb=this.Gd*this.A+this.Fd,Tc(this));break;case 9:this.Gd!==a&&(this.Gd=a,this.Vb=this.Gd*this.A+this.Fd,Tc(this))}!this.h||this.A&&this.Y||(this.h=!1);this.h&&
!b&&(this.Gd=this.Fd=this.Vb=0,this.o=!0,this.screen.g(this.o),Mc(this,this.A,this.Y,this.A,this.Y,this.Ia));this.h||(this.yc=0);Nc(this)};t.tj=function(){return Zc(this,this.Md)};function Zc(a,b){switch(b){case 0:return a.Lf;case 1:return a.Va&2?2560:a.A;case 2:return a.Va&2?1600:a.Y;case 3:return a.Va&2?32:a.Ia;case 4:return a.Va;case 5:return a.yc>>>16;case 6:return a.lb?a.lb:1;case 8:return a.Fd;case 9:return a.Gd;case 10:return a.pa/65536|0}return 255}
t.Mg=function(){if(this.o){if(0===this.wb.data.byteLength){var a=new Uint8ClampedArray(this.u.La.buffer,this.Ze,4*this.i*this.Sd);this.wb=new ImageData(a,this.i,this.Sd);Nc(this)}if(this.h){a=0;var b=this.Y;if(8===this.Ia)for(var c=new Int32Array(this.u.La.buffer,this.Ze,this.lb*this.Cd),d=new Uint8Array(this.u.La.buffer,this.Be.byteOffset,this.pa),e=0;e<c.length;e++){var f=this.R[d[e]];c[e]=f&65280|f<<16|f>>16|4278190080}else this.u.xi(this.Ia,this.Vb),e=15===this.Ia?2:this.Ia/8,a=((this.u.wi[0]/
e|0)-this.Vb)/this.A|0,b=(((this.u.vi[0]/e|0)-this.Vb)/this.A|0)+1;a<b&&(a=Math.max(a,0),b=Math.min(b,this.Y),this.screen.j([{wb:this.wb,lg:0,mg:a,af:0,bf:a,Of:this.A,Nf:b-a}]))}else{a=Math.min(this.Kd|15,524287);e=Vc(this);f=~this.l&3;b=this.kb&96;c=this.j&64;for(d=this.Ld&-16;d<=a;){var g=d>>>e;if(f){var h=d/this.i|0,k=d-this.i*h;switch(f){case 1:g=(h&1)<<13;h>>>=1;break;case 2:g=(h&1)<<14;h>>>=1;break;case 3:g=(h&3)<<13,h>>>=2}g|=(h*this.i+k>>>e)+this.g}h=this.ye[g];k=this.ze[g];var l=this.Bd[g],
m=this.Ae[g];g=new Uint8Array(8);switch(b){case 0:h<<=0;k<<=1;l<<=2;m<<=3;for(var p=7;0<=p;p--)g[7-p]=h>>p&1|k>>p&2|l>>p&4|m>>p&8;break;case 32:g[0]=h>>6&3|l>>4&12;g[1]=h>>4&3|l>>2&12;g[2]=h>>2&3|l>>0&12;g[3]=h>>0&3|l<<2&12;g[4]=k>>6&3|m>>4&12;g[5]=k>>4&3|m>>2&12;g[6]=k>>2&3|m>>0&12;g[7]=k>>0&3|m<<2&12;break;case 64:case 96:g[0]=h>>4&15,g[1]=h>>0&15,g[2]=k>>4&15,g[3]=k>>0&15,g[4]=l>>4&15,g[5]=l>>0&15,g[6]=m>>4&15,g[7]=m>>0&15}if(c)for(h=p=0;4>p;p++,d++,h+=2)this.bd[d]=g[h]<<4|g[h+1];else for(p=0;8>
p;p++,d++)this.bd[d]=g[p]}c=this.Jd;a=Math.min(this.Id,524287);b=new Int32Array(this.u.La.buffer,this.Ze,this.i*this.Sd);e=255;f=0;this.j&128&&(e&=207,f|=this.lc<<4&48);if(this.j&64)for(;c<=a;c++)d=this.bd[c]&e|f,d=this.R[d],b[c]=d&65280|d<<16|d>>16|4278190080;else for(e&=63,f|=this.lc<<4&192;c<=a;c++)d=this.Ga[this.bd[c]&this.Mc]&e|f,d=this.R[d],b[c]=d&65280|d<<16|d>>16|4278190080;this.screen.j(this.Yc)}this.Jd=this.pa;this.Id=0;this.Ld=this.pa;this.Kd=0;Yc(this)}else if(this.s){a=this.s;b=a.rb.kc&
9;c=a.rb.j&12;d=a.rb.la&159;if(a.M||a.mb!==b||a.lb!==c||a.sb!==d){h=!(b&1);k=!!(b&8);l=(h?9:8)*(k?2:1);g=!!(c&4);p=(d&31)+1;m=a.M||a.Va!==g;var w=a.g!==l||a.h!==p;a.M=!1;a.g=l;a.h=p;a.kb=!!(c&8);a.Va=g;a.mb=b;a.lb=c;a.sb=d;if(m||w)w&&(a.i=a.D*a.g,a.o=a.j*a.h,Xc(a)),a.jb=$c(a,h,k);Wc(a)}a.la&&(a.la=!1,a.A=Math.min(a.A,a.j-1),a.F=Math.min(a.F,a.D-1),a.I!==a.A||a.V!==a.F)&&(a.l[a.I]=a.l[a.A]=a.s=1,a.I=a.A,a.V=a.F);a.R&&(a.R=!1,a.Y!==a.aa||a.Ga!==a.Ha||a.S!==a.U)&&(a.Y=a.aa,a.Ga=a.Ha,a.S=a.U,a.l[a.I]=
a.s=1);if(a.s){var r=a.rb;b=r.aa;c=a.D;d=a.j;h=a.l;k=a.O;l=a.jb;g=a.g*a.h;p=256*a.Ia;m=256*a.Ra;w=p!==m;const F=a.Y&&!0,P=a.Ga,G=a.S-P+1,Q=Kc(r,r.I),N=a.kb?7:15,B=new Int32Array(16);for(var n=0;16>n;++n)B[n]=r.R[r.Ra&r.Ga[n]];n=2*c;const C=Math.max(0,2*(2*r.V-c)),S=4*a.g,K=4*a.i,X=K*a.h,Y=4*(a.g-a.h*a.i),ea=4*(a.i-a.g),ta=4*(a.I*a.i*a.h+a.V*a.g);let pa=0,Aa=0,Da=0,Ra=0,A=0,I=0,H,T,fa;r=r.g<<1;for(T=0;T<d;++T,r+=C)if(T===Q&&(r=0),h[T])for(H=T*X,fa=0;fa<c;++fa,r+=2,H+=Y){var z=b[r];var q=b[r|1];var u=
w?q&8?p:m:p;var y=B[q>>4&N];q=B[q&15];f!==y&&(f=y,Ra=f>>16,A=f>>8&255,I=f&255);e!==q&&(e=q,pa=e>>16,Aa=e>>8&255,Da=e&255);y=F&&ta===H;q=(u+z)*g;for(z=H+X;H<z;H+=ea)for(u=H+S;H<u;H+=4)l[q++]?(k[H]=pa,k[H+1]=Aa,k[H+2]=Da):(k[H]=Ra,k[H+1]=A,k[H+2]=I);if(y)for(y=ta+P*K,z=y+G*K;y<z;y+=ea)for(u=y+S;y<u;y+=4)k[y]=pa,k[y+1]=Aa,k[y+2]=Da}else r+=n;a.s=0;a.l.fill(0)}a=a.wb;this.screen.j([{wb:a,lg:0,mg:0,af:0,bf:0,Of:a.width,Nf:a.height}])}};function Lc(a){this.rb=a;this.D=80;this.j=25;this.s=0;this.l=new Uint8Array(this.j);this.M=!1;this.g=9;this.h=16;this.Va=!1;this.jb=new Uint8ClampedArray(2048*this.g*this.h);this.kb=!1;this.Ra=this.Ia=0;this.aa=this.R=!1;this.U=this.Ha=0;this.la=!1;this.F=this.A=0;this.Y=!1;this.sb=this.mb=this.lb=this.S=this.Ga=this.V=this.I=0;this.i=this.D*this.g;this.o=this.j*this.h;this.O=new Uint8ClampedArray(this.i*this.o*4);this.wb=new ImageData(this.O,this.i,this.o)}
function $c(a,b,c){const d=a.h,e=a.Va,f=a.rb.Bd,g=new Uint8ClampedArray(2048*a.g*d);a=32-d;let h=0;c=c?function(l){g[h++]=l;g[h++]=l}:function(l){g[h++]=l};let k=0;for(let l=0;8>l;++l)for(let m=0;256>m;++m,k+=a)for(let p=0;p<d;++p){const w=f[k++];for(let r=128;0<r;r>>=1)c(w&r?1:0);b&&c(e&&192<=m&&223>=m&&w&1?1:0)}return g}function Xc(a){const b=a.i*a.o*4,c=new Uint8ClampedArray(b);for(let d=3;d<b;d+=4)c[d]=255;a.O=c;a.wb=new ImageData(a.O,a.i,a.o);a.s=1;a.l.fill(1)}
function Wc(a){a.l.fill(1);a.s=1};function ad(a,b){this.u=a;this.v=b;this.we=this.kd=!1;this.pf=!0;this.he=this.Cc=this.Bc=0;this.la=!0;this.R=this.O=this.F=this.M=this.S=this.I=this.hf=!1;this.ua=new Bb(1024);this.l=0;this.yd=100;this.j=this.i=0;this.A=!1;this.Gc=0;this.Qe=4;this.s=!1;this.g=new Bb(1024);this.D=this.o=!1;this.v.register("keyboard-code",function(c){this.hf&&(this.ua.push(c),this.Ya())},this);this.v.register("mouse-click",function(c){this.pf&&this.we&&(this.he=c[0]|c[2]<<1|c[1]<<2,this.kd&&bd(this,0,0))},this);this.v.register("mouse-delta",
function(c){var d=c[1];if(this.pf&&this.we){var e=this.Qe*this.yd/80;this.Bc+=c[0]*e;this.Cc+=d*e;this.kd&&(c=this.Bc|0,d=this.Cc|0,c||d)&&(this.Bc-=c,this.Cc-=d,bd(this,c,d))}},this);this.v.register("mouse-wheel",function(c){this.Gc-=c[0];this.Gc-=2*c[1];this.Gc=Math.min(7,Math.max(-8,this.Gc));bd(this,0,0)},this);this.h=5;this.aa=0;this.V=this.U=this.Y=!1;M(a.C,96,this,this.Dk);M(a.C,100,this,this.Fk);O(a.C,96,this,this.Ek);O(a.C,100,this,this.Gk)}t=ad.prototype;
t.ga=function(){var a=[];a[0]=this.kd;a[1]=this.we;a[2]=this.pf;a[3]=this.Bc;a[4]=this.Cc;a[5]=this.he;a[6]=this.la;a[7]=this.hf;a[8]=this.I;a[9]=this.S;a[10]=this.M;a[11]=this.F;a[12]=this.O;a[13]=this.R;a[15]=this.l;a[16]=this.yd;a[17]=this.Qe;a[18]=this.s;a[20]=this.h;a[21]=this.Y;a[22]=this.U;a[23]=this.aa;a[24]=this.V;a[25]=this.j;a[26]=this.i;a[27]=this.A;return a};
t.H=function(a){this.kd=a[0];this.we=a[1];this.pf=a[2];this.Bc=a[3];this.Cc=a[4];this.he=a[5];this.la=a[6];this.hf=a[7];this.I=a[8];this.S=a[9];this.M=a[10];this.F=a[11];this.O=a[12];this.R=a[13];this.l=a[15];this.yd=a[16];this.Qe=a[17];this.s=a[18];this.h=a[20];this.Y=a[21];this.U=a[22];this.aa=a[23];this.V=a[24];this.j=a[25]||0;this.i=a[26]||0;this.A=a[27]||!1;this.D=this.o=!1;this.ua.clear();this.g.clear();this.v.send("mouse-enable",this.we)};
t.Ya=function(){this.o||(this.ua.length?cd(this):this.g.length&&dd(this))};function dd(a){a.o=!0;a.D=!0;a.h&2&&(Kb(a.u,12),a.u.$a(12))}function cd(a){a.o=!0;a.D=!1;a.h&1&&(Kb(a.u,1),a.u.$a(1))}function bd(a,b,c){a.g.push((0>c)<<5|(0>b)<<4|8|a.he);a.g.push(b);a.g.push(c);4===a.j?(a.g.push(0|a.Gc&15),a.Gc=0):3===a.j&&(a.g.push(a.Gc&255),a.Gc=0);a.Ya()}
t.Dk=function(){this.o=!1;if(!this.ua.length&&!this.g.length)return this.l;this.D?(Kb(this.u,12),this.l=this.g.shift()):(Kb(this.u,1),this.l=this.ua.shift());(this.ua.length||this.g.length)&&this.Ya();return this.l};t.Fk=function(){var a=16;this.o&&(a|=1);this.D&&(a|=32);return a};
t.Ek=function(a){if(this.U)this.h=a,this.U=!1;else if(this.Y)this.Y=!1,this.g.clear(),this.g.push(a),dd(this);else if(this.S){this.S=!1;this.g.clear();this.g.push(250);this.yd=a;switch(this.i){case -1:60===a?(this.A=!0,this.i=0):(this.A=!1,this.i=200===a?1:0);break;case 0:200===a&&(this.i=1);break;case 1:this.i=100===a?2:200===a?3:0;break;case 2:80===a&&(this.j=3);this.i=-1;break;case 3:80===a&&(this.j=4),this.i=-1}this.yd||(this.yd=100);dd(this)}else if(this.R)this.R=!1,this.g.clear(),this.g.push(250),
this.Qe=3<a?4:1<<a,dd(this);else if(this.M)this.M=!1,this.ua.push(250),cd(this);else if(this.F)this.F=!1,this.ua.push(250),cd(this),a||this.ua.push(1);else if(this.O)this.O=!1,this.ua.push(250),cd(this);else if(this.I){if(this.I=!1,this.pf){this.ua.clear();this.g.clear();this.g.push(250);switch(a){case 230:this.s=!1;break;case 231:this.s=!0;break;case 232:this.R=!0;break;case 233:bd(this,0,0);break;case 235:bd(this,0,0);break;case 242:this.g.push(this.j);this.he=this.Bc=this.Cc=0;this.Ya();break;
case 243:this.S=!0;break;case 244:this.we=this.kd=!0;this.v.send("mouse-enable",!0);this.he=this.Bc=this.Cc=0;break;case 245:this.kd=!1;break;case 246:this.kd=!1;this.yd=100;this.s=!1;this.Qe=4;break;case 255:this.g.push(170),this.g.push(0),this.we=!0,this.v.send("mouse-enable",!0),this.kd=!1,this.yd=100,this.s=!1,this.Qe=4,this.A||(this.j=0),this.he=this.Bc=this.Cc=0}dd(this)}}else if(this.V)this.V=!1,this.aa=a;else{this.g.clear();this.ua.clear();this.ua.push(250);switch(a){case 237:this.M=!0;break;
case 240:this.F=!0;break;case 242:this.ua.push(171);this.ua.push(131);break;case 243:this.O=!0;break;case 244:this.hf=!0;break;case 245:this.hf=!1;break;case 255:this.ua.clear(),this.ua.push(250),this.ua.push(170),this.ua.push(0)}cd(this)}};
t.Gk=function(a){switch(a){case 32:this.ua.clear();this.g.clear();this.ua.push(this.h);cd(this);break;case 96:this.U=!0;break;case 209:this.V=!0;break;case 211:this.Y=!0;break;case 212:this.I=!0;break;case 167:this.h|=32;break;case 168:this.h&=-33;break;case 169:this.ua.clear();this.g.clear();this.ua.push(0);cd(this);break;case 170:this.ua.clear();this.g.clear();this.ua.push(85);cd(this);break;case 171:this.ua.clear();this.g.clear();this.ua.push(0);cd(this);break;case 173:this.h|=16;break;case 174:this.h&=
-17;break;case 254:a=this.u,a.o(),a.vb=[],ob(a)}};function ed(a){this.u=a;this.Wd=0;this.da=new Uint8Array(128);this.D=this.g=Date.now();this.l=this.j=0;this.s=!1;this.A=.9765625;this.o=38;this.h=2;this.Eg=this.i=0;O(a.C,112,this,function(b){this.Wd=b&127;this.Eg=b>>7});O(a.C,113,this,this.Gi);M(a.C,113,this,this.Fi)}t=ed.prototype;t.ga=function(){var a=[];a[0]=this.Wd;a[1]=this.da;a[2]=this.g;a[3]=this.D;a[4]=this.j;a[5]=this.l;a[6]=this.s;a[7]=this.A;a[8]=this.o;a[9]=this.h;a[10]=this.i;a[11]=this.Eg;return a};
t.H=function(a){this.Wd=a[0];this.da=a[1];this.g=a[2];this.D=a[3];this.j=a[4];this.l=a[5];this.s=a[6];this.A=a[7];this.o=a[8];this.h=a[9];this.i=a[10];this.Eg=a[11]};t.ic=function(a){a=Date.now();this.g+=a-this.D;this.D=a;this.s&&this.j<a?(this.u.$a(8),this.i|=192,this.j+=this.A*Math.ceil((a-this.j)/this.A)):this.l&&this.l<a&&(this.u.$a(8),this.i|=160,this.l=0);let b=100;this.s&&this.j&&(b=Math.min(b,Math.max(0,this.j-a)));this.l&&(b=Math.min(b,Math.max(0,this.l-a)));return b};
function fd(a,b){if(a.h&4)a=b;else{a=b;for(var c=b=0,d;a;)d=a%10,c|=d<<4*b,b++,a=(a-d)/10;a=c}return a}function gd(a,b){var c;a.h&4?c=b:c=(b&15)+10*(b>>4&15);return c}
t.Fi=function(){switch(this.Wd){case 0:return fd(this,(new Date(this.g)).getUTCSeconds());case 2:return fd(this,(new Date(this.g)).getUTCMinutes());case 4:return fd(this,(new Date(this.g)).getUTCHours());case 6:return fd(this,(new Date(this.g)).getUTCDay()+1);case 7:return fd(this,(new Date(this.g)).getUTCDate());case 8:return fd(this,(new Date(this.g)).getUTCMonth()+1);case 9:return fd(this,(new Date(this.g)).getUTCFullYear()%100);case 10:return 999<=qb()%1E3?this.o|128:this.o;case 11:return this.h;
case 12:Kb(this.u,8);var a=this.i;this.i&=-241;return a;case 13:return 0;case 50:case 55:return fd(this,(new Date(this.g)).getUTCFullYear()/100|0);default:return this.da[this.Wd]}};
t.Gi=function(a){switch(this.Wd){case 10:this.o=a&127;this.A=1E3/(32768>>(this.o&15)-1);break;case 11:this.h=a;this.h&64&&(this.j=Date.now());if(this.h&32){a=new Date;const b=gd(this,this.da[1]),c=gd(this,this.da[3]),d=gd(this,this.da[5]);this.l=+new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),d,c,b))}break;case 1:case 3:case 5:this.da[this.Wd]=a}this.s=64===(this.h&64)&&0<(this.o&15)};function hd(a,b,c){this.v=c;this.u=a;this.h=4;this.nd=this.fd=0;this.fe=96;this.Pc=this.kf=0;this.Qc=1;this.na=this.kg=this.Xa=this.bg=0;this.input=[];switch(b){case 1016:this.g=0;this.na=4;break;case 760:this.g=1;this.na=3;break;case 1E3:this.g=2;this.na=4;break;case 744:this.na=this.g=3;break;default:this.g=0,this.na=4}this.v.register("serial"+this.g+"-input",function(d){this.input.push(d);this.fe|=1;this.kf&1?id(this,12):id(this,4)},this);this.v.register("serial"+this.g+"-modem-status-input",function(d){jd(this,
d)},this);this.v.register("serial"+this.g+"-carrier-detect-input",function(d){jd(this,d?this.Xa|136:this.Xa&-137)},this);this.v.register("serial"+this.g+"-ring-indicator-input",function(d){jd(this,d?this.Xa|68:this.Xa&-69)},this);this.v.register("serial"+this.g+"-data-set-ready-input",function(d){jd(this,d?this.Xa|34:this.Xa&-35)},this);this.v.register("serial"+this.g+"-clear-to-send-input",function(d){jd(this,d?this.Xa|17:this.Xa&-18)},this);a=a.C;O(a,b,this,function(d){kd(this,d)},function(d){kd(this,
d&255);kd(this,d>>8)});O(a,b|1,this,function(d){this.nd&128?this.fd=this.fd&255|d<<8:(0===(this.Pc&2)&&d&2&&id(this,2),this.Pc=d&15,ld(this))});M(a,b,this,function(){if(this.nd&128)return this.fd&255;let d=0;0!==this.input.length&&(d=this.input.shift());0===this.input.length&&(this.fe&=-2,md(this,12),md(this,4));return d});M(a,b|1,this,function(){return this.nd&128?this.fd>>8:this.Pc&15});M(a,b|2,this,function(){var d=this.Qc&15;2===this.Qc&&md(this,2);this.kf&1&&(d|=192);return d});O(a,b|2,this,
function(d){this.kf=d});M(a,b|3,this,function(){return this.nd});O(a,b|3,this,function(d){this.nd=d});M(a,b|4,this,function(){return this.bg});O(a,b|4,this,function(d){this.bg=d});M(a,b|5,this,function(){return this.fe});O(a,b|5,this,function(){});M(a,b|6,this,function(){return this.Xa&=240});O(a,b|6,this,function(d){jd(this,d)});M(a,b|7,this,function(){return this.kg});O(a,b|7,this,function(d){this.kg=d})}
hd.prototype.ga=function(){var a=[];a[0]=this.h;a[1]=this.fd;a[2]=this.nd;a[3]=this.fe;a[4]=this.kf;a[5]=this.Pc;a[6]=this.Qc;a[7]=this.bg;a[8]=this.Xa;a[9]=this.kg;a[10]=this.na;return a};hd.prototype.H=function(a){this.h=a[0];this.fd=a[1];this.nd=a[2];this.fe=a[3];this.kf=a[4];this.Pc=a[5];this.Qc=a[6];this.bg=a[7];this.Xa=a[8];this.kg=a[9];this.na=a[10]};
function ld(a){a.h&4096&&a.Pc&1?(a.Qc=12,a.u.$a(a.na)):a.h&16&&a.Pc&1?(a.Qc=4,a.u.$a(a.na)):a.h&4&&a.Pc&2?(a.Qc=2,a.u.$a(a.na)):a.h&1&&a.Pc&8?(a.Qc=0,a.u.$a(a.na)):(a.Qc=1,Kb(a.u,a.na))}function id(a,b){a.h|=1<<b;ld(a)}function md(a,b){a.h&=~(1<<b);ld(a)}function kd(a,b){a.nd&128?a.fd=a.fd&-256|b:(id(a,2),a.v.send("serial"+a.g+"-output-byte",b))}function jd(a,b){let c=(a.Xa^b)>>4;c|=a.Xa&15;a.Xa=b;a.Xa|=c};function nd(a){this.u=a;var b=a.C;Vb(a.B.eb,{Sa:56,P:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],Pb:[],name:"acpi"});this.g=this.h=0;this.status=1;this.vf=this.le=0;this.i=od(this,qb());this.zc=new Uint8Array(4);M(b,45056,this,void 0,function(){return this.le});O(b,45056,this,void 0,function(c){this.le&=~c});M(b,45058,this,void 0,function(){return this.vf});O(b,45058,this,void 0,function(c){this.vf=
c});M(b,45060,this,void 0,function(){return this.status});O(b,45060,this,void 0,function(c){this.status=c});M(b,45064,this,void 0,void 0,function(){return od(this,qb())&16777215});M(b,45024,this,function(){return this.zc[0]});M(b,45025,this,function(){return this.zc[1]});M(b,45026,this,function(){return this.zc[2]});M(b,45027,this,function(){return this.zc[3]});O(b,45024,this,function(c){this.zc[0]=c});O(b,45025,this,function(c){this.zc[1]=c});O(b,45026,this,function(c){this.zc[2]=c});O(b,45027,this,
function(c){this.zc[3]=c})}nd.prototype.ic=function(a){a=od(this,a);var b=0!==((a^this.i)&8388608);this.vf&1&&b?(this.le|=1,this.u.$a(9)):Kb(this.u,9);this.i=a;return 100};function od(a,b){b=Math.round(3579.545*b);b===a.h?3579.545>a.g&&a.g++:a.h+a.g<=b&&(a.g=0,a.h=b);return a.h+a.g}nd.prototype.ga=function(){var a=[];a[0]=this.status;a[1]=this.le;a[2]=this.vf;a[3]=this.zc;return a};nd.prototype.H=function(a){this.status=a[0];this.le=a[1];this.vf=a[2];this.zc=a[3]};function pd(a){this.u=a;this.aa=this.A=0;this.la=1;this.g=this.l=0;this.j=qb();this.O=this.S=this.R=this.U=this.h=65536;this.I=this.F=this.s=0;this.i=new Int32Array(8);this.bb=new Int32Array(8);this.o=new Int32Array(8);this.Y=254;this.D=-1;this.V=this.error=this.M=0;ib(a.C,4276092928,1048576,b=>{var c=b&3;return this.yf(b&-4)>>8*c&255},()=>{},b=>this.yf(b),(b,c)=>this.Aa(b,c))}t=pd.prototype;
t.yf=function(a){a=a-4276092928|0;switch(a){case 32:return this.A;case 48:return 327700;case 128:return this.s;case 208:return this.M;case 224:return this.D;case 240:return this.Y;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return this.bb[a-256>>4];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return this.o[a-384>>4];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return this.i[a-512>>4];case 640:return this.V;case 768:return this.F;
case 784:return this.I;case 800:return this.h;case 832:return this.U;case 848:return this.R;case 864:return this.S;case 880:return this.O;case 992:return this.aa;case 896:return this.l;case 912:return this.g;default:return 0}};
t.Aa=function(a,b){switch(a-4276092928|0){case 32:this.A=b;break;case 128:this.s=b&255;qd(this);break;case 176:b=rd(this.bb);if(-1!==b){sd(this.bb,b);if(this.o[b>>5]>>(b&31)&1){a=this.u.B.md;for(var c=0;24>c;c++){var d=a.g[c];(d&255)===b&&d&16384&&(a.g[c]&=-16385,td(a,c))}}qd(this)}break;case 208:this.M=b&4278190080;break;case 224:this.D=b|16777215;break;case 240:this.Y=b;break;case 640:this.V=this.error;this.error=0;break;case 768:a=b&255;c=b>>8&7;d=b>>15&1;var e=b>>18&3;this.F=b&-4097;0===e?ud(this,
a,c,d):1===e?ud(this,a,0,d):2===e&&ud(this,a,c,d);break;case 784:this.I=b;break;case 800:this.h=b;break;case 832:this.U=b;break;case 848:this.R=b;break;case 864:this.S=b;break;case 880:this.O=b;break;case 992:this.aa=b;b=b&3|(b&8)>>1;this.la=7===b?0:b+1;break;case 896:this.l=b>>>0,this.g=b>>>0,this.j=qb()}};
t.ic=function(a){if(0===this.g)return 100;const b=1E6/(1<<this.la);a=(a-this.j)*b>>>0;this.j+=a/b;this.g-=a;0>=this.g&&(a=this.h&393216,131072===a?(this.g%=this.l,0>=this.g&&(this.g+=this.l),0===(this.h&65536)&&ud(this,this.h&255,0,!1)):0===a&&(this.g=0,0===(this.h&65536)&&ud(this,this.h&255,0,!1)));return Math.max(0,this.g/b)};function ud(a,b,c,d){5===c||4===c||a.i[b>>5]>>(b&31)&1||(vd(a.i,b),d?vd(a.o,b):sd(a.o,b),qd(a))}
function qd(a){var b=rd(a.i);-1!==b&&(rd(a.bb)>=b||(b&240)<=(a.s&240)||a.u.Gd())}t.ga=function(){var a=[];a[0]=this.A;a[1]=this.aa;a[2]=this.la;a[3]=this.l;a[4]=this.g;a[5]=this.j;a[6]=this.h;a[7]=this.U;a[8]=this.R;a[9]=this.S;a[10]=this.O;a[11]=this.s;a[12]=this.F;a[13]=this.I;a[14]=this.i;a[15]=this.bb;a[16]=this.o;a[17]=this.Y;a[18]=this.D;a[19]=this.M;a[20]=this.error;a[21]=this.V;return a};
t.H=function(a){this.A=a[0];this.aa=a[1];this.la=a[2];this.l=a[3];this.g=a[4];this.j=a[5];this.h=a[6];this.U=a[7];this.R=a[8];this.S=a[9];this.O=a[10];this.s=a[11];this.F=a[12];this.I=a[13];this.i=a[14];this.bb=a[15];this.o=a[16];this.Y=a[17];this.D=a[18];this.M=a[19];this.error=a[20];this.V=a[21]};function vd(a,b){a[b>>5]|=1<<(b&31)}function sd(a,b){a[b>>5]&=~(1<<(b&31))}function rd(a){for(var b=7;0<=b;b--){var c=a[b];if(c)return sb(c>>>0)|b<<5}return-1};function wd(a){this.u=a;this.g=new Int32Array(24);this.o=new Int32Array(24);for(var b=0;b<this.g.length;b++)this.g[b]=65536;this.i=this.h=this.l=this.j=0;ib(a.C,4273995776,131072,c=>{c=c-4273995776|0;return 16<=c&&20>c?(c-=16,this.read(this.j)>>8*c&255):0},()=>{},c=>{c=c-4273995776|0;return 0===c?this.j:16===c?this.read(this.j):0},(c,d)=>{c=c-4273995776|0;0===c?this.j=d:16===c&&this.write(this.j,d)})}
function td(a,b){var c=1<<b;if(0!==(a.h&c)){var d=a.g[b];if(0===(d&65536)){var e=d>>8&7;if(0===(d&32768))a.h&=~c;else if(a.g[b]|=16384,d&16384)return;0!==e&&1!==e||ud(a.u.B.Ce,d&255,e,32768===(d&32768));a.g[b]&=-4097}}}wd.prototype.read=function(a){if(0===a)return this.l<<24;if(1===a)return 1507345;if(2===a)return this.l<<24;if(16<=a&&64>a){var b=a-16>>1;return a&1?this.o[b]:this.g[b]}return 0};
wd.prototype.write=function(a,b){if(0===a)this.l=b>>>24&15;else if(1!==a&&2!==a&&16<=a&&64>a){var c=a-16>>1;a&1?this.o[c]=b&4278190080:(this.g[c]=b&110591|this.g[c]&-110592,td(this,c))}};wd.prototype.ga=function(){var a=[];a[0]=this.g;a[1]=this.o;a[2]=this.j;a[3]=this.l;a[4]=this.h;a[5]=this.i;return a};wd.prototype.H=function(a){this.g=a[0];this.o=a[1];this.j=a[2];this.l=a[3];this.h=a[4];this.i=a[5]};function xd(a){this.message=a}xd.prototype=Error();const yd={Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array};
function zd(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array)return a.map(e=>zd(e,b));a.constructor===Object&&console.log(a);if(a.BYTES_PER_ELEMENT){var c=new Uint8Array(a.buffer,a.byteOffset,a.length*a.BYTES_PER_ELEMENT);return{__state_type__:a.constructor.name.replace("bound ",""),buffer_id:b.push(c)-1}}a=a.ga();c=[];for(var d=0;d<a.length;d++)c[d]=zd(a[d],b);return c}
function Ad(a,b){if("object"!==typeof a||null===a)return a;if(a instanceof Array){for(let c=0;c<a.length;c++)a[c]=Ad(a[c],b);return a}return new yd[a.__state_type__](b[a.buffer_id])}
lb.prototype.Bf=function(){for(var a=[],b=zd(this,a),c=[],d=0,e=0;e<a.length;e++){var f=a[e].byteLength;c[e]={offset:d,length:f};d+=f;d=d+3&-4}e=JSON.stringify({buffer_infos:c,state:b});e=(new TextEncoder).encode(e);b=16+e.length;b=b+3&-4;f=b+d;d=new ArrayBuffer(f);var g=new Int32Array(d,0,4);(new Uint8Array(d,16,e.length)).set(e);b=new Uint8Array(d,b);g[0]=-2039052682;g[1]=6;g[2]=f;g[3]=e.length;for(e=0;e<a.length;e++)b.set(a[e],c[e].offset);return d};
lb.prototype.Re=function(a){function b(p,w){const r=p.length;if(16>r)throw new xd("Invalid length: "+r);p=new Int32Array(p.buffer,p.byteOffset,4);if(-2039052682!==p[0])throw new xd("Invalid header: "+zb(p[0]>>>0));if(6!==p[1])throw new xd("Version mismatch: dump="+p[1]+" we=6");if(w&&p[2]!==r)throw new xd("Length doesn't match header: real="+r+" header="+p[2]);return p[3]}function c(p){p=(new TextDecoder).decode(p);return JSON.parse(p)}a=new Uint8Array(a);if(4247762216===(new Uint32Array(a.buffer,
0,1))[0]){var d=this.li(a.length);(new Uint8Array(this.La.buffer,this.oi(d),a.length)).set(a);var e=this.Xe(d,16),f=new Uint8Array(this.La.buffer,e,16),g=b(f,!1);this.Ye(e,16);e=this.Xe(d,g);f=new Uint8Array(this.La.buffer,e,g);f=c(f);this.Ye(e,g);e=f.state;var h=f.buffer_infos;f=[];g=16+g;for(var k of h){h=(g+3&-4)-g;if(1048576<k.length){var l=this.Xe(d,h);this.Ye(l,h);l=new Uint8Array(k.length);f.push(l.buffer);for(var m=0;m<k.length;){const p=Math.min(k.length-m,1048576),w=this.Xe(d,p);l.set(new Uint8Array(this.La.buffer,
w,p),m);this.Ye(w,p);m+=p}}else l=this.Xe(d,h+k.length),m=l+h,f.push(this.La.buffer.slice(m,m+k.length)),this.Ye(l,h+k.length);g+=h+k.length}e=Ad(e,f);this.H(e);this.ni(d)}else{k=b(a,!0);if(0>k||k+12>=a.length)throw new xd("Invalid info block length: "+k);e=c(a.subarray(16,16+k));d=e.state;e=e.buffer_infos;let p=16+k;p=p+3&-4;k=e.map(w=>{const r=p+w.offset;return a.buffer.slice(r,r+w.length)});d=Ad(d,k);this.H(d)}};function Bd(a,b,c){a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5]);a[6]===b[0]&&a[7]===b[1]&&a[8]===b[2]&&a[9]===b[3]&&a[10]===b[4]&&a[11]===b[5]&&(a[6]=c[0],a[7]=c[1],a[8]=c[2],a[9]=c[3],a[10]=c[4],a[11]=c[5]);var d=a[12]<<8|a[13];if(2048===d){if(a=a.subarray(14),4===a[0]>>4&&17===a[9]&&(a=a.subarray(20),d=a[2]<<8|a[3],67===(a[0]<<8|a[1])||67===d)){const e=a.subarray(8);if(1669485411===(e[236]<<24|e[237]<<
16|e[238]<<8|e[239]))for(e[28]===b[0]&&e[29]===b[1]&&e[30]===b[2]&&e[31]===b[3]&&e[32]===b[4]&&e[33]===b[5]&&(e[28]=c[0],e[29]=c[1],e[30]=c[2],e[31]=c[3],e[32]=c[4],e[33]=c[5],a[6]=a[7]=0),d=240;d<e.length;){const f=e[d++];if(255===f)break;const g=e[d++];61===f&&1===e[d+0]&&e[d+1]===b[0]&&e[d+2]===b[1]&&e[d+3]===b[2]&&e[d+4]===b[3]&&e[d+5]===b[4]&&e[d+6]===b[5]&&(e[d+1]=c[0],e[d+2]=c[1],e[d+3]=c[2],e[d+4]=c[3],e[d+5]=c[4],e[d+6]=c[5],a[6]=a[7]=0);d+=g}}}else 2054===d&&(a=a.subarray(14),a[8]===b[0]&&
a[9]===b[1]&&a[10]===b[2]&&a[11]===b[3]&&a[12]===b[4]&&a[13]===b[5]&&(a[8]=c[0],a[9]=c[1],a[10]=c[2],a[11]=c[3],a[12]=c[4],a[13]=c[5]))}function Cd(a){return[a[0].toString(16).padStart(2,"0"),a[1].toString(16).padStart(2,"0"),a[2].toString(16).padStart(2,"0"),a[3].toString(16).padStart(2,"0"),a[4].toString(16).padStart(2,"0"),a[5].toString(16).padStart(2,"0")].join(":")}
function Dd(a,b,c,d){this.u=a;this.eb=a.B.eb;this.id=0;this.pe=c;this.Ob=d;this.v=b;this.v.register("net"+this.id+"-receive",function(e){this.Oa(e)},this);this.port=768+256*this.id;this.name="ne2k";this.P=[236,16,41,128,3,1,0,0,0,0,0,2,0,0,0,0,this.port&255|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0];this.Sa=(0===this.id?5:7+this.id)<<3;this.Pb=[{size:32}];this.Xf=this.bb=0;this.nb=1;this.qg=this.ve=this.ec=this.ef=0;this.memory=
new Uint8Array(32768);this.Vg=this.Se=0;this.Ug=1;this.ja=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",Cd(this.ja));this.od=Uint8Array.of(255,255,255,255,255,255,255,255);this.tf=null;for(b=0;6>b;b++)this.memory[b<<1]=this.memory[b<<1|1]=this.ja[b];this.memory[28]=this.memory[29]=87;this.memory[30]=this.memory[31]=87;this.Fa=0;this.Fc=64;this.zb=128;this.gd=this.nc=76;b=a.C;M(b,this.port|0,this,function(){return this.nb});O(b,
this.port|0,this,function(e){this.nb=e;this.nb&1||(e&24&&0===this.ec&&Ed(this,64),e&4&&(e=this.qg<<8,e=this.memory.subarray(e,e+this.ve),this.tf&&(e=new Uint8Array(e),Bd(e,this.tf,this.ja)),this.v.send("net"+this.id+"-send",e),this.v.send("eth-transmit-end",[e.length]),this.nb&=-5,Ed(this,2)))});M(b,this.port|13,this,function(){return 1===U(this)?this.od[5]:0});M(b,this.port|14,this,function(){return 1===U(this)?this.od[6]:0},function(){return 0});M(b,this.port|15,this,function(){return 1===U(this)?
this.od[7]:0});M(b,this.port|31,this,function(){Ed(this,128);return 0});O(b,this.port|31,this,function(){});M(b,this.port|1,this,function(){var e=U(this);return 0===e?this.Fc:1===e?this.ja[0]:2===e?this.Fc:0});O(b,this.port|1,this,function(e){var f=U(this);0===f?this.Fc=e:1===f&&(this.ja[0]=e)});M(b,this.port|2,this,function(){var e=U(this);return 0===e?this.zb:1===e?this.ja[1]:2===e?this.zb:0});O(b,this.port|2,this,function(e){var f=U(this);0===f?(e>this.memory.length>>8&&(e=this.memory.length>>
8),this.zb=e):1===f&&(this.ja[1]=e)});M(b,this.port|7,this,function(){var e=U(this);return 0===e?this.bb:1===e?this.nc:0});O(b,this.port|7,this,function(e){var f=U(this);0===f?(this.bb&=~e,Fd(this)):1===f&&(this.nc=e)});O(b,this.port|13,this,function(e){0===U(this)&&(this.Vg=e)});O(b,this.port|14,this,function(e){0===U(this)&&(this.ef=e)});M(b,this.port|10,this,function(){var e=U(this);return 0===e?80:1===e?this.od[2]:0});O(b,this.port|10,this,function(e){0===U(this)&&(this.ec=this.ec&65280|e&255)});
M(b,this.port|11,this,function(){var e=U(this);return 0===e?67:1===e?this.od[3]:0});O(b,this.port|11,this,function(e){0===U(this)&&(this.ec=this.ec&255|e<<8&65280)});M(b,this.port|8,this,function(){var e=U(this);return 0===e?this.Fa&255:1===e?this.od[0]:0});O(b,this.port|8,this,function(e){0===U(this)&&(this.Fa=this.Fa&65280|e&255)});M(b,this.port|9,this,function(){var e=U(this);return 0===e?this.Fa>>8&255:1===e?this.od[1]:0});O(b,this.port|9,this,function(e){0===U(this)&&(this.Fa=this.Fa&255|e<<
8&65280)});O(b,this.port|15,this,function(e){0===U(this)&&(this.Xf=e,Fd(this))});M(b,this.port|3,this,function(){var e=U(this);return 0===e?this.gd:1===e?this.ja[2]:0});O(b,this.port|3,this,function(e){var f=U(this);0===f?this.gd=e:1===f&&(this.ja[2]=e)});M(b,this.port|4,this,function(){var e=U(this);return 0===e?this.Ug:1===e?this.ja[3]:0});O(b,this.port|4,this,function(e){var f=U(this);0===f?this.qg=e:1===f&&(this.ja[3]=e)});M(b,this.port|5,this,function(){var e=U(this);return 0===e?0:1===e?this.ja[4]:
0});O(b,this.port|5,this,function(e){var f=U(this);0===f?this.ve=this.ve&-256|e:1===f&&(this.ja[4]=e)});M(b,this.port|6,this,function(){var e=U(this);return 0===e?0:1===e?this.ja[5]:0});O(b,this.port|6,this,function(e){var f=U(this);0===f?this.ve=this.ve&255|e<<8:1===f&&(this.ja[5]=e)});M(b,this.port|12,this,function(){var e=U(this);return 0===e?9:1===e?this.od[4]:0});O(b,this.port|12,this,function(e){0===U(this)&&(this.Se=e)});M(b,this.port|16,this,this.Li,this.fh,this.Ki);O(b,this.port|16,this,
this.gh,this.gh,this.Mi);Vb(a.B.eb,this)}t=Dd.prototype;t.ga=function(){var a=[];a[0]=this.bb;a[1]=this.Xf;a[2]=this.nb;a[3]=this.ef;a[4]=this.ec;a[5]=this.ve;a[6]=this.qg;a[7]=this.Fa;a[8]=this.Fc;a[9]=this.nc;a[10]=this.gd;a[11]=this.zb;a[12]=this.Se;a[13]=this.Vg;a[14]=this.Ug;a[15]=this.ja;a[16]=this.memory;return a};
t.H=function(a){this.bb=a[0];this.Xf=a[1];this.nb=a[2];this.ef=a[3];this.ec=a[4];this.ve=a[5];this.qg=a[6];this.Fa=a[7];this.Fc=a[8];this.nc=a[9];this.gd=a[10];this.zb=a[11];this.Se=a[12];this.Vg=a[13];this.Ug=a[14];this.pe?(this.ja=a[15],this.memory=a[16]):this.Ob&&(this.tf=a[15],this.memory=a[16]);this.v.send("net"+this.id+"-mac",Cd(this.ja))};function Ed(a,b){a.bb|=b;Fd(a)}function Fd(a){a.Xf&a.bb?a.eb.Ya(a.Sa):nc(a.eb,a.Sa)}
function Gd(a,b){if(16>=a.Fa||16384<=a.Fa&&32768>a.Fa)a.memory[a.Fa]=b;a.Fa++;a.ec--;a.Fa>=a.zb<<8&&(a.Fa+=a.Fc-a.zb<<8);0===a.ec&&Ed(a,64)}t.gh=function(a){Gd(this,a);this.ef&1&&Gd(this,a>>8)};t.Mi=function(a){Gd(this,a);Gd(this,a>>8);Gd(this,a>>16);Gd(this,a>>24)};function Hd(a){let b=0;32768>a.Fa&&(b=a.memory[a.Fa]);a.Fa++;a.ec--;a.Fa>=a.zb<<8&&(a.Fa+=a.Fc-a.zb<<8);0===a.ec&&Ed(a,64);return b}t.Li=function(){return this.fh()&255};t.fh=function(){return this.ef&1?Hd(this)|Hd(this)<<8:Hd(this)};
t.Ki=function(){return Hd(this)|Hd(this)<<8|Hd(this)<<16|Hd(this)<<24};
t.Oa=function(a){if(!(this.nb&1)&&(this.v.send("eth-receive-end",[a.length]),this.Se&16||this.Se&4&&255===a[0]&&255===a[1]&&255===a[2]&&255===a[3]&&255===a[4]&&255===a[5]||!(this.Se&8&&1===(a[0]&1)||a[0]!==this.ja[0]||a[1]!==this.ja[1]||a[2]!==this.ja[2]||a[3]!==this.ja[3]||a[4]!==this.ja[4]||a[5]!==this.ja[5]))){this.tf&&(a=new Uint8Array(a),Bd(a,this.ja,this.tf));var b=this.nc<<8,c=Math.max(60,a.length)+4,d=b+4,e=this.nc+1+(c>>8);if(!((this.gd>this.nc?this.gd-this.nc:this.zb-this.nc+this.gd-this.Fc)<
1+(c>>8)&&0!==this.gd)){if(b+c>this.zb<<8){var f=(this.zb<<8)-d;this.memory.set(a.subarray(0,f),d);this.memory.set(a.subarray(f),this.Fc<<8)}else this.memory.set(a,d),60>a.length&&this.memory.fill(0,d+a.length,d+60);e>=this.zb&&(e+=this.Fc-this.zb);this.memory[b]=1;this.memory[b+1]=e;this.memory[b+2]=c;this.memory[b+3]=c>>8;this.nc=e;Ed(this,1)}}};function U(a){return a.nb>>6&3};var Id=new Uint8Array(256),Jd=[],Kd=[],Ld=[],Md=new Uint8Array(256),Nd=[];
function Od(a,b){this.u=a;this.v=b;this.Ua=new Bb(64);this.ra=new Bb(64);this.i=this.o=this.Wb=this.I=0;this.T=new Uint8Array(256);Pd(this);this.Ie=!1;this.Ef=0;this.Zb=this.Yb=this.Zd=this.Kc=!1;this.pc=[new Cb,new Cb];this.Ib=a.B.Ib;this.Jb=this.Jc=this.j=this.sc=this.l=this.D=0;this.tc=1;this.Yd=5;this.rc=!1;this.g=new ArrayBuffer(65536);this.Y=new Int8Array(this.g);this.A=new Uint8Array(this.g);this.V=new Int16Array(this.g);this.aa=new Uint16Array(this.g);this.Ga=new tb(this.g);this.uc=this.s=
!1;this.Fb=22050;b.send("dac-tell-sampling-rate",this.Fb);this.h=1;this.O=170;this.M=0;this.Td=new Uint8Array(256);this.F=new Bb(64);this.S=this.R=this.Ia=0;this.cj=!1;this.na=5;this.be=new Uint8Array(16);a.C.se(544,this,this.Jh,this.Lh,this.vj,this.xj);a.C.se(904,this,this.Jh,this.Lh);a.C.se(548,this,this.zj,this.Bj);M(a.C,550,this,this.Dj);M(a.C,551,this,this.Fj);M(a.C,552,this,this.Hj);M(a.C,553,this,this.Jj);M(a.C,554,this,this.Lj);M(a.C,555,this,this.Nj);M(a.C,556,this,this.Pj);M(a.C,557,this,
this.Rj);a.C.se(558,this,this.Tj,this.Vj);a.C.ad(544,this,this.Kh,this.Mh,this.wj,this.yj);a.C.ad(904,this,this.Kh,this.Mh);a.C.ad(548,this,this.Aj,this.Cj);O(a.C,550,this,this.Ej);O(a.C,551,this,this.Gj);a.C.ad(552,this,this.Ij,this.Kj);O(a.C,554,this,this.Mj);O(a.C,555,this,this.Oj);O(a.C,556,this,this.Qj);O(a.C,557,this,this.Sj);O(a.C,558,this,this.Uj);O(a.C,559,this,this.Wj);a.C.se(816,this,this.zk,this.Bk);a.C.ad(816,this,this.Ak,this.Ck);this.Ib.sg.push({Wf:this.la,Rg:this});b.register("dac-request-data",
function(){!this.sc||this.uc?Qd(this):Rd(this)},this);b.register("speaker-has-initialized",function(){Pd(this)},this);b.send("speaker-confirm-initialized");Sd(this)}function Sd(a){a.Ua.clear();a.ra.clear();a.Wb=0;a.o=0;a.Ie=!1;a.Ef=0;a.Kc=!1;a.Zd=!1;a.Yb=!1;a.Zb=!1;a.pc[0].clear();a.pc[1].clear();a.D=0;a.l=0;a.sc=0;a.j=0;a.Jc=0;a.Jb=0;a.rc=!1;a.A.fill(0);a.s=!1;a.uc=!1;a.O=170;a.M=0;a.Fb=22050;a.h=1;Td(a,1);a.be.fill(0);a.Td.fill(0);a.Td[5]=1;a.Td[9]=248}t=Od.prototype;
t.ga=function(){var a=[];a[2]=this.I;a[3]=this.Wb;a[4]=this.o;a[5]=this.i;a[6]=this.T;a[7]=this.Ie;a[8]=this.Ef;a[9]=this.Kc;a[10]=this.Zd;a[11]=this.Yb;a[12]=this.Zb;a[15]=this.D;a[16]=this.l;a[17]=this.sc;a[18]=this.j;a[19]=this.Jc;a[20]=this.Jb;a[21]=this.tc;a[22]=this.Yd;a[23]=this.rc;a[24]=this.A;a[25]=this.s;a[26]=this.uc;a[27]=this.Fb;a[28]=this.h;a[29]=this.O;a[30]=this.M;a[31]=this.Td;a[33]=this.Va;a[34]=this.na;a[35]=this.be;return a};
t.H=function(a){this.I=a[2];this.Wb=a[3];this.o=a[4];this.i=a[5];this.T=a[6];Ud(this);this.Ie=a[7];this.Ef=a[8];this.Kc=a[9];this.Zd=a[10];this.Yb=a[11];this.Zb=a[12];this.D=a[15];this.l=a[16];this.sc=a[17];this.j=a[18];this.Jc=a[19];this.Jb=a[20];this.tc=a[21];this.Yd=a[22];this.rc=a[23];this.A=a[24];this.s=a[25];this.uc=a[26];this.Fb=a[27];this.h=a[28];this.O=a[29];this.M=a[30];this.Td=a[31];this.Va=a[33];this.na=a[34];this.be=a[35];this.g=this.A.buffer;this.Y=new Int8Array(this.g);this.V=new Int16Array(this.g);
this.aa=new Uint16Array(this.g);this.Ga=new tb(this.g);this.uc?this.v.send("dac-disable"):this.v.send("dac-enable")};t.Jh=function(){return 255};t.Lh=function(){return 255};t.vj=function(){return 255};t.xj=function(){return 255};t.zj=function(){return this.i};t.Bj=function(){var a=this.i,b=Kd[a];return b?b.call(this):this.T[a]};t.Dj=function(){return 255};t.Fj=function(){return 255};t.Hj=function(){return 255};t.Jj=function(){return 255};t.Lj=function(){this.ra.length&&(this.I=this.ra.shift());return this.I};
t.Nj=function(){return 255};t.Pj=function(){return 127};t.Rj=function(){return 255};t.Tj=function(){this.be[1]&&Td(this,1);return(this.ra.length&&!this.Kc)<<7|127};t.Vj=function(){Td(this,2);return 0};t.Kh=function(){this.R=0};t.Mh=function(a){var b=Nd[this.R];b||(b=this.U);b.call(this,a,0,this.R)};t.wj=function(){this.S=0};t.yj=function(a){var b=Nd[this.S];b||(b=this.U);b.call(this,a,1,this.S)};t.Aj=function(a){this.i=a};t.Cj=function(a){Vd(this,this.i,a)};
t.Ej=function(a){this.Kc?this.Kc=!1:a&&Sd(this);this.ra.clear();this.ra.push(170)};t.Gj=function(){};t.Ij=function(){};t.Kj=function(){};t.Mj=function(){};t.Oj=function(){};t.Qj=function(a){0===this.Wb?(this.Wb=a,this.Ua.clear(),this.o=Id[a]):this.Ua.push(a);this.Ua.length>=this.o&&(a=Jd[this.Wb],a||(a=this.kh),a.call(this),this.o=this.Wb=0,this.Ua.clear())};t.Sj=function(){};t.Uj=function(){};t.Wj=function(){};t.zk=function(){this.F.length&&(this.Ia=this.F.shift());return this.Ia};t.Ak=function(){};
t.Bk=function(){return 0|128*!this.F.length};t.Ck=function(a){255===a&&(this.F.clear(),this.F.push(254))};t.kh=function(){};function V(a,b,c){c||(c=Od.prototype.kh);for(var d=0;d<a.length;d++)Id[a[d]]=b,Jd[a[d]]=c}function Wd(a){for(var b=[],c=0;16>c;c++)b.push(a+c);return b}V([14],2,function(){this.Td[this.Ua.shift()]=this.Ua.shift()});V([15],1,function(){this.ra.clear();this.ra.push(this.Td[this.Ua.shift()])});
V([16],1,function(){var a=this.Ua.shift();a=Xd(a/127.5+-1);this.pc[0].push(a);this.pc[1].push(a);this.v.send("dac-enable")});V([20,21],2,function(){this.Jc=1;this.Jb=this.tc;this.Kc=this.Yb=this.Zb=this.rc=!1;Yd(this);Zd(this)});V([22],2);V([23],2);V([28],0,function(){this.Jc=1;this.Jb=this.tc;this.rc=!0;this.Kc=this.Yb=this.Zb=!1;Zd(this)});V([31],0);V([32],0,function(){this.ra.clear();this.ra.push(127)});V([36],2);V([44],0);V([48],0);V([49],0);V([52],0);V([53],0);V([54],0);V([55],0);V([56],0);
V([64],1,function(){$d(this,1E6/(256-this.Ua.shift())/(this.Zd?2:1))});V([65,66],2,function(){$d(this,this.Ua.shift()<<8|this.Ua.shift())});V([72],2,function(){Yd(this)});V([116],2);V([117],2);V([118],2);V([119],2);V([125],0);V([127],0);V([128],2);V([144],0,function(){this.Jc=1;this.Jb=this.tc;this.rc=!0;this.Zb=!1;this.Kc=!0;this.Yb=!1;Zd(this)});V([145],0);V([152],0);V([153],0);V([160],0);V([168],0);
V(Wd(176),3,function(){if(!(this.Wb&8)){var a=this.Ua.shift();this.Jc=2;this.Jb=this.Yd;this.rc=!!(this.Wb&4);this.Zb=!!(a&16);this.Zd=!!(a&32);this.Yb=!0;Yd(this);Zd(this)}});V(Wd(192),3,function(){if(!(this.Wb&8)){var a=this.Ua.shift();this.Jc=1;this.Jb=this.tc;this.rc=!!(this.Wb&4);this.Zb=!!(a&16);this.Zd=!!(a&32);this.Yb=!1;Yd(this);Zd(this)}});V([208],0,function(){this.uc=!0;this.v.send("dac-disable")});V([209],0,function(){this.Ie=!0});V([211],0,function(){this.Ie=!1});
V([212],0,function(){this.uc=!1;this.v.send("dac-enable")});V([213],0,function(){this.uc=!0;this.v.send("dac-disable")});V([214],0,function(){this.uc=!1;this.v.send("dac-enable")});V([216],0,function(){this.ra.clear();this.ra.push(255*this.Ie)});V([217,218],0,function(){this.rc=!1});V([224],1,function(){this.ra.clear();this.ra.push(~this.Ua.shift())});V([225],0,function(){this.ra.clear();this.ra.push(4);this.ra.push(5)});V([226],1);
V([227],0,function(){this.ra.clear();for(var a=0;44>a;a++)this.ra.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(a));this.ra.push(0)});V([228],1,function(){this.Ef=this.Ua.shift()});V([232],0,function(){this.ra.clear();this.ra.push(this.Ef)});V([242,243],0,function(){this.Ya()});var ae=new Uint8Array(256);ae[14]=255;ae[15]=7;ae[55]=56;V([249],1,function(){var a=this.Ua.shift();this.ra.clear();this.ra.push(ae[a])});function Vd(a,b,c){(b=Ld[b])&&b.call(a,c)}Od.prototype.Ha=function(){return this.T[this.i]};
Od.prototype.Ra=function(a){this.T[this.i]=a};function Pd(a){a.T[4]=204;a.T[34]=204;a.T[38]=204;a.T[40]=0;a.T[46]=0;a.T[10]=0;a.T[48]=192;a.T[49]=192;a.T[50]=192;a.T[51]=192;a.T[52]=192;a.T[53]=192;a.T[54]=0;a.T[55]=0;a.T[56]=0;a.T[57]=0;a.T[59]=0;a.T[60]=31;a.T[61]=21;a.T[62]=11;a.T[63]=0;a.T[64]=0;a.T[65]=0;a.T[66]=0;a.T[67]=0;a.T[68]=128;a.T[69]=128;a.T[70]=128;a.T[71]=128;Ud(a)}function Ud(a){for(var b=1;b<a.T.length;b++)Md[b]||Vd(a,b,a.T[b])}function be(a,b){b||(b=Od.prototype.Ha);Kd[a]=b}
function ce(a,b){b||(b=Od.prototype.Ra);Ld[a]=b}function de(a,b,c){Md[a]=1;Kd[a]=function(){return this.T[b]&240|this.T[c]>>>4};Ld[a]=function(d){this.T[a]=d;var e=d<<4&240|this.T[c]&15;Vd(this,b,d&240|this.T[b]&15);Vd(this,c,e)}}function ee(a,b,c){Kd[a]=Od.prototype.Ha;Ld[a]=function(d){this.T[a]=d;this.v.send("mixer-volume",[b,c,(d>>>2)-62])}}be(0,function(){Pd(this);return 0});ce(0);de(4,50,51);de(34,48,49);de(38,52,53);de(40,54,55);de(46,56,57);ee(48,0,0);ee(49,0,1);ee(50,2,0);ee(51,2,1);be(59);
ce(59,function(a){this.T[59]=a;this.v.send("mixer-volume",[1,2,6*(a>>>6)-18])});be(65);ce(65,function(a){this.T[65]=a;this.v.send("mixer-gain-left",6*(a>>>6))});be(66);ce(66,function(a){this.T[66]=a;this.v.send("mixer-gain-right",6*(a>>>6))});be(68);ce(68,function(a){this.T[68]=a;a>>>=3;this.v.send("mixer-treble-left",a-(16>a?14:16))});be(69);ce(69,function(a){this.T[69]=a;a>>>=3;this.v.send("mixer-treble-right",a-(16>a?14:16))});be(70);
ce(70,function(a){this.T[70]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});be(71);ce(71,function(a){this.T[71]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});be(128,function(){switch(this.na){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}});ce(128,function(a){a&1&&(this.na=2);a&2&&(this.na=5);a&4&&(this.na=7);a&8&&(this.na=10)});
be(129,function(){var a=0;switch(this.tc){case 0:a|=1;break;case 1:a|=2;break;case 3:a|=8}switch(this.Yd){case 5:a|=32;break;case 6:a|=64;break;case 7:a|=128}return a});ce(129,function(a){a&1&&(this.tc=0);a&2&&(this.tc=1);a&8&&(this.tc=3);a&32&&(this.Yd=5);a&64&&(this.Yd=6);a&128&&(this.Yd=7)});be(130,function(){for(var a=32,b=0;16>b;b++)a|=b*this.be[b];return a});Od.prototype.U=function(){};function fe(a,b){b||(b=Od.prototype.U);for(var c=0;c<a.length;c++)Nd[a[c]]=b}
function ge(a,b){for(var c=[];a<=b;a++)c.push(a);return c}var he=new Uint8Array(32);he[0]=0;he[1]=1;he[2]=2;he[3]=3;he[4]=4;he[5]=5;he[8]=6;he[9]=7;he[10]=8;he[11]=9;he[12]=10;he[13]=11;he[16]=12;he[17]=13;he[18]=14;he[19]=15;he[20]=16;he[21]=17;fe([1],function(a,b){this.cj[b]=a&1});fe([2]);fe([3]);fe([4],function(){});fe([5],function(){});fe([8],function(){});fe(ge(32,53),function(){});fe(ge(64,85),function(){});fe(ge(96,117),function(){});fe(ge(128,149),function(){});fe(ge(160,168),function(){});
fe(ge(176,184),function(){});fe([189],function(){});fe(ge(192,200),function(){});fe(ge(224,245),function(){});function $d(a,b){a.Fb=b;a.v.send("dac-tell-sampling-rate",b)}function Yd(a){a.D=1+(a.Ua.shift()<<0)+(a.Ua.shift()<<8)}function Zd(a){a.h=1;a.Yb&&(a.h*=2);a.l=a.D*a.h;a.j=1024*a.h;a.j=Math.min(Math.max(a.l>>2&-4,32),a.j);a.s=!0;a.Ib.Hc[a.Jb]||a.la(a.Jb)}Od.prototype.la=function(a){a===this.Jb&&this.s&&(this.s=!1,this.sc=this.l,this.uc=!1,this.v.send("dac-enable"))};
function Rd(a){var b=Math.min(a.sc,a.j),c=Math.floor(b/a.h);a.Ib.gf(a.Ga,0,b,a.Jb,d=>{if(!d){d=a.Yb?32767.5:127.5;var e=a.Zb?0:-1,f=a.Zd?1:2,g;a.Yb?g=a.Zb?a.V:a.aa:g=a.Zb?a.Y:a.A;for(var h=0,k=0;k<c;k++)for(var l=Xd(g[k]/d+e),m=0;m<f;m++)a.pc[h].push(l),h^=1;Qd(a);a.sc-=b;a.sc||(a.Ya(a.Jc),a.rc&&(a.sc=a.l))}})}function Qd(a){if(a.pc[0].length){var b=Db(a.pc[0],a.pc[0].length),c=Db(a.pc[1],a.pc[1].length);a.v.send("dac-send-data",[b,c],[b.buffer,c.buffer])}}
Od.prototype.Ya=function(a){this.be[a]=1;this.u.$a(this.na)};function Td(a,b){a.be[b]=0;Kb(a.u,a.na)}function Xd(a){return-1*(-1>a)+1*(1<a)+(-1<=a&&1>=a)*a};function ba(a,b){this.u=a;this.eb=a.B.eb;this.He=b.He;this.P=[244,26,b.He&255,b.He>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,b.pg&255,b.pg>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0];this.P=this.P.concat(Array(256-this.P.length).fill(0));this.Sa=b.Sa;this.Pb=[];this.name=b.name;this.i=this.s=0;this.o=new Uint32Array(4);this.h=new Uint32Array(4);for(var c of b.Fe.features)this.o[c>>>5]|=1<<(c&31),this.h[c>>>5]|=1<<(c&31);b.Fe.features.includes(32);this.A=
!0;this.j=0;this.F=!1;this.D=0;this.$=[];for(var d of b.Fe.$)this.$.push(new ie(a,this,d));this.l=0;this.g=this.$[0];this.bc=0;c=[];c.push(je(this,b.Fe));c.push(ke(b.notification));c.push(le(this,b.bc));b.Sf&&(d=c.push,b=b.Sf,b={type:4,Ee:3,port:b.ob,Gf:!1,offset:0,jf:new Uint8Array(0),dd:b.dd},d.call(c,b));me(this,c);Vb(a.B.eb,this);ne(this)}
function je(a,b){return{type:1,Ee:0,port:b.ob,Gf:!1,offset:0,jf:new Uint8Array(0),dd:[{bytes:4,name:"device_feature_select",read:()=>a.s,write:c=>{a.s=c}},{bytes:4,name:"device_feature",read:()=>a.o[a.s]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>a.i,write:c=>{a.i=c}},{bytes:4,name:"driver_feature",read:()=>a.h[a.i]||0,write:c=>{const d=a.o[a.i];a.i<a.h.length&&(a.h[a.i]=c&d);a.A=a.A&&!(c&~d)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",
read:()=>a.$.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>a.j,write:c=>{0===c&&ne(a);c&~a.j&4&&a.j&64&&(a.F=!0,a.j&4&&a.Ya(2));a.A||(c&=-9);a.j=c}},{bytes:1,name:"config_generation",read:()=>a.D,write:()=>{}},{bytes:2,name:"queue_select",read:()=>a.l,write:c=>{a.l=c;a.l<a.$.length?a.g=a.$[a.l]:a.g=null}},{bytes:2,name:"queue_size",read:()=>a.g?a.g.size:0,write:c=>{if(a.g){c&c-1&&(c=1<<sb(c-1)+1);c>a.g.gb&&(c=a.g.gb);var d=a.g;d.size=c;d.j=c-1}}},{bytes:2,name:"queue_msix_vector",read:()=>
65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>a.g?a.g.enabled|0:0,write:c=>{a.g&&1===c&&oe(a.g)&&(a.g.enabled=!0)}},{bytes:2,name:"queue_notify_off",read:()=>a.g?a.g.yb:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>a.g?a.g.o:0,write:c=>{a.g&&(a.g.o=c)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>a.g?a.g.g:0,write:c=>{a.g&&(a.g.g=c)}},{bytes:4,name:"queue_avail (high dword)",read:()=>0,write:()=>{}},
{bytes:4,name:"queue_used (low dword)",read:()=>a.g?a.g.h:0,write:c=>{a.g&&(a.g.h=c)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function ke(a){const b=[];let c;c=a.Qg?0:2;for(const [d,e]of a.Ag.entries())b.push({bytes:2,name:"notify"+d,read:()=>65535,write:e||(()=>{})});return{type:2,Ee:1,port:a.ob,Gf:!1,offset:0,jf:new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24]),dd:b}}
function le(a,b){return{type:3,Ee:2,port:b.ob,Gf:!1,offset:0,jf:new Uint8Array(0),dd:[{bytes:1,name:"isr_status",read:()=>{const c=a.bc;a.bc=0;nc(a.eb,a.Sa);return c},write:()=>{}}]}}
function me(a,b){let c=a.P[52]=64;var d=c;for(const f of b){b=16+f.jf.length;d=c;c=d+b;var e=f.dd.reduce((g,h)=>g+h.bytes,0);e+=f.offset;e=16>e?16:1<<sb(e-1)+1;a.Pb[f.Ee]={size:e};a.P[d]=9;a.P[d+1]=c;a.P[d+2]=b;a.P[d+3]=f.type;a.P[d+4]=f.Ee;a.P[d+5]=0;a.P[d+6]=0;a.P[d+7]=0;a.P[d+8]=f.offset&255;a.P[d+9]=f.offset>>>8&255;a.P[d+10]=f.offset>>>16&255;a.P[d+11]=f.offset>>>24;a.P[d+12]=e&255;a.P[d+13]=e>>>8&255;a.P[d+14]=e>>>16&255;a.P[d+15]=e>>>24;for(const [g,h]of f.jf.entries())a.P[d+16+g]=h;d=16+4*
f.Ee;a.P[d]=f.port&254|!f.Gf;a.P[d+1]=f.port>>>8&255;a.P[d+2]=f.port>>>16&255;a.P[d+3]=f.port>>>24&255;d=f.port+f.offset;for(const g of f.dd){let h=g.read;b=g.write;if(!f.Gf){e=function(l){return h(l&-2)>>((l&1)<<3)&255};const k=function(l){return h(l&-4)>>((l&3)<<3)&255};switch(g.bytes){case 4:M(a.u.C,d,a,k,void 0,h);O(a.u.C,d,a,void 0,void 0,b);break;case 2:M(a.u.C,d,a,e,h);O(a.u.C,d,a,void 0,b);break;case 1:M(a.u.C,d,a,h),O(a.u.C,d,a,b)}}d+=g.bytes}}a.P[c]=9;a.P[c+1]=0;a.P[c+2]=20;a.P[c+3]=5;a.P[c+
4]=0;a.P[c+5]=0;a.P[c+6]=0;a.P[c+7]=0;a.P[c+8]=0;a.P[c+9]=0;a.P[c+10]=0;a.P[c+11]=0;a.P[c+12]=0;a.P[c+13]=0;a.P[c+14]=0;a.P[c+15]=0;a.P[c+16]=0;a.P[c+17]=0;a.P[c+18]=0;a.P[c+19]=0}ba.prototype.ga=function(){let a=[];a[0]=this.s;a[1]=this.i;a[2]=this.o;a[3]=this.h;a[4]=this.A;a[5]=this.j;a[6]=this.F;a[7]=this.D;a[8]=this.bc;a[9]=this.l;return a=a.concat(this.$)};
ba.prototype.H=function(a){this.s=a[0];this.i=a[1];this.o=a[2];this.h=a[3];this.A=a[4];this.j=a[5];this.F=a[6];this.D=a[7];this.bc=a[8];this.l=a[9];let b=0;for(const c of a.slice(10))this.$[b].H(c),b++;this.g=this.$[this.l]||null};function ne(a){a.s=0;a.i=0;a.h.set(a.o);a.A=!0;a.j=0;a.l=0;a.g=a.$[0];for(const b of a.$)pe(b);a.F=!1;a.D=0;a.bc=0;nc(a.eb,a.Sa)}ba.prototype.Ya=function(a){this.bc|=a;this.eb.Ya(this.Sa)};
function ie(a,b,c){this.u=a;this.Z=b;this.gb=this.size=c.gb;this.j=this.size-1;this.enabled=!1;this.yb=c.yb;this.l=this.h=this.i=this.g=this.o=0;pe(this)}ie.prototype.ga=function(){const a=[];a[0]=this.size;a[1]=this.gb;a[2]=this.enabled;a[3]=this.yb;a[4]=this.o;a[5]=this.g;a[6]=this.i;a[7]=this.h;a[8]=this.l;return a};ie.prototype.H=function(a){this.size=a[0];this.gb=a[1];this.enabled=a[2];this.yb=a[3];this.o=a[4];this.g=a[5];this.i=a[6];this.h=a[7];this.l=a[8];this.j=this.size-1};
function pe(a){a.enabled=!1;a.o=0;a.g=0;a.i=0;a.h=0;a.l=0;var b=a.gb;a.size=b;a.j=b-1}function oe(a){return a.o&&a.g&&a.h}function qe(a){return a.u.fb(a.g+2)-a.i&a.j}function ca(a){return(a.u.fb(a.g+2)&a.j)!==a.i}function da(a){ca(a);var b=a.u.fb(a.g+4+2*a.i);b=new re(a,b);a.i=a.i+1&a.j;return b}function ka(a,b){const c=a.u.fb(a.h+2)+a.l&a.j;var d=b.i;a.u.Aa(a.h+4+8*c,b.A);a.u.Aa(a.h+8+8*c,d);a.l++}
function la(a){if(0!==a.l){var b=a.u.fb(a.h+2)+a.l&65535;a.u.Kf(a.h+2,b);a.l=0;0<(a.Z.h[0]&536870912)?(a.u.fb(a.g+4+2*a.size),a.Z.Ya(1)):~a.u.fb(a.g)&1&&a.Z.Ya(1)}}
function re(a,b){this.u=a.u;this.Z=a.Z;this.A=b;this.l=[];this.ee=this.g=this.j=0;this.s=[];this.i=this.h=this.o=0;let c=a.o;var d=b;b=0;let e=a.size,f=!1;const g=0<(this.Z.h[0]&268435456);do{var h=a,k=c;h={ug:h.u.h(k+16*d),gl:h.u.h(k+16*d+4),Me:h.u.h(k+16*d+8),flags:h.u.fb(k+16*d+12),next:h.u.fb(k+16*d+14)};if(g&&h.flags&4)c=h.ug,b=d=0,e=h.Me/16;else{if(h.flags&2)f=!0,this.s.push(h);else{if(f)break;this.l.push(h);this.ee+=h.Me}b++;if(b>e)break;if(h.flags&1)d=h.next;else break}}while(1)}
function ma(a,b){let c=0,d=b.length;for(;d&&a.j!==a.l.length;){var e=a.l[a.j],f=e.ug+a.g;let l=e.Me-a.g;l>d?(l=d,a.g+=d):(a.j++,a.g=0);e=b;var g=e.set,h=a.u,k=l;k&&(h.Yf(f),h.Yf(f+k-1));g.call(e,h.pb.subarray(f,f+k),c);c+=l;d-=l}}function ja(a,b){let c=0,d=b.length;for(;d&&a.o!==a.s.length;){var e=a.s[a.o];const f=e.ug+a.h;e=e.Me-a.h;e>d?(e=d,a.h+=d):(a.o++,a.h=0);fc(a.u,b.subarray(c,c+e),f);c+=e;d-=e}a.i+=c};function se(a,b){this.v=b;this.rows=25;this.cols=80;this.ports=4;b=[{gb:16,yb:0},{gb:16,yb:1},{gb:16,yb:2},{gb:16,yb:3}];for(let c=1;c<this.ports;++c)b.push({gb:16,yb:0}),b.push({gb:8,yb:1});this.Z=new ba(a,{name:"virtio-console",Sa:56,He:4163,pg:3,Fe:{ob:47104,$:b,features:[0,1,32],zh:()=>{}},notification:{ob:47360,Qg:!1,Ag:[c=>{for(c=this.Z.$[c];qe(c)>c.size-2;)da(c)},c=>{const d=this.Z.$[c],e=3<c?c-3>>1:0;for(;ca(d);){const f=da(d),g=new Uint8Array(f.ee);ma(f,g);this.v.send("virtio-console"+e+
"-output-bytes",g);te(this,c,f)}},c=>{if(2===c)for(c=this.Z.$[c];qe(c)>c.size-2;)da(c)},c=>{if(3===c)for(var d=this.Z.$[c];ca(d);){var e=da(d),f=new Uint8Array(e.ee);ma(e,f);var g=E(["w","h","h"],f,{offset:0});f=g[0];g=g[1];te(this,c,e);switch(g){case 0:for(f=0;f<this.ports;++f)ue(this,f,1,0);break;case 3:te(this,c,e);ue(this,f,4,1);g=f;var h="virtio-"+f;e=da(this.Z.$[2]);h=(new TextEncoder).encode(h);const k=new Uint8Array(h.length+9);x(["w","h","h"],[g,7,1],k,0);for(g=0;g<h.length;++g)k[g+8]=h[g];
k[8+h.length]=0;this.ed(2,e,k);ue(this,f,6,1);break;case 6:te(this,c,e);0===f&&ve(this,f);break;default:return}}}]},bc:{ob:46848},Sf:{ob:46592,dd:[{bytes:2,name:"cols",read:()=>this.cols,write:()=>{}},{bytes:2,name:"rows",read:()=>this.rows,write:()=>{}},{bytes:4,name:"max_nr_ports",read:()=>this.ports,write:()=>{}},{bytes:4,name:"emerg_wr",read:()=>0,write:()=>{}}]}});for(let c=0;c<this.ports;++c){const d=0===c?0:2*c+2;this.v.register("virtio-console"+c+"-input-bytes",function(e){var f=this.Z.$[d];
ca(f)&&(f=da(f),this.ed(d,f,new Uint8Array(e)))},this);this.v.register("virtio-console"+c+"-resize",function(e){this.cols=e[0];this.rows=e[1];oe(this.Z.$[2])&&ca(this.Z.$[2])&&ve(this,c)},this)}}function ve(a,b){const c=da(a.Z.$[2]),d=new Uint8Array(12);x(["w","h","h","h","h"],[b,5,0,a.rows,a.cols],d,0);a.ed(2,c,d)}se.prototype.ga=function(){const a=[];a[0]=this.Z;a[1]=this.rows;a[2]=this.cols;a[3]=this.ports;return a};
se.prototype.H=function(a){this.Z.H(a[0]);this.rows=a[1];this.cols=a[2];this.ports=a[3]};function ue(a,b,c,d){const e=da(a.Z.$[2]),f=new Uint8Array(8);x(["w","h","h"],[b,c,d],f,0);a.ed(2,e,f)}se.prototype.ed=function(a,b,c){ja(b,c);ka(this.Z.$[a],b);la(this.Z.$[a])};function te(a,b,c){ja(c,new Uint8Array(0));ka(a.Z.$[b],c);la(a.Z.$[b])};function we(a,b,c){this.v=b;this.id=a.B.cb?1:0;this.status=1;this.pe=c;this.ja=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",Cd(this.ja));b=[];for(c=0;1>c;++c)b.push({gb:32,yb:0}),b.push({gb:32,yb:1});b.push({gb:16,yb:2});this.Z=new ba(a,{name:"virtio-net",Sa:80,He:4161,pg:1,Fe:{ob:51200,$:b,features:[5,16,22,3,17,23,32],zh:()=>{}},notification:{ob:51456,Qg:!1,Ag:[d=>{d=this.Z.$[d];var e=d.u.fb(d.g+4+2*d.i);e=new re(d,e);d.i=
d.i+1&d.j;ka(this.Z.$[0],e);la(this.Z.$[0])},d=>{const e=this.Z.$[d];for(;ca(e);){const f=da(e),g=new Uint8Array(f.ee);ma(f,g);this.v.send("net"+this.id+"-send",g.subarray(12));this.v.send("eth-transmit-end",[g.length-12]);ka(this.Z.$[d],f)}la(this.Z.$[d])},d=>{if(2===d)for(var e=this.Z.$[d];ca(e);){const f=da(e),g=new Uint8Array(f.ee);ma(f,g);const h=E(["b","b"],g,{offset:0});switch(h[0]<<8|h[1]){case 1024:E(["h"],g,{offset:2});this.ed(d,f,new Uint8Array([0]));break;case 257:this.ja=g.subarray(2,
8);this.ed(d,f,new Uint8Array([0]));this.v.send("net"+this.id+"-mac",Cd(this.ja));break;default:this.ed(d,f,new Uint8Array([1]));return}}}]},bc:{ob:50944},Sf:{ob:50688,dd:[0,1,2,3,4,5].map((d,e)=>({bytes:1,name:"mac_"+e,read:()=>this.ja[e],write:()=>{}})).concat([{bytes:2,name:"status",read:()=>this.status,write:()=>{}},{bytes:2,name:"max_pairs",read:()=>1,write:()=>{}},{bytes:2,name:"mtu",read:()=>1500,write:()=>{}}])}});this.v.register("net"+this.id+"-receive",d=>{this.v.send("eth-receive-end",
[d.length]);const e=new Uint8Array(12+d.byteLength);(new DataView(e.buffer,e.byteOffset,e.byteLength)).setInt16(10,1);e.set(d,12);d=this.Z.$[0];ca(d)?(d=da(d),ja(d,e),ka(this.Z.$[0],d),la(this.Z.$[0])):console.log("No buffer to write into!")},this)}we.prototype.ga=function(){const a=[];a[0]=this.Z;a[1]=this.id;this.pe&&(this.ja=a[2],this.v.send("net"+this.id+"-mac",Cd(this.ja)));return a};we.prototype.H=function(a){this.Z.H(a[0])};we.prototype.ed=function(a,b,c){ja(b,c);ka(this.Z.$[a],b);la(this.Z.$[a])};function xe(){this.rf={};this.g=void 0}xe.prototype.register=function(a,b,c){var d=this.rf[a];void 0===d&&(d=this.rf[a]=[]);d.push({Wf:b,Rg:c})};xe.prototype.unregister=function(a,b){var c=this.rf[a];void 0!==c&&(this.rf[a]=c.filter(function(d){return d.Wf!==b}))};xe.prototype.send=function(a,b){if(this.g&&(a=this.g.rf[a],void 0!==a))for(var c=0;c<a.length;c++){var d=a[c];d.Wf.call(d.Rg,b)}};function ye(){var a=new xe,b=new xe;a.g=b;b.g=a;return[a,b]};function ze(){};function lb(a,b,c){this.ri=c;this.Ma=b;Ae(this);b=Object.create(null);b.m=this.Ma.exports.memory;for(var d of Object.keys(this.Ma.exports))d.startsWith("_")||d.startsWith("zstd")||d.endsWith("_js")||(b[d]=this.Ma.exports[d]);this.Id=b;this.La=d=this.Ma.exports.memory;this.G=R(Uint32Array,d,812,1);this.pb=new Uint8Array(0);this.yc=new Int32Array(this.pb.buffer);this.A=R(Uint8Array,d,724,8);this.Ha=R(Int32Array,d,736,8);this.Ga=R(Uint32Array,d,768,8);this.s=R(Uint8Array,d,512,8);this.la=R(Int32Array,
d,800,1);this.lc=R(Int32Array,d,564,1);this.kc=R(Int32Array,d,568,1);this.Ub=R(Int32Array,d,572,1);this.Tb=R(Int32Array,d,576,1);this.$c=R(Int32Array,d,1128,1);this.Mc=R(Uint32Array,d,540,8);this.nb=R(Int32Array,d,580,8);this.jb=R(Uint8Array,d,612,1);this.Y=R(Int32Array,d,804,1);this.Ra=R(Int32Array,d,808,1);this.mc=R(Uint8Array,d,616,1);this.wc=R(Int32Array,d,620,1);this.lb=R(Int32Array,d,624,1);this.Xc=R(Int32Array,d,636,1);this.Zc=R(Int32Array,d,640,1);this.Yc=R(Int32Array,d,644,1);this.Oc=R(Int32Array,
d,648,1);this.flags=R(Int32Array,d,120,1);this.mb=R(Int32Array,d,100,1);this.vc=R(Int32Array,d,96,1);this.oc=R(Int32Array,d,104,1);R(Int32Array,d,112,1);this.Cd=R(Uint32Array,d,960,2);this.B={};this.V=R(Int32Array,d,556,1);this.Rc=R(Int32Array,d,560,1);R(Uint8Array,d,548,1);this.Va=R(Uint8Array,d,552,1);this.g=[];this.j=[];this.aa=[];this.i=[];this.Cb={Cg:null,rb:null};this.jj=R(Uint32Array,d,664,1);this.l=R(Int32Array,d,64,8);this.sb=R(Int32Array,d,1152,32);this.S=R(Uint8Array,d,816,1);this.S[0]=
255;this.U=R(Uint8Array,d,1032,1);this.U[0]=0;this.D=R(Uint16Array,d,1036,1);this.D[0]=895;this.Dd=R(Uint16Array,d,1040,1);this.Dd[0]=0;this.M=R(Int32Array,d,1048,1);this.M[0]=0;this.O=R(Int32Array,d,1052,1);this.O[0]=0;this.R=R(Int32Array,d,1044,1);this.R[0]=0;this.F=R(Int32Array,d,1056,1);this.F[0]=0;this.I=R(Int32Array,d,1060,1);this.I[0]=0;this.Tc=R(Int32Array,d,832,32);R(Int32Array,d,824,1);this.Ia=R(Uint16Array,d,668,8);this.kb=R(Int32Array,d,684,8);this.Sc=R(Int32Array,d,968,8);this.wi=R(Uint32Array,
d,716,1);this.vi=R(Uint32Array,d,720,1);this.vb=[];this.zg=0;this.pd=[];this.C=void 0;this.v=a;this.Uc(0,0);Be(this)}
function Ae(a){const b=c=>{const d=a.Ma.exports[c];console.assert(d,"Missing import: "+c);return d};a.o=b("reset_cpu");b("getiopl");b("get_eflags");a.Gd=b("handle_irqs");a.Jd=b("main_loop");a.Lf=b("set_jit_config");a.re=b("read8");a.fb=b("read16");a.h=b("read32s");a.tg=b("write8");a.Kf=b("write16");a.Aa=b("write32");a.Yf=b("in_mapped_range");b("fpu_load_tag_word");b("fpu_load_status_word");b("fpu_get_sti_f64");b("translate_address_system_read_js");a.Fd=b("get_seg_cs");b("get_real_eip");b("clear_tlb");
a.Ed=b("full_clear_tlb");a.bd=b("update_state_flags");a.Uc=b("set_tsc");a.si=b("store_current_tsc");a.Ze=b("set_cpuid_level");a.Ld=b("pic_set_irq");a.Kd=b("pic_clear_irq");a.Hd=b("jit_clear_cache_js");a.kj=b("jit_dirty_cache");a.Bd=b("codegen_finalize_finished");a.zd=b("allocate_memory");a.yi=b("zero_memory");a.ui=b("svga_allocate_memory");a.ti=b("svga_allocate_dest_buffer");a.xi=b("svga_fill_pixel_buffer");a.Wc=b("svga_mark_dirty");a.Vb=b("get_pic_addr_master");a.jc=b("get_pic_addr_slave");a.li=
b("zstd_create_ctx");a.oi=b("zstd_get_src_ptr");a.ni=b("zstd_free_ctx");a.Xe=b("zstd_read");a.Ye=b("zstd_read_free");a.Md=b("port20_read");a.Od=b("port21_read");a.ye=b("portA0_read");a.Ae=b("portA1_read");a.Nd=b("port20_write");a.Pd=b("port21_write");a.ze=b("portA0_write");a.Be=b("portA1_write");a.Qd=b("port4D0_read");a.Sd=b("port4D1_read");a.Rd=b("port4D0_write");a.xe=b("port4D1_write")}
lb.prototype.ga=function(){var a=[];a[0]=this.G[0];a[1]=new Uint8Array([...this.A,...this.s]);a[2]=this.Ha;a[3]=this.Ga;a[4]=this.la[0];a[5]=this.kc[0];a[6]=this.lc[0];a[7]=this.Tb[0];a[8]=this.Ub[0];a[9]=this.Mc[0];a[10]=this.nb;a[11]=this.jb[0];a[13]=this.Y[0];a[16]=this.Ra[0];a[17]=this.mc[0];a[18]=this.wc[0];a[19]=this.lb[0];a[22]=this.Xc[0];a[23]=this.Yc[0];a[24]=this.Zc[0];a[25]=this.Oc[0];a[26]=this.flags[0];a[27]=this.mb[0];a[28]=this.oc[0];a[30]=this.vc[0];a[37]=this.V[0];a[38]=this.Rc[0];
a[39]=this.l;a[40]=this.Ia;a[41]=this.kb;a[42]=this.Sc;this.si();a[43]=this.Cd;a[45]=this.B.Yg;a[46]=this.B.Ce;a[47]=this.B.xd;a[48]=this.B.eb;a[49]=this.B.Ib;a[50]=this.B.Ba;a[52]=this.B.rb;a[53]=this.B.Ig;a[54]=this.B.Wg;a[55]=this.B.ae;a[56]=this.B.W;a[57]=this.B.K;a[58]=this.B.gg;a[59]=this.B.cb;var b=new Uint8Array(this.La.buffer,this.Vb(),13),c=new Uint8Array(this.La.buffer,this.jc(),13),d=[],e=[];d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];d[4]=b[4];d[5]=e;d[6]=b[6];d[7]=b[7];d[8]=b[8];d[9]=b[9];
d[10]=b[10];d[11]=b[11];d[12]=b[12];e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=null;e[6]=c[6];e[7]=c[7];e[8]=c[8];e[9]=c[9];e[10]=c[10];e[11]=c[11];e[12]=c[12];a[60]=d;a[61]=this.B.Lg;a[62]=this.vb;a[63]=this.B.md;a[64]=this.$c[0];a[66]=this.Tc;a[67]=this.sb;a[68]=this.S[0];a[69]=this.U[0];a[70]=this.D[0];a[71]=this.M[0];a[72]=this.O[0];a[73]=this.F[0];a[74]=this.I[0];a[75]=this.R[0];c=this.pb.length>>12;b=[];for(d=0;d<c;d++){e=d<<12;e=this.yc.subarray(e>>2,e+4096>>2);let h=!0;for(let k=
0;k<e.length;k++)if(0!==e[k]){h=!1;break}h||b.push(d)}c=new Eb(c);d=new Uint8Array(b.length<<12);for(const [h,k]of b.entries())c.set(k,1),b=k<<12,d.set(this.pb.subarray(b,b+4096),h<<12);const {pj:f,Bi:g}={Bi:c,pj:d};a[77]=f;a[78]=new Uint8Array(g.ac());a[79]=this.B.Te;a[80]=this.B.Ue;a[81]=this.B.Ve;a[82]=this.B.We;a[83]=this.B.If;return a};
lb.prototype.H=function(a){this.G[0]=a[0];this.pb.length!==this.G[0]&&console.warn("Note: Memory size mismatch. we="+this.pb.length+" state="+this.G[0]);8===a[1].length?(this.A.set(a[1]),this.s.fill(242),this.s[1]=250):16===a[1].length&&(this.A.set(a[1].subarray(0,8)),this.s.set(a[1].subarray(8,16)));this.Ha.set(a[2]);this.Ga.set(a[3]);this.la[0]=a[4];this.kc[0]=a[5];this.lc[0]=a[6];this.Tb[0]=a[7];this.Ub[0]=a[8];this.Mc[0]=a[9];this.nb.set(a[10]);this.jb[0]=a[11];this.Y[0]=a[13];this.Ra[0]=a[16];
this.mc[0]=a[17];this.wc[0]=a[18];this.lb[0]=a[19];this.Xc[0]=a[22];this.Yc[0]=a[23];this.Zc[0]=a[24];this.Oc[0]=a[25];this.flags[0]=a[26];this.mb[0]=a[27];this.oc[0]=a[28];this.vc[0]=a[30];this.V[0]=a[37];this.Rc[0]=a[38];this.l.set(a[39]);this.Ia.set(a[40]);this.kb.set(a[41]);a[42]&&this.Sc.set(a[42]);this.Uc(a[43][0],a[43][1]);this.B.Yg&&this.B.Yg.H(a[45]);this.B.Ce&&this.B.Ce.H(a[46]);this.B.xd&&this.B.xd.H(a[47]);this.B.eb&&this.B.eb.H(a[48]);this.B.Ib&&this.B.Ib.H(a[49]);this.B.Ba&&this.B.Ba.H(a[50]);
this.B.rb&&this.B.rb.H(a[52]);this.B.Ig&&this.B.Ig.H(a[53]);this.B.Wg&&this.B.Wg.H(a[54]);this.B.ae&&this.B.ae.H(a[55]);this.B.W&&this.B.W.H(a[56]);this.B.K&&this.B.K.H(a[57]);this.B.gg&&this.B.gg.H(a[58]);this.B.cb&&this.B.cb.H(a[59]);var b=a[60],c=new Uint8Array(this.La.buffer,this.Vb(),13),d=new Uint8Array(this.La.buffer,this.jc(),13);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];var e=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];d[0]=e[0];d[1]=e[1];d[2]=
e[2];d[3]=e[3];d[4]=e[4];d[6]=e[6];d[7]=e[7];d[8]=e[8];d[9]=e[9];d[10]=e[10];d[11]=e[11];d[12]=e[12];this.B.Lg&&this.B.Lg.H(a[61]);this.B.Te&&this.B.Te.H(a[79]);this.B.Ue&&this.B.Ue.H(a[80]);this.B.Ve&&this.B.Ve.H(a[81]);this.B.We&&this.B.We.H(a[82]);this.B.If&&this.B.If.H(a[83]);this.vb=a[62];this.B.md&&this.B.md.H(a[63]);this.$c[0]=a[64];this.Tc.set(a[66]);this.sb.set(a[67]);this.S[0]=a[68];this.U[0]=a[69];this.D[0]=a[70];this.M[0]=a[71];this.O[0]=a[72];this.F[0]=a[73];this.I[0]=a[74];this.R[0]=
a[75];b=new Eb(a[78].buffer);a=a[77];this.yi(this.G[0]);c=this.G[0]>>12;d=0;for(e=0;e<c;e++)if(b.get(e)){const f=d<<12;this.pb.set(a.subarray(f,f+4096),e<<12);d++}this.bd();this.Ed();this.Hd()};function Ce(a,b,c){b<c?b=c:0>(b|0)&&(b=Math.pow(2,31)-131072);b=(b-1|131071)+1|0;console.assert(0===a.G[0],"Expected uninitialised memory");a.G[0]=b;c=a.zd(b);a.pb=R(Uint8Array,a.La,c,b);a.yc=R(Uint32Array,a.La,c,b>>2)}
lb.prototype.Mb=function(a,b){Ce(this,a.G||67108864,a.Nb?67108864:1048576);a.ff&&this.Lf(0,1);a.hd&&this.Ze(a.hd);this.Va[0]=+a.Ba;this.o();var c=new gb(this);this.C=c;this.Cb.Cg=a.Cb;this.Cb.rb=a.Hf;ob(this);if(a.Db){const e=De(this.pb,a.Db,a.Nb,a.Hb||"");e&&this.pd.push(e)}M(c,179,this,function(){return 0});var d=0;M(c,146,this,function(){return d});O(c,146,this,function(e){d=e});M(c,1297,this,function(){return this.zg<this.vb.length?this.vb[this.zg++]:0});O(c,1296,this,void 0,function(e){function f(k){return new Uint8Array(Int32Array.of(k).buffer)}
function g(k){return k>>8|k<<8&65280}function h(k){return k<<24|k<<8&16711680|k>>8&65280|k>>>24}this.zg=0;if(0===e)this.vb=f(1431127377);else if(1===e)this.vb=f(0);else if(3===e)this.vb=f(this.G[0]);else if(5===e)this.vb=f(1);else if(15===e)this.vb=f(1);else if(13===e)this.vb=new Uint8Array(16);else if(25===e){e=new Int32Array(4+64*this.pd.length);const k=new Uint8Array(e.buffer);e[0]=h(this.pd.length);for(let l=0;l<this.pd.length;l++){const {name:m,data:p}=this.pd[l],w=4+64*l;e[w>>2]=h(p.length);
e[w+4>>2]=g(49152+l);for(let r=0;r<m.length;r++)k[w+8+r]=m.charCodeAt(r)}this.vb=k}else this.vb=32768<=e&&49152>e?f(0):49152<=e&&e-49152<this.pd.length?this.pd[e-49152].data:f(0)});M(c,32,this,this.Md);M(c,33,this,this.Od);M(c,160,this,this.ye);M(c,161,this,this.Ae);O(c,32,this,this.Nd);O(c,33,this,this.Pd);O(c,160,this,this.ze);O(c,161,this,this.Be);M(c,1232,this,this.Qd);M(c,1233,this,this.Sd);O(c,1232,this,this.Rd);O(c,1233,this,this.xe);this.B={};a.lj&&(this.B.eb=new jc(this),this.Va[0]&&(this.B.md=
new wd(this),this.B.Ce=new pd(this),this.B.Ba=new nd(this)),this.B.xd=new ed(this),Ee(this,this.B.xd,a),this.B.Ib=new rc(this),this.B.rb=new Ec(this,b,a.screen,a.pa||8388608,a.Ng||{}),this.B.Ig=new ad(this,b),this.B.Wg=new hd(this,1016,b),a.Te&&(this.B.Te=new hd(this,760,b)),a.Ue&&(this.B.Ue=new hd(this,1E3,b)),a.Ve&&(this.B.Ve=new hd(this,744,b)),this.B.ae=new oc(this,a.X),c=0,a.K&&(this.B.K=new Ib(this,a.K,a.Nc,!1,c++,b)),a.W&&(this.B.W=new Ib(this,a.W,void 0,!0,c++,b)),this.B.gg=new wc(this,b),
"ne2k"===a.Ne.type?this.B.cb=new Dd(this,b,a.pe,a.Ob):"virtio"===a.Ne.type&&(this.B.If=new we(this,b,a.pe)),a.xc&&(this.B.Yg=new aa(a.xc,this,b)),a.We&&(this.B.We=new se(this,b)),this.B.Lg=new Od(this,b));a.cc&&(a=Fe(this,a.cc,a.Nb,a.Hb))&&(this.Cb.Cg?this.pd.push(a):this.l[0]=jb(this.C,244))};
function Fe(a,b,c,d){if(8192>b.byteLength){var e=new Int32Array(2048);(new Uint8Array(e.buffer)).set(new Uint8Array(b))}else e=new Int32Array(b,0,2048);for(var f=0;8192>f;f+=4){if(464367618===e[f>>2]){var g=e[f+4>>2];if(464367618+g+e[f+8>>2]|0)continue}else continue;var h=a;M(a.C,244,a,function(){return 0},function(){return 0},function(){var m=31860,p=0;if(d){p|=4;h.Aa(31760,m);d+="\x00";var w=(new TextEncoder).encode(d);fc(h,w,m);m+=w.length}if(g&2){p|=64;w=0;h.Aa(31788,0);h.Aa(31792,m);var r=0;
var n=!1;for(let q=0;4294967296>q;q+=131072)n&&void 0!==h.g[q>>>17]?(h.Aa(m,20),h.Aa(m+4,r),h.Aa(m+8,0),h.Aa(m+12,q-r),h.Aa(m+16,0),h.Aa(m+20,1),m+=24,w+=24,n=!1):n||void 0!==h.g[q>>>17]||(r=q,n=!0);h.Aa(31788,w)}h.Aa(31744,p);w=p=0;if(g&65536){p=e[f+16>>2];var z=e[f+20>>2];w=e[f+24>>2];r=e[f+28>>2];n=new Uint8Array(b,f-(e[f+12>>2]-p),0===z?void 0:z-p);fc(h,n,p);p=r|0;w=Math.max(z,w)}else if(1179403647===e[0]){r=new DataView(b);const [q,u]=Ge(r,He);console.assert(52===u);console.assert(1179403647===
q.yh,"Bad magic");console.assert(1===q.Vd,"Unimplemented: 64 bit elf");console.assert(1===q.data,"Unimplemented: big endian");console.assert(1===q.$k,"Bad version0");console.assert(2===q.type,"Unimplemented type");console.assert(1===q.al,"Bad version1");console.assert(52===q.Yi,"Bad header size");console.assert(32===q.Gh,"Bad program header size");console.assert(40===q.di,"Bad section header size");[p]=Ie(new DataView(r.buffer,r.byteOffset+q.rj,q.Gh*q.Hh),Je,q.Hh);Ie(new DataView(r.buffer,r.byteOffset+
q.Sk,q.di*q.ei),Ke,q.ei);r=q;n=p;p=r.lh;for(z of n)0!==z.type&&1===z.type&&z.fg+z.Dg<h.G[0]&&(z.nh&&(n=new Uint8Array(b,z.offset,z.nh),fc(h,n,z.fg)),w=Math.max(w,z.fg+z.Dg),p===r.lh&&z.Xg<=p&&z.Xg+z.Dg>p&&(p=p-z.Xg+z.fg))}c&&(h.Aa(31764,1),h.Aa(31768,m),z=w,0!==(z&4095)&&(z=(z&-4096)+4096),w=z+c.byteLength,h.Aa(m,z),h.Aa(m+4,w),h.Aa(m+8,0),h.Aa(m+12,0),fc(h,new Uint8Array(c),z));h.l[3]=31744;h.nb[0]=1;h.la[0]=1;h.flags[0]=2;h.Y[0]=1;h.Ra[0]=1;for(m=0;6>m;m++)h.A[m]=0,h.Ha[m]=0,h.Ga[m]=4294967295,
h.Ia[m]=45058;h.V[0]=h.Fd()+p|0;h.bd();return 732803074});a.C.ad(244,a,function(m){console.log("Test exited with code "+zb(m,2));throw"HALT";},function(){},function(){},function(){});for(let m=0;15>=m;m++){function p(w){w?this.$a(m):Kb(this,m)}O(a.C,8192+m,a,p,p,p)}a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=43605;a[2]=1;var k=3;a[k++]=102;a[k++]=229;a[k++]=244;let l=a[k]=0;for(let m=0;m<a.length;m++)l+=a[m];a[k]=-l;return{name:"genroms/multiboot.bin",data:a}}}
function Ee(a,b,c){var d=c.Gb||291;b.da[56]=1|d>>4&240;b.da[61]=d&255;b.da[21]=128;b.da[22]=2;d=0;1048576<=a.G[0]&&(d=a.G[0]-1048576>>10,d=Math.min(d,65535));b.da[23]=d&255;b.da[24]=d>>8&255;b.da[48]=d&255;b.da[49]=d>>8&255;d=0;16777216<=a.G[0]&&(d=a.G[0]-16777216>>16,d=Math.min(d,65535));b.da[52]=d&255;b.da[53]=d>>8&255;b.da[91]=0;b.da[92]=0;b.da[93]=0;b.da[20]=47;b.da[95]=0;c.mh&&(b.da[63]=1)}
function ob(a){var b=a.Cb.Cg,c=a.Cb.rb;if(b){var d=new Uint8Array(b);fc(a,d,1048576-b.byteLength);if(c){var e=new Uint8Array(c);fc(a,e,786432);ib(a.C,4272947200,1048576,function(f){f=f-4272947200|0;return f<e.length?e[f]:0},function(){})}ib(a.C,4293918720,1048576,function(f){return this.pb[f&1048575]}.bind(a),function(f,g){this.pb[f&1048575]=g}.bind(a))}}
function Le(a,b,c,d,e,f){const g=new Uint8Array(a.La.buffer,e>>>0,f>>>0);WebAssembly.instantiate(g,{e:a.Id}).then(h=>{a.Ma.Zg.set(b+1024,h.instance.exports.f);a.Bd(b,c,d);a.pi&&a.pi(g)})}lb.prototype.$a=function(a){this.Ld(a);if(this.B.md){var b=this.B.md;if(!(24<=a)){var c=1<<a;0===(b.i&c)&&(b.i|=c,65536!==(b.g[a]&98304)&&(b.h|=c,td(b,a)))}}};function Kb(a,b){a.Kd(b);if(a.B.md&&(a=a.B.md,!(24<=b))){var c=1<<b;(a.i&c)===c&&(a.i&=~c,a.g[b]&32768&&(a.h&=~c))}};function Be(a){var b={};a.debug=b;b.Mb=function(){};b.Bl=function(){};b.tl=function(){};b.ga=function(){};b.vl=function(){};b.ul=function(){};b.sl=function(){if(a.nb[4]&32)for(var f=0;4>f;f++)a.h(a.nb[3]+8*f)};b.ql=function(){};b.rl=function(){};b.Al=function(){};b.Gl=function(){};b.Ol=function(){};b.jl=function(){};let c,d;b.pl=function(f,g,h){if(!d){if(void 0===c&&(c="function"===typeof require?require("./capstone-x86.min.js"):window.cs,void 0===c))return;d=[new c.Capstone(c.ARCH_X86,c.MODE_16),
new c.Capstone(c.ARCH_X86,c.MODE_32)]}try{d[f].disasm(g,h).forEach(function(k){ze(zb(k.il>>>0)+": "+yb(k.bytes.map(l=>zb(l,2).slice(-2)).join(" "),20)+" "+k.mnemonic+" "+k.op_str)})}catch(k){ze("Could not disassemble: "+Array.from(g).map(l=>zb(l,2)).join(" "))}};let e;b.wl=function(f){if(void 0===e&&(e="function"===typeof require?require("./libwabt.js"):new window.WabtModule,void 0===e))return;f=f.slice();try{var g=e.readWasm(f,{Ll:!1});g.generateNames();g.applyNames();g.toText({zl:!0,Dl:!0})}catch(l){var h=
new Blob([f]),k=document.createElement("a");k.download="failed.wasm";k.href=window.URL.createObjectURL(h);k.dataset.downloadurl=["application/octet-stream",k.download,k.href].join(":");k.click();window.URL.revokeObjectURL(k.src);console.log(l.toString())}finally{g&&g.va()}}};const Me=DataView.prototype,Ne={size:1,get:Me.getUint8,set:Me.setUint8},Oe={size:2,get:Me.getUint16,set:Me.setUint16},W={size:4,get:Me.getUint32,set:Me.setUint32},He=Pe([{yh:W},{Vd:Ne},{data:Ne},{$k:Ne},{Il:Ne},{el:Ne},{Jl:function(a){return{size:a,get:()=>-1}}(7)},{type:Oe},{Fl:Oe},{al:W},{lh:W},{rj:W},{Sk:W},{flags:W},{Yi:Oe},{Gh:Oe},{Hh:Oe},{di:Oe},{ei:Oe},{Ml:Oe}]);console.assert(52===He.reduce((a,b)=>a+b.size,0));const Je=Pe([{type:W},{offset:W},{Xg:W},{fg:W},{nh:W},{Dg:W},{flags:W},{align:W}]);
console.assert(32===Je.reduce((a,b)=>a+b.size,0));const Ke=Pe([{name:W},{type:W},{flags:W},{fl:W},{offset:W},{size:W},{link:W},{info:W},{hl:W},{yl:W}]);console.assert(40===Ke.reduce((a,b)=>a+b.size,0));function Pe(a){return a.map(function(b){var c=Object.keys(b);console.assert(1===c.length);c=c[0];b=b[c];console.assert(0<b.size);return{name:c,type:b,size:b.size,get:b.get,set:b.set}})}
function Ge(a,b){const c={};let d=0;for(const e of b)b=e.get.call(a,d,!0),console.assert(void 0===c[e.name]),c[e.name]=b,d+=e.size;return[c,d]}function Ie(a,b,c){const d=[];let e=0;for(var f=0;f<c;f++){const [g,h]=Ge(new DataView(a.buffer,a.byteOffset+e,void 0),b);d.push(g);e+=h}return[d,e]};function De(a,b,c,d){var e=new Uint8Array(b);const f=new Uint16Array(b);var g=new Uint32Array(b),h=e[497]||4;if(43605===f[255]&&1400005704===(f[257]|f[258]<<16)){var k=e[529];e[528]=255;e[529]=k&-97|128;f[274]=56832;f[253]=65535;d+="\x00";g[138]=581632;for(e=0;e<d.length;e++)a[581632+e]=d.charCodeAt(e);h=512*(h+1);d=new Uint8Array(b,0,h);b=new Uint8Array(b,h);e=h=0;c&&(h=67108864,e=c.byteLength,a.set(new Uint8Array(c),h));g[134]=h;g[135]=e;a.set(d,524288);a.set(b,1048576);a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=
43605;a[2]=1;c=3;a[c++]=250;a[c++]=184;a[c++]=32768;a[c++]=128;a[c++]=142;a[c++]=192;a[c++]=142;a[c++]=216;a[c++]=142;a[c++]=224;a[c++]=142;a[c++]=232;a[c++]=142;a[c++]=208;a[c++]=188;a[c++]=57344;a[c++]=224;a[c++]=234;a[c++]=0;a[c++]=0;a[c++]=32800;a[c++]=128;g=a[c]=0;for(b=0;b<a.length;b++)g+=a[b];a[c]=-g;return{name:"genroms/kernel.bin",data:a}}};var Ha=32768,Fa=16384,La=4;function Qe(a){this.g=[];this.A=[];this.j=a;this.s={Bg:0};this.h={};this.l=274877906944;this.o=0;this.i=[];Ea(this,"",-1)}Qe.prototype.ga=function(){let a=[];a[0]=this.g;a[1]=this.s.Bg;a[2]=[];for(const [b,c]of Object.entries(this.h))0===(this.g[b].mode&Fa)&&a[2].push([b,c]);a[3]=this.l;a[4]=this.o;return a=a.concat(this.i)};
Qe.prototype.H=function(a){this.g=a[0].map(b=>{const c=new Re(0);c.H(b);return c});this.s.Bg=a[1];this.h={};for(let [b,c]of a[2])c.buffer.byteLength!==c.byteLength&&(c=c.slice()),this.h[b]=c;this.l=a[3];this.o=a[4];this.i=a.slice(5)};function xa(a,b,c){var d=a.g[b];0===d.status||2===d.status?c():5===d.status?xa(Z(a,d),d.g,c):a.A.push({id:b,dl:c})}
function Se(a,b,c){var d=Te(a);const e=b[0];d.size=b[1];d.Vc=b[2];d.Ge=d.Vc;d.Ud=d.Vc;d.mode=b[3];d.uid=b[4];d.ab=b[5];var f=d.mode&61440;if(f===Fa)for(Ue(a,d,c,e),c=a.g.length-1,b=b[6],d=0;d<b.length;d++)Se(a,b[d],c);else f===Ha?(d.status=2,d.ue=b[6],Ue(a,d,c,e)):40960===f&&(d.Df=b[6],Ue(a,d,c,e))}function Ve(a,b,c,d){const e=a.g[c],f=a.g[b];We(a,b);f.ta.has(d);f.ta.set(d,c);e.xb++;We(a,c)&&(e.ta.has(".."),e.ta.has(".")||e.xb++,e.ta.set(".",c),e.ta.set("..",b),f.xb++)}
function Xe(a,b,c){const d=Sa(a,b,c),e=a.g[d],f=a.g[b];We(a,b);f.ta.delete(c)&&(e.xb--,We(a,d)&&(e.ta.get(".."),e.ta.delete(".."),f.xb--))}function Ue(a,b,c,d){-1!==c?(a.g.push(b),b.Lc=a.g.length-1,Ve(a,c,b.Lc,d)):0===a.g.length&&(a.g.push(b),b.ta.set(".",0),b.ta.set("..",0),b.xb=2)}
function Re(a){this.ta=new Map;this.$f=this.Zf=this.Vc=this.Ud=this.Ge=this.Lc=this.ab=this.uid=this.size=this.status=0;this.Df="";this.mode=493;this.Ta={type:0,version:0,path:a};this.xb=0;this.ue="";this.h=[];this.g=this.i=-1}
Re.prototype.ga=function(){const a=[];a[0]=this.mode;a[1]=(this.mode&61440)===Fa?[...this.ta]:(this.mode&61440)===Ha?this.ue:40960===(this.mode&61440)?this.Df:49152===(this.mode&61440)?[this.$f,this.Zf]:null;a[2]=this.h;a[3]=this.status;a[4]=this.size;a[5]=this.uid;a[6]=this.ab;a[7]=this.Lc;a[8]=this.Ge;a[9]=this.Ud;a[10]=this.Vc;a[11]=this.Ta.version;a[12]=this.Ta.path;a[13]=this.xb;return a};
Re.prototype.H=function(a){this.mode=a[0];if((this.mode&61440)===Fa){this.ta=new Map;for(const [b,c]of a[1])this.ta.set(b,c)}else(this.mode&61440)===Ha?this.ue=a[1]:40960===(this.mode&61440)?this.Df=a[1]:49152===(this.mode&61440)&&([this.$f,this.Zf]=a[1]);this.h=[];for(const b of a[2]){const c=new Ye;c.H(b);this.h.push(c)}this.status=a[3];this.size=a[4];this.uid=a[5];this.ab=a[6];this.Lc=a[7];this.Ge=a[8];this.Ud=a[9];this.Vc=a[10];this.Ta.type=(this.mode&61440)>>8;this.Ta.version=a[11];this.Ta.path=
a[12];this.xb=a[13]};function Ze(a,b){Object.assign(b,a,{Lc:b.Lc,ta:b.ta,xb:b.xb})}function Te(a){const b=Math.round(Date.now()/1E3);a=new Re(++a.s.Bg);a.Ud=a.Ge=a.Vc=b;return a}function Ea(a,b,c){var d=a.g[c];if(0<=c&&5===d.status)return c=d.g,b=Ea(Z(a,d),b,c),$e(a,d.i,b);d=Te(a);d.mode=511|Fa;0<=c&&(d.uid=a.g[c].uid,d.ab=a.g[c].ab,d.mode=a.g[c].mode&511|Fa);d.Ta.type=Fa>>8;Ue(a,d,c,b);return a.g.length-1}
function Ga(a,b,c){var d=a.g[c];if(5===d.status)return c=d.g,b=Ga(Z(a,d),b,c),$e(a,d.i,b);d=Te(a);d.uid=a.g[c].uid;d.ab=a.g[c].ab;d.Ta.type=Ha>>8;d.mode=a.g[c].mode&438|Ha;Ue(a,d,c,b);return a.g.length-1}function Ba(a,b,c,d,e){var f=a.g[c];if(5===f.status)return c=f.g,b=Ba(Z(a,f),b,c,d,e),$e(a,f.i,b);f=Te(a);f.Zf=d;f.$f=e;f.uid=a.g[c].uid;f.ab=a.g[c].ab;f.Ta.type=192;f.mode=a.g[c].mode&438;Ue(a,f,c,b);return a.g.length-1}
function za(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,b=za(Z(a,e),b,c,d),$e(a,e.i,b);e=Te(a);e.uid=a.g[c].uid;e.ab=a.g[c].ab;e.Ta.type=160;e.Df=d;e.mode=40960;Ue(a,e,c,b);return a.g.length-1}async function af(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,d=await af(Z(a,e),b,c,d),$e(a,e.i,d);e=Ga(a,b,c);b=a.g[e];c=new Uint8Array(d.length);c.set(d);await bf(a,e,c);b.size=d.length;return e}
function wa(a,b,c){var d=a.g[b];if(5===d.status)return wa(Z(a,d),d.g,c);(d.mode&61440)===Fa&&cf(a,b);return!0}async function Ua(a,b){var c=a.g[b];if(5===c.status)return await Ua(Z(a,c),c.g);2===c.status&&a.j.g(c.ue);c.status===La&&(c.status=-1,await df(a,b))}
async function Qa(a,b,c,d,e){if(b===d&&c===e)return 0;var f=Sa(a,b,c);if(-1===f)return-2;var g=b;We(a,g);for(var h="";0!==g;)h="/"+ef(a,g)+h,g=ff(a,g);if(-1!==Sa(a,d,e)&&(g=Ta(a,d,e),0>g))return g;h=a.g[f];var k=a.g[b];g=a.g[d];if(5===k.status||5===g.status)if(5===k.status&&k.i===g.i){if(a=await Qa(Z(a,k),k.g,c,g.g,e),0>a)return a}else{if(0===J(a,f).Lc||!We(a,f)&&1<J(a,f).xb)return-1;k=Sa(a,b,c);var l=a.g[k],m=new Re(-1);We(a,k);Object.assign(m,l);const p=a.g.length;a.g.push(m);m.Lc=p;5===l.status&&
a.i[l.i].g.set(l.g,p);if(5!==l.status||0===l.g)Xe(a,b,c),Ve(a,b,p,c);if(We(a,k)&&5!==l.status)for(const [w,r]of m.ta)"."!==w&&".."!==w&&We(a,r)&&a.g[r].ta.set("..",p);a.h[p]=a.h[k];delete a.h[k];l.ta=new Map;l.xb=0;k=p;l=J(a,f);m=await Oa(a,k,0,l.size);5===g.status?(d=Z(a,g),e=We(a,k)?Ea(d,e,g.g):Ga(d,e,g.g),d=J(d,e),Ze(l,d),gf(a,f,g.i,e)):(h.status=-1,a.i[h.i].g.delete(h.g),Ze(l,h),Ve(a,d,f,e));await Ma(a,f,l.size);m&&m.length&&await Pa(a,f,0,m.length,m);if(We(a,f))for(const w of hf(a,k))if(e=await Qa(a,
k,w,f,w),0>e)return e;await df(a,k);a=Ta(a,b,c);if(0>a)return a}else Xe(a,b,c),Ve(a,d,f,e),h.Ta.version++;return 0}async function Pa(a,b,c,d,e){var f=a.g[b];if(5===f.status)b=f.g,await Pa(Z(a,f),b,c,d,e);else{var g=await a.ac(b);!g||g.length<c+d?(await Ma(a,b,Math.floor(3*(c+d)/2)),f.size=c+d,g=await a.ac(b)):f.size<c+d&&(f.size=c+d);e&&g.set(e.subarray(0,d),c);await bf(a,b,g)}}async function Oa(a,b,c,d){const e=a.g[b];return 5===e.status?(b=e.g,await Oa(Z(a,e),b,c,d)):await jf(a,b,c,d)}
function Sa(a,b,c){b=a.g[b];if(5===b.status){const d=b.g;c=Sa(Z(a,b),d,c);return-1===c?-1:kf(a,b.i,c)}a=b.ta.get(c);return void 0===a?-1:a}function ra(a){let b=a.g.length;for(const {h:c,g:d}of a.i)b+=ra(c),b-=d.size;return b}function sa(a){let b=1048576;for(const {h:c}of a.i)b+=sa(c);return b}function na(a){let b=a.o;for(const {h:c}of a.i)b+=na(c);return b}function oa(a){let b=a.l;for(const {h:c}of a.i)b+=oa(c);return a.l}
function ef(a,b){const c=a.g[ff(a,b)];if(5===c.status)return ef(Z(a,c),a.g[b].g);if(!c)return"";for(const [d,e]of c.ta)if(e===b)return d;return""}function ya(a,b,c,d){if(We(a,c))return-1;const e=a.g[b],f=a.g[c];if(5===e.status)return 5!==f.status||f.i!==e.i?-1:ya(Z(a,e),e.g,f.g,d);if(5===f.status)return-1;Ve(a,b,c,d);return 0}
function Ta(a,b,c){if("."===c||".."===c)return-1;var d=Sa(a,b,c);const e=a.g[d];var f=a.g[b];if(5===f.status)return b=f.g,Ta(Z(a,f),b,c);if(f=We(a,d)){a:if(d=a.g[d],5===d.status)var g=We(Z(a,d),d.g);else{for(g of d.ta.keys())if("."!==g&&".."!==g){g=!1;break a}g=!0}f=!g}if(f)return-39;Xe(a,b,c);0===e.xb&&(e.status=La);return 0}async function df(a,b){const c=a.g[b];5===c.status?await df(Z(a,c),c.g):(c.size=0,delete a.h[b])}
Qe.prototype.ac=async function(a){const b=this.g[a];return this.h[a]?this.h[a]:2===b.status?await this.j.read(b.ue,0,b.size):null};async function jf(a,b,c,d){const e=a.g[b];return a.h[b]?a.h[b].subarray(c,c+d):2===e.status?await a.j.read(e.ue,c,d):null}async function bf(a,b,c){a.h[b]=c;2===a.g[b].status&&(a.g[b].status=0,a.j.g(a.g[b].ue))}function J(a,b){b=a.g[b];return 5===b.status?J(Z(a,b),b.g):b}
async function Ma(a,b,c){var d=J(a,b),e=await jf(a,b,0,d.size);if(c!==d.size){var f=new Uint8Array(c);d.size=c;e&&f.set(e.subarray(0,Math.min(e.length,d.size)),0);await bf(a,b,f)}}
function lf(a,b){b=b.replace("//","/");b=b.split("/");0<b.length&&0===b[b.length-1].length&&b.pop();0<b.length&&0===b[0].length&&b.shift();const c=b.length;var d=-1,e=0;let f=null;for(var g=0;g<c;g++)if(d=e,e=Sa(a,d,b[g]),!f&&5===a.g[d].status&&(f="/"+b.slice(g).join("/")),-1===e)return g<c-1?{id:-1,Fg:-1,name:b[g],ph:f}:{id:-1,Fg:d,name:b[g],ph:f};return{id:e,Fg:d,name:b[g],ph:f}}
function cf(a,b){var c=a.g[b];if(5===c.status)cf(Z(a,c),c.g);else{var d=0;for(const e of c.ta.keys())d+=24+mf.encode(e).length;b=a.h[b]=new Uint8Array(d);c.size=d;d=0;for(const [e,f]of c.ta)c=J(a,f),d+=x(["Q","d","b","s"],[c.Ta,d+13+8+1+2+mf.encode(e).length,c.mode>>12,e],b,d)}}function Na(a,b,c){a=a.h[b];if(c>=a.length)return a.length;for(b=0;;){const d=E(["Q","d"],a,{offset:b})[1];if(d>c)break;b=d}return b}function We(a,b){b=a.g[b];return 5===b.status?We(Z(a,b),b.g):(b.mode&61440)===Fa}
function hf(a,b){We(a,b);b=a.g[b];if(5===b.status)return hf(Z(a,b),b.g);a=[];for(const c of b.ta.keys())"."!==c&&".."!==c&&a.push(c);return a}function ff(a,b){We(a,b);b=a.g[b];if(5!==b.status||0===b.g)return b.ta.get("..");const c=ff(Z(a,b),b.g);return kf(a,b.i,c)}function gf(a,b,c,d){const e=a.g[b];5===e.status&&a.i[e.i].g.delete(e.g);e.status=5;e.i=c;e.g=d;a.i[c].g.set(d,b)}function $e(a,b,c){const d=Te(a),e=a.g.length;a.g.push(d);d.Lc=e;gf(a,e,b,c);return e}
function kf(a,b,c){const d=a.i[b].g.get(c);return void 0===d?$e(a,b,c):d}function Z(a,b){return a.i[b.i].h}function Ye(){this.type=2;this.start=0;this.length=Infinity;this.h=-1;this.g=""}Ye.prototype.ga=function(){const a=[];a[0]=this.type;a[1]=this.start;a[2]=Infinity===this.length?0:this.length;a[3]=this.h;a[4]=this.g;return a};Ye.prototype.H=function(a){this.type=a[0];this.start=a[1];this.length=0===a[2]?Infinity:a[2];this.h=a[3];this.g=a[4]};
function nf(a){const b=new Ye;b.H(a.ga());return b}function of(a,b){return b.h===a.h&&b.g===a.g&&b.type===a.type}function pf(a,b){return of(a,b)&&b.start+b.length===a.start}function Ia(a,b,c,d,e){const f=new Ye;f.type=a;f.start=b;f.length=c;f.h=d;f.g=e;return f}
function Ka(a,b,c){b=a.g[b];if(5===b.status){var d=b.g;return Ka(Z(a,b),d,c)}for(d of b.h)if(!(c.h===d.h&&c.g===d.g||2===c.type||2===d.type||1!==c.type&&1!==d.type||c.start+c.length<=d.start||d.start+d.length<=c.start))return nf(d);return null}
function Ja(a,b,c,d){const e=a.g[b];if(5===e.status)return b=e.g,Ja(Z(a,e),b,c,d);c=nf(c);if(2!==c.type&&Ka(a,b,c))return 1;for(a=0;a<e.h.length;a++){d=e.h[a];if(d.start+d.length<=c.start)continue;if(c.start+c.length<=d.start)break;if(d.h!==c.h||d.g!==c.g)continue;b=c.start+c.length;const f=c.start-d.start,g=d.start+d.length-b;if(0<f&&0<g&&d.type===c.type)return 0;0<f&&(d.length=f);if(0>=f&&0<g)d.start=b,d.length=g;else if(0<g){for(;a<e.h.length&&e.h[a].start<b;)a++;e.h.splice(a,0,Ia(d.type,b,g,d.h,
d.g))}else 0>=f&&(e.h.splice(a,1),a--)}if(2!==c.type){a=c;d=!1;for(b=0;b<e.h.length&&!(pf(a,e.h[b])&&(e.h[b].length+=c.length,a=e.h[b],d=!0),c.start<=e.h[b].start);b++);d||(e.h.splice(b,0,a),b++);for(;b<e.h.length;b++)if(of(e.h[b],a)){pf(e.h[b],a)&&(a.length+=e.h[b].length,e.h.splice(b,1));break}}return 0}function qf(a,b){b=lf(a,b);if(-1!==b.id)return a=J(a,b.id),Array.from(a.ta.keys()).filter(c=>"."!==c&&".."!==c)}
Qe.prototype.zf=function(a){a=lf(this,a);if(-1===a.id)return Promise.resolve(null);const b=J(this,a.id);return Oa(this,a.id,0,b.size)};const rf=new TextDecoder,mf=new TextEncoder;
function x(a,b,c,d){for(var e,f=0,g=0;g<a.length;g++)switch(e=b[g],a[g]){case "w":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;f+=4;break;case "d":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;c[d++]=0;c[d++]=0;c[d++]=0;c[d++]=0;f+=8;break;case "h":c[d++]=e&255;c[d++]=e>>8;f+=2;break;case "b":c[d++]=e;f+=1;break;case "s":var h=d,k=0;c[d++]=0;c[d++]=0;f+=2;e=mf.encode(e);f+=e.byteLength;k+=e.byteLength;c.set(e,d);d+=e.byteLength;c[h+0]=k&255;c[h+1]=k>>8&255;break;
case "Q":x(["b","w","d"],[e.type,e.version,e.path],c,d),d+=13,f+=13}return f}
function E(a,b,c){let d=c.offset;for(var e=[],f=0;f<a.length;f++)switch(a[f]){case "w":var g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;e.push(g);break;case "d":g=b[d++];g+=b[d++]<<8;g+=b[d++]<<16;g+=b[d++]<<24>>>0;d+=4;e.push(g);break;case "h":g=b[d++];e.push(g+(b[d++]<<8));break;case "b":e.push(b[d++]);break;case "s":g=b[d++];g+=b[d++]<<8;var h=b.slice(d,d+g);d+=g;e.push(rf.decode(h));break;case "Q":c.offset=d,g=E(["b","w","d"],b,c),d=c.offset,e.push({type:g[0],version:g[1],path:g[2]})}c.offset=
d;return e};const sf="undefined"!==typeof window&&0<=window.navigator.platform.toString().toLowerCase().search("win");
function tf(a){function b(u){!u.altKey&&k[56]&&g(56,!1);return e(u,!1)}function c(u){!u.altKey&&k[56]&&g(56,!1);return e(u,!0)}function d(){for(var u=Object.keys(k),y,F=0;F<u.length;F++)y=+u[F],k[y]&&g(y,!1);k={}}function e(u,y){if(w.v&&(u.shiftKey&&u.ctrlKey&&(73===u.keyCode||74===u.keyCode||75===u.keyCode)||!w.Vf?0:u.target?u.target.classList.contains("phone_keyboard")||"INPUT"!==u.target.nodeName&&"TEXTAREA"!==u.target.nodeName:1)){u.preventDefault&&u.preventDefault();if(sf&&(l&&(clearTimeout(p),
u.getModifierState&&u.getModifierState("AltGraph")&&m===y&&"ControlLeft"===l.code&&"AltRight"===u.code||f(l,m),l=null),"ControlLeft"===u.code))return l=u,m=y,p=setTimeout(()=>{f(l,m);l=null},10),!1;f(u,y);return!1}}function f(u,y){a:{if(void 0!==u.code){var F=q[u.code];if(void 0!==F)break a}F=r[u.keyCode]}F?g(F,y,u.repeat):console.log("Missing char in map: keyCode="+(u.keyCode||-1).toString(16)+" code="+u.code)}function g(u,y,F){if(y)k[u]&&!F&&g(u,!1);else if(!k[u])return;(k[u]=y)||(u|=128);255<u?
(h(u>>8),h(u&255)):h(u)}function h(u){w.v.send("keyboard-code",u)}var k={},l=null,m=!1,p=0,w=this;this.Vf=!0;var r=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n={8:8,10:13,32:32,39:222,44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,
113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},z={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192},q={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,
Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,IntlRo:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,
ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,AltRight:57400,Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.v=a;this.va=function(){"undefined"!==typeof window&&
(window.removeEventListener("keyup",b,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("blur",d,!1))};this.Mb=function(){"undefined"!==typeof window&&(this.va(),window.addEventListener("keyup",b,!1),window.addEventListener("keydown",c,!1),window.addEventListener("blur",d,!1))};this.Mb();this.g=function(u){u={keyCode:u};e(u,!0);e(u,!1)};this.Uk=function(u){var y=u.charCodeAt(0);y in n?this.g(n[y]):y in z?(h(42),this.g(z[y]),h(170)):console.log("ascii -> keyCode not found: ",
y,u)}};function uf(a,b){function c(q){if(!z.enabled||!z.Vf)return!1;var u=b||document.body,y;if(!(y=document.pointerLockElement))a:{for(q=q.target;q.parentNode;){if(q===u){y=!0;break a}q=q.parentNode}y=!1}return y}function d(q){c(q)&&(q=q.changedTouches)&&q.length&&(q=q[q.length-1],r=q.clientX,n=q.clientY)}function e(){if(m||w||p)z.v.send("mouse-click",[!1,!1,!1]),m=w=p=!1}function f(q){if(z.v&&c(q)&&z.ce){var u=0,y=0,F=q.changedTouches;F?F.length&&(F=F[F.length-1],u=F.clientX-r,y=F.clientY-n,r=F.clientX,
n=F.clientY,q.preventDefault()):"number"===typeof q.movementX?(u=q.movementX,y=q.movementY):"number"===typeof q.webkitMovementX?(u=q.webkitMovementX,y=q.webkitMovementY):"number"===typeof q.mozMovementX?(u=q.mozMovementX,y=q.mozMovementY):(u=q.clientX-r,y=q.clientY-n,r=q.clientX,n=q.clientY);z.v.send("mouse-delta",[.15*u,-(.15*y)]);b&&z.v.send("mouse-absolute",[q.pageX-b.offsetLeft,q.pageY-b.offsetTop,b.offsetWidth,b.offsetHeight])}}function g(q){c(q)&&k(q,!0)}function h(q){c(q)&&k(q,!1)}function k(q,
u){z.v&&(1===q.which?m=u:2===q.which?w=u:3===q.which&&(p=u),z.v.send("mouse-click",[m,w,p]),q.preventDefault())}function l(q){if(c(q)){var u=q.wheelDelta||-q.detail;0>u?u=-1:0<u&&(u=1);z.v.send("mouse-wheel",[u,0]);q.preventDefault()}}var m=!1,p=!1,w=!1,r=0,n=0,z=this;this.enabled=!1;this.Vf=!0;this.v=a;this.v.register("mouse-enable",function(q){this.enabled=q},this);this.ce=!1;this.v.register("emulator-stopped",function(){this.ce=!1},this);this.v.register("emulator-started",function(){this.ce=!0},
this);this.va=function(){"undefined"!==typeof window&&(window.removeEventListener("touchstart",d,!1),window.removeEventListener("touchend",e,!1),window.removeEventListener("touchmove",f,!1),window.removeEventListener("mousemove",f,!1),window.removeEventListener("mousedown",g,!1),window.removeEventListener("mouseup",h,!1),window.removeEventListener("wheel",l,{passive:!1}))};this.Mb=function(){"undefined"!==typeof window&&(this.va(),window.addEventListener("touchstart",d,!1),window.addEventListener("touchend",
e,!1),window.addEventListener("touchmove",f,!1),window.addEventListener("mousemove",f,!1),window.addEventListener("mousedown",g,!1),window.addEventListener("mouseup",h,!1),window.addEventListener("wheel",l,{passive:!1}))};this.Mb()};function vf(a){if("undefined"!==typeof window)if(window.AudioContext||window.webkitAudioContext){var b=window.AudioWorklet?wf:xf;this.v=a;this.ba=window.AudioContext?new AudioContext:new webkitAudioContext;this.ag=new yf(a,this.ba);this.h=new zf(a,this.ba,this.ag);this.g=new b(a,this.ba,this.ag);this.h.start();a.register("emulator-stopped",function(){this.ba.suspend()},this);a.register("emulator-started",function(){this.ba.resume()},this);a.register("speaker-confirm-initialized",function(){a.send("speaker-has-initialized")},
this);a.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}vf.prototype.va=function(){this.ba&&this.ba.close();this.ba=null;this.g&&this.g.Dc&&this.g.Dc.port.close();this.g=null};
function yf(a,b){function c(d){return function(e){d.gain.setValueAtTime(e,this.ba.currentTime)}}this.ba=b;this.sources=new Map;this.sh=this.rh=this.F=this.D=this.s=1;this.i=this.ba.createBiquadFilter();this.j=this.ba.createBiquadFilter();this.i.type="highshelf";this.j.type="highshelf";this.i.frequency.setValueAtTime(2E3,this.ba.currentTime);this.j.frequency.setValueAtTime(2E3,this.ba.currentTime);this.g=this.ba.createBiquadFilter();this.h=this.ba.createBiquadFilter();this.g.type="lowshelf";this.h.type=
"lowshelf";this.g.frequency.setValueAtTime(200,this.ba.currentTime);this.h.frequency.setValueAtTime(200,this.ba.currentTime);this.l=this.ba.createGain();this.o=this.ba.createGain();this.A=this.ba.createChannelMerger(2);this.I=this.i;this.M=this.j;this.i.connect(this.g);this.g.connect(this.l);this.l.connect(this.A,0,0);this.j.connect(this.h);this.h.connect(this.o);this.o.connect(this.A,0,1);this.A.connect(this.ba.destination);a.register("mixer-connect",function(d){var e=d[1];d=this.sources.get(d[0]);
void 0===d||d.connect(e)},this);a.register("mixer-disconnect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.disconnect(e)},this);a.register("mixer-volume",function(d){var e=d[0],f=d[1];d=Math.pow(10,d[2]/20);e=0===e?this:this.sources.get(e);void 0===e||e.ng(d,f)},this);a.register("mixer-gain-left",function(d){this.rh=Math.pow(10,d/20);this.update()},this);a.register("mixer-gain-right",function(d){this.sh=Math.pow(10,d/20);this.update()},this);a.register("mixer-treble-left",c(this.i),
this);a.register("mixer-treble-right",c(this.j),this);a.register("mixer-bass-left",c(this.g),this);a.register("mixer-bass-right",c(this.h),this)}function Af(a,b,c){b=new Bf(a.ba,b,a.I,a.M);a.sources.has(c);a.sources.set(c,b);return b}yf.prototype.ng=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.D=a;break;case 1:this.F=a;break;case 2:this.s=a;break;default:return}this.update()};
yf.prototype.update=function(){var a=this.s*this.F*this.sh;this.l.gain.setValueAtTime(this.s*this.D*this.rh,this.ba.currentTime);this.o.gain.setValueAtTime(a,this.ba.currentTime)};function Bf(a,b,c,d){this.ba=a;this.o=this.l=!0;this.D=this.A=this.j=this.g=1;this.s=a.createChannelSplitter(2);this.h=a.createGain();this.i=a.createGain();b.connect(this.s);this.s.connect(this.h,0);this.h.connect(c);this.s.connect(this.i,1);this.i.connect(d)}
Bf.prototype.update=function(){var a=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.A,this.ba.currentTime);this.i.gain.setValueAtTime(a,this.ba.currentTime)};Bf.prototype.connect=function(a){var b=!a||2===a;if(b||0===a)this.l=!0;if(b||1===a)this.o=!0;this.update()};Bf.prototype.disconnect=function(a){var b=!a||2===a;if(b||0===a)this.l=!1;if(b||1===a)this.o=!1;this.update()};
Bf.prototype.ng=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.A=a;break;case 1:this.D=a;break;case 2:this.j=a;break;default:return}this.update()};
function zf(a,b,c){this.Oe=b.createOscillator();this.Oe.type="square";this.Oe.frequency.setValueAtTime(440,b.currentTime);this.g=Af(c,this.Oe,1);this.g.disconnect();a.register("pcspeaker-enable",function(){var d=c.sources.get(1);void 0===d||d.connect(void 0)},this);a.register("pcspeaker-disable",function(){var d=c.sources.get(1);void 0===d||d.disconnect(void 0)},this);a.register("pcspeaker-update",function(d){var e=d[1],f=0;3===d[0]&&(f=Math.min(1193181.6665999999/e,this.Oe.frequency.maxValue),f=
Math.max(f,0));this.Oe.frequency.setValueAtTime(f,b.currentTime)},this)}zf.prototype.start=function(){this.Oe.start()};
function wf(a,b,c){this.v=a;this.ba=b;this.enabled=!1;this.Fb=48E3;b=function(){function e(h){if(0===h)return 1;h*=Math.PI;return Math.sin(h)/h}function f(){var h=Reflect.construct(AudioWorkletProcessor,[],f);h.D=3;h.l=Array(1024);h.s=0;h.I=0;h.o=0;h.F=h.l.length;h.A=0;h.M=g;h.g=g;h.O=1;h.j=0;h.i=0;h.h=0;h.port.onmessage=k=>{switch(k.data.type){case "queue":h.aa(k.data.value);break;case "sampling-rate":h.O=k.data.value/sampleRate}};return h}var g=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(f.prototype,
AudioWorkletProcessor.prototype);Reflect.setPrototypeOf(f,AudioWorkletProcessor);f.prototype.process=f.prototype.process=function(h,k){for(h=0;h<k[0][0].length;h++){for(var l=0,m=0,p=this.h+this.D,w=this.h-this.D+1;w<=p;w++){var r=this.j+w;l+=this.R(r,0)*this.S(this.i-w);m+=this.R(r,1)*this.S(this.i-w)}if(isNaN(l)||isNaN(m))l=m=0;k[0][0][h]=l;k[0][1][h]=m;this.i+=this.O;this.h=Math.floor(this.i)}k=this.h;k+=this.D+2;this.i-=this.h;this.j+=this.h;this.h=0;this.V(k);return!0};f.prototype.S=function(h){return e(h)*
e(h/this.D)};f.prototype.R=function(h,k){return 0>h?(h+=this.M[0].length,this.M[k][h]):this.g[k][h]};f.prototype.V=function(h){var k=this.g[0].length;k-this.j<h&&(this.Y(),this.j-=k)};f.prototype.Y=function(){this.M=this.g;this.g=this.U();var h=this.g[0].length;if(256>h){for(var k=this.s,l=0;256>h&&l<this.o;)h+=this.l[k][0].length,k=k+1&this.F-1,l++;h=Math.max(h,256);h=[new Float32Array(h),new Float32Array(h)];h[0].set(this.g[0]);h[1].set(this.g[1]);k=this.g[0].length;for(var m=0;m<l;m++){var p=this.U();
h[0].set(p[0],k);h[1].set(p[1],k);k+=p[0].length}this.g=h}this.Eb()};f.prototype.Eb=function(){1024>this.A/this.O&&this.port.postMessage({type:"pump"})};f.prototype.aa=function(h){this.o<this.F&&(this.l[this.I]=h,this.I=this.I+1&this.F-1,this.o++,this.A+=h[0].length,this.Eb())};f.prototype.U=function(){if(!this.o)return g;var h=this.l[this.s];this.l[this.s]=null;this.s=this.s+1&this.F-1;this.o--;this.A-=h[0].length;return h};registerProcessor("dac-processor",f)}.toString();var d=URL.createObjectURL(new Blob([b.substring(b.indexOf("{")+
1,b.lastIndexOf("}"))],{type:"application/javascript"}));this.Dc=null;this.g=this.ba.createGain();this.ba.audioWorklet.addModule(d).then(()=>{URL.revokeObjectURL(d);this.Dc=new AudioWorkletNode(this.ba,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}});this.Dc.port.postMessage({type:"sampling-rate",value:this.Fb});this.Dc.port.onmessage=e=>{switch(e.data.type){case "pump":this.Eb()}};this.Dc.connect(this.g)});this.h=Af(c,this.g,2);this.h.g=
3;a.register("dac-send-data",function(e){this.Jg(e)},this);a.register("dac-enable",function(){this.enabled=!0},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(e){this.Fb=e;this.Dc&&this.Dc.port.postMessage({type:"sampling-rate",value:e})},this)}wf.prototype.Jg=function(a){this.Dc&&this.Dc.port.postMessage({type:"queue",value:a},[a[0].buffer,a[1].buffer])};wf.prototype.Eb=function(){this.enabled&&this.v.send("dac-request-data")};
function xf(a,b,c){this.v=a;this.ba=b;this.enabled=!1;this.Fb=22050;this.g=0;this.xf=1;this.cg=this.ba.createBiquadFilter();this.cg.type="lowpass";this.i=this.cg;this.h=Af(c,this.i,2);this.h.g=3;a.register("dac-send-data",function(d){this.Jg(d)},this);a.register("dac-enable",function(){this.enabled=!0;this.Eb()},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(d){this.Fb=d;this.xf=Math.ceil(8E3/d);this.cg.frequency.setValueAtTime(d/2,this.ba.currentTime)},
this)}
xf.prototype.Jg=function(a){var b=a[0].length,c=b/this.Fb;if(1<this.xf){var d=this.ba.createBuffer(2,b*this.xf,this.Fb*this.xf);for(var e=d.getChannelData(0),f=d.getChannelData(1),g=0,h=0;h<b;h++)for(var k=0;k<this.xf;k++,g++)e[g]=a[0][h],f[g]=a[1][h]}else d=this.ba.createBuffer(2,b,this.Fb),d.copyToChannel?(d.copyToChannel(a[0],0),d.copyToChannel(a[1],1)):(d.getChannelData(0).set(a[0]),d.getChannelData(1).set(a[1]));a=this.ba.createBufferSource();a.buffer=d;a.connect(this.cg);a.addEventListener("ended",this.Eb.bind(this));
d=this.ba.currentTime;if(this.g<d)for(this.g=d,d=.2-c,b=0;b<=d;)b+=c,this.g+=c,setTimeout(()=>this.Eb(),1E3*b);a.start(this.g);this.g+=c;setTimeout(()=>this.Eb(),0)};xf.prototype.Eb=function(){this.enabled&&(.2<this.g-this.ba.currentTime||this.v.send("dac-request-data"))};function Cf(a,b){function c(h){g.v&&g.enabled&&(g.h(h.which),h.preventDefault())}function d(h){var k=h.which;8===k?(g.h(127),h.preventDefault()):9===k&&(g.h(9),h.preventDefault())}function e(h){if(g.enabled){for(var k=h.clipboardData.getData("text/plain"),l=0;l<k.length;l++)g.h(k.charCodeAt(l));h.preventDefault()}}function f(h){h.target!==a&&a.blur()}var g=this;this.enabled=!0;this.v=b;this.text="";this.j=!1;this.i=0;this.v.register("serial0-output-byte",function(h){this.Tk(String.fromCharCode(h))},
this);this.va=function(){a.removeEventListener("keypress",c,!1);a.removeEventListener("keydown",d,!1);a.removeEventListener("paste",e,!1);window.removeEventListener("mousedown",f,!1)};this.Mb=function(){this.va();a.style.display="block";a.addEventListener("keypress",c,!1);a.addEventListener("keydown",d,!1);a.addEventListener("paste",e,!1);window.addEventListener("mousedown",f,!1)};this.Mb();this.Tk=function(h){"\b"===h?(this.text=this.text.slice(0,-1),this.update()):"\r"!==h&&(this.text+=h,"\n"===
h&&(this.j=!0),this.update())};this.update=function(){var h=Date.now(),k=h-this.i;16>k?void 0===this.g&&(this.g=setTimeout(()=>{this.g=void 0;this.i=Date.now();this.l()},16-k)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=h,this.l())};this.l=function(){a.value=this.text;this.j&&(this.j=!1,a.scrollTop=1E9)};this.h=function(h){g.v&&g.v.send("serial0-input",h)}}
function eb(a,b){this.element=a;if(window.Terminal){var c=this.g=new window.Terminal({logLevel:"off"});c.write("This is the serial console. Whatever you type or paste here will be sent to COM1");var d=c.onData(function(e){for(let f=0;f<e.length;f++)b.send("serial0-input",e.charCodeAt(f))});b.register("serial0-output-byte",function(e){c.write(Uint8Array.of(e))},this);this.va=function(){d.dispose();c.dispose()}}}eb.prototype.show=function(){this.g&&this.g.open(this.element)};function Df(a,b){this.v=b;this.g=void 0;this.id=0;this.h=[];this.url=a;this.i=Date.now()-1E4;this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}t=Df.prototype;t.fj=function(a){this.v&&this.v.send("net"+this.id+"-receive",new Uint8Array(a.data))};t.dj=function(){this.connect();setTimeout(this.connect.bind(this),1E4)};t.gj=function(){for(var a=0;a<this.h.length;a++)this.send(this.h[a]);this.h=[]};t.ej=function(){};t.va=function(){this.g&&this.g.close()};
t.connect=function(){if("undefined"!==typeof WebSocket){if(this.g){var a=this.g.readyState;if(0===a||1===a)return}if(!(this.i+1E4>Date.now())){this.i=Date.now();try{this.g=new WebSocket(this.url)}catch(b){console.error(b);return}this.g.binaryType="arraybuffer";this.g.onopen=this.gj.bind(this);this.g.onmessage=this.fj.bind(this);this.g.onclose=this.dj.bind(this);this.g.onerror=this.ej.bind(this)}}};
t.send=function(a){this.g&&1===this.g.readyState?this.g.send(a):(this.h.push(a),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())};function Xa(a){this.Rf=!1;this.A=function(){};var b=ye();this.v=b[0];this.$d=b[1];var c,d;const e=new WebAssembly.Table({element:"anyfunc",initial:1924});b={cpu_exception_hook:()=>this.A(),run_hardware_timers:function(g,h){var k=c;const l=k.B.gg.ic(h,!1),m=k.B.xd.ic(h,!1);let p=100,w=100;g&&(p=k.B.Ba.ic(h),w=k.B.Ce.ic(h));return Math.min(l,m,p,w)},cpu_event_halt:()=>{this.$d.send("cpu-event-halt")},abort:function(){},microtick:qb,get_rand_int:function(){return Ab()},apic_acknowledge_irq:function(){var g=
c.B.Ce;var h=rd(g.i);-1===h||rd(g.bb)>=h||(h&240)<=(g.s&240)?g=-1:(sd(g.i,h),vd(g.bb,h),qd(g),g=h);return g},stop_idling:function(){return c.ri()},io_port_read8:function(g){g=c.C.ports[g];return g.re.call(g.ya)},io_port_read16:function(g){g=c.C.ports[g];return g.fb.call(g.ya)},io_port_read32:function(g){return jb(c.C,g)},io_port_write8:function(g,h){g=c.C.ports[g];g.tg.call(g.ya,h)},io_port_write16:function(g,h){g=c.C.ports[g];g.Kf.call(g.ya,h)},io_port_write32:function(g,h){g=c.C.ports[g];g.Aa.call(g.ya,
h)},mmap_read8:function(g){return c.g[g>>>17](g)},mmap_read16:function(g){var h=c.g[g>>>17];return h(g)|h(g+1|0)<<8},mmap_read32:function(g){return c.aa[g>>>17](g)},mmap_write8:function(g,h){c.j[g>>>17](g,h)},mmap_write16:function(g,h){var k=c.j[g>>>17];k(g,h&255);k(g+1|0,h>>8)},mmap_write32:function(g,h){c.i[g>>>17](g,h)},mmap_write64:function(g,h,k){var l=c.i[g>>>17];l(g,h);l(g+4,k)},mmap_write128:function(g,h,k,l,m){var p=c.i[g>>>17];p(g,h);p(g+4,k);p(g+8,l);p(g+12,m)},log_from_wasm:function(g,
h){[...(new Uint8Array(d.buffer,g>>>0,h>>>0))]},console_log_from_wasm:function(g,h){g=String.fromCharCode(...(new Uint8Array(d.buffer,g>>>0,h>>>0)));console.error(g)},dbg_trace_from_wasm:function(){},codegen_finalize:(g,h,k,l,m)=>{Le(c,g,h,k,l,m)},jit_clear_func:g=>{c.Ma.Zg.set(g+1024,null)},jit_clear_all_funcs:()=>{const g=c.Ma.Zg;for(let h=0;900>h;h++)g.set(1024+h,null)},__indirect_function_table:e};let f=a.Pl;f||(f=g=>new Promise(h=>{let k="v86.wasm",l="v86-fallback.wasm";if(a.bl){k=a.bl;const m=
k.lastIndexOf("/");l=(-1===m?"":k.substr(0,m))+"/"+l}else"undefined"===typeof window&&"string"===typeof __dirname?(k=__dirname+"/"+k,l=__dirname+"/"+l):(k="build/"+k,l="build/"+l);Hb(k,{done:async m=>{try{const {instance:p}=await WebAssembly.instantiate(m,g);this.s=m;h(p.exports)}catch(p){Hb(l,{done:async w=>{const {instance:r}=await WebAssembly.instantiate(w,g);this.s=w;h(r.exports)}})}},progress:m=>{this.$d.send("download-progress",{mf:0,lf:1,nf:k,lengthComputable:m.lengthComputable,total:m.total,
loaded:m.loaded})}})}));f({env:b}).then(g=>{d=g.memory;g.rust_init();g=this.Qa=new kb(this.$d,{exports:g,Zg:e});c=g.u;Ef(this,g,a)});this.g=null;this.D=0}
async function Ef(a,b,c){function d(w,r){switch(w){case "hda":f.K=this.ub.K=r;break;case "hdb":f.Nc=this.ub.Nc=r;break;case "cdrom":f.W=this.ub.W=r;break;case "fda":f.X=this.ub.X=r;break;case "fdb":f.Je=this.ub.Je=r;break;case "multiboot":f.cc=this.ub.cc=r.buffer;break;case "bzimage":f.Db=this.ub.Db=r.buffer;break;case "initrd":f.Nb=this.ub.Nb=r.buffer;break;case "bios":f.Cb=r.buffer;break;case "vga_bios":f.Hf=r.buffer;break;case "initial_state":f.Ac=r.buffer;break;case "fs9p_json":f.qh=r}}async function e(){if(f.xc&&
f.qh&&!f.Ac){var w=f.xc,r=f.qh;if(3!==r.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var n=r.fsroot;w.o=r.size;for(r=0;r<n.length;r++)Se(w,n[r],0);if(c.cf){const {Ci:z,ij:q}=Ff(f.xc),[u,y]=await Promise.all([f.xc.zf(q),f.xc.zf(z)]);d.call(this,"initrd",new tb(u.buffer));d.call(this,"bzimage",new tb(y.buffer))}}this.hc&&this.hc.show&&this.hc.show();this.Qa.Mb(f);f.Ac&&(b.Re(f.Ac),f.Ac=void 0);c.zi&&
this.Qa.Af();this.$d.send("emulator-loaded")}a.v.register("emulator-stopped",function(){this.Rf=!1;this.fc.pause()},a);a.v.register("emulator-started",function(){this.Rf=!0;this.fc.continue()},a);var f={};a.ub={X:void 0,Je:void 0,K:void 0,Nc:void 0,W:void 0};var g=c.Gb?c.Gb:c.X?801:c.K?786:291;f.Ba=c.Ba;f.ff=c.ff;f.lj=!0;f.G=c.G||67108864;f.pa=c.pa||8388608;f.Gb=g;f.mh=c.mh||!1;f.X=void 0;f.Je=void 0;f.Te=c.Te;f.Ue=c.Ue;f.Ve=c.Ve;f.Hb=c.Hb;f.pe=c.pe;f.Ob=c.Ob;f.hd=c.hd;f.We=c.We;f.If=c.If;f.Ng=c.Ng;
if(g=c.Hl||c.Ne&&c.Ne.te)"fetch"===g?a.j=new Gf(a.v):g.startsWith("wisp://")||g.startsWith("wisps://")?a.j=new Hf(g,a.v,c):a.j=new Df(g,a.v);f.Ne=c.Ne||{type:"ne2k"};g=c.screen||{};c.Pk&&(g.Qf=c.Pk);c.nl||(a.o=new tf(a.v));c.ol||(a.i=new uf(a.v,g.Qf));g.Qf?a.fc=new Va(g,()=>a.Qa.u.B.rb&&a.Qa.u.B.rb.Mg()):a.fc=new If;f.screen=a.fc;f.Ng=g;c.Qk&&(a.hc=new Cf(c.Qk,a.v));c.Rk&&(a.hc=new eb(c.Rk,a.v));c.Pi||(a.h=new vf(a.v));var h=[];g=(w,r)=>{if(r)if(r.get&&r.set&&r.load)h.push({name:w,sf:r});else{if("bios"===
w||"vga_bios"===w||"initial_state"===w||"multiboot"===w||"bzimage"===w||"initrd"===w)r.async=!1;if("fda"===w||"fdb"===w)r.async=!1;r.url&&!r.async?h.push({name:w,url:r.url,size:r.size}):h.push({name:w,sf:xb(r,a.mi.bind(a))})}};c.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");g("bios",c.Cb);g("vga_bios",c.Hf);g("cdrom",c.W);g("hda",c.K);g("hdb",c.Nc);g("fda",c.X);g("fdb",c.Je);g("initial_state",c.Ac);g("multiboot",c.cc);g("bzimage",c.Db);g("initrd",c.Nb);if(c.filesystem){g=
c.filesystem.Ai;var k=c.filesystem.Mf;let w=new Jf;k&&(w=new Kf(w,k));f.xc=a.xc=new Qe(w);if(g){if("object"===typeof g){var l=g.size;g=g.url}h.push({name:"fs9p_json",url:g,size:l,De:!0})}}var m=h.length,p=function(w){if(w===m)setTimeout(e.bind(this),0);else{var r=h[w];r.sf?(r.sf.onload=function(){d.call(this,r.name,r.sf);p(w+1)}.bind(this),r.sf.load()):Hb(r.url,{done:function(n){if(r.url.endsWith(".zst")&&"initial_state"!==r.name){var z=r.size,q=new Uint8Array(n);n=this.Qa.u;this.l=n.li(q.length);
(new Uint8Array(n.La.buffer)).set(q,n.oi(this.l));q=n.Xe(this.l,z);const u=n.La.buffer.slice(q,q+z);n.Ye(q,z);n.ni(this.l);this.l=null;n=u}d.call(this,r.name,r.De?n:new tb(n));p(w+1)}.bind(this),progress:function(n){200===n.target.status?a.$d.send("download-progress",{mf:w,lf:m,nf:r.url,lengthComputable:n.lengthComputable,total:n.total||r.size,loaded:n.loaded}):a.$d.send("download-error",{mf:w,lf:m,nf:r.url,request:n.target})},De:r.De})}}.bind(a);p(0)}t=Xa.prototype;
t.mi=async function(a,b){if(!this.g){const c=URL.createObjectURL(new Blob(["("+function(){let d;globalThis.onmessage=function(e){if(d){var f=e.data.src,g=e.data.Oi;e=e.data.id;var h=d.exports,k=h.zstd_create_ctx(f.length);(new Uint8Array(h.memory.buffer)).set(f,h.zstd_get_src_ptr(k));f=h.zstd_read(k,g);var l=h.memory.buffer.slice(f,f+g);h.zstd_read_free(f,g);h.zstd_free_ctx(k);postMessage({result:l,id:e},[l])}else g=Object.fromEntries("cpu_exception_hook run_hardware_timers cpu_event_halt microtick get_rand_int apic_acknowledge_irq stop_idling io_port_read8 io_port_read16 io_port_read32 io_port_write8 io_port_write16 io_port_write32 mmap_read8 mmap_read16 mmap_read32 mmap_write8 mmap_write16 mmap_write32 mmap_write64 mmap_write128 codegen_finalize jit_clear_func jit_clear_all_funcs".split(" ").map(m=>
[m,()=>console.error("zstd worker unexpectedly called "+m)])),g.__indirect_function_table=new WebAssembly.Table({element:"anyfunc",initial:1024}),g.abort=()=>{throw Error("zstd worker aborted");},g.log_from_wasm=g.console_log_from_wasm=(m,p)=>{console.log(String.fromCharCode(...(new Uint8Array(d.exports.memory.buffer,m,p))))},g.dbg_trace_from_wasm=()=>console.trace(),d=new WebAssembly.Instance(new WebAssembly.Module(e.data),{env:g})}}.toString()+")()"],{type:"text/javascript"}));this.g=new Worker(c);
URL.revokeObjectURL(c);this.g.postMessage(this.s,[this.s])}return new Promise(c=>{const d=this.D++,e=async f=>{f.data.id===d&&(this.g.removeEventListener("message",e),c(f.data.result))};this.g.addEventListener("message",e);this.g.postMessage({src:b,Oi:a,id:d},[b.buffer])})};
function Ff(a){const b=(qf(a,"/")||[]).map(e=>"/"+e);a=(qf(a,"/boot/")||[]).map(e=>"/boot/"+e);let c,d;for(const e of[].concat(b,a)){const f=/old/i.test(e)||/fallback/i.test(e),g=/initrd/i.test(e)||/initramfs/i.test(e);!/vmlinuz/i.test(e)&&!/bzimage/i.test(e)||d&&f||(d=e);!g||c&&f||(c=e)}c&&d||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(b.join(" ")),console.log(a.join(" ")));return{ij:c,Ci:d}}t.Af=async function(){this.Qa.Af()};
t.stop=async function(){this.Rf&&await new Promise(a=>{const b=()=>{this.v.unregister("emulator-stopped",b);a()};L(this,"emulator-stopped",b);this.Qa.stop()})};t.va=async function(){await this.stop();this.Qa.va();this.o&&this.o.va();this.j&&this.j.va();this.i&&this.i.va();this.fc&&this.fc.va();this.hc&&this.hc.va();this.h&&this.h.va()};t.Kg=function(){this.Qa.Kg()};function L(a,b,c){a.v.register(b,c,a)}t.Re=async function(a){this.Qa.Re(a)};t.Bf=async function(){return this.Qa.Bf()};t.ce=function(){return this.Rf};
t.Cf=async function(a){if(a.url&&!a.async)Hb(a.url,{done:b=>{this.Qa.u.B.ae.Cf(new tb(b))}});else{const b=xb(a,this.mi.bind(this));b.onload=()=>{this.Qa.u.B.ae.Cf(b)};await b.load()}};t.Uf=function(){this.Qa.u.B.ae.Uf()};function db(a,b){for(var c=0;c<b.length;c++)a.v.send("keyboard-code",b[c])}function Za(a,b){for(var c=0;c<b.length;c++)a.o.Uk(b[c])}function cb(){var a=document.body,b=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock;b&&b.call(a)}
t.Ii=async function(a,b){var c=this.xc;if(c){var d=a.split("/");d=d[d.length-1];a=lf(c,a).Fg;if(""!==d&&-1!==a)await af(c,d,a,b);else return Promise.reject(new Lf)}};t.zf=async function(a){var b=this.xc;if(b)return(a=await b.zf(a))?a:Promise.reject(new Lf)};function Lf(){this.message="File not found"}Lf.prototype=Error.prototype;
"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports.V86=Xa:"undefined"!==typeof window?window.V86=Xa:"function"===typeof importScripts&&(self.V86=Xa);function If(){var a,b=0,c=0;this.l=function(d,e,f){a[d*b+e]=f};this.va=function(){};this.pause=function(){};this.continue=function(){};this.g=function(){};this.A=function(){};this.i=function(d,e){if(d!==b||e!==c)a=new Uint8Array(d*e),b=d,c=e};this.h=function(){};this.Og=function(){};this.s=function(){};this.o=function(){};this.j=function(){};this.i(80,25)};const Mf=(new Date("1970-01-01T00:00:00Z")).getTime()-(new Date("1900-01-01T00:00:00Z")).getTime(),Nf=Math.pow(2,32),Of=[118,56,54];function Pf(a){return[0,1,2,3,4,5].map(b=>a[b].toString(16)).map(b=>1===b.length?"0"+b:b).join(":")}function Qf(a){return a[0]<<24|a[1]<<16|a[2]<<8|a[3]}
function Rf(a,b){let c=Date.now()+Mf,d=c%1E3/1E3*Nf,e={};e.za={$b:2048,src:b.Bb,ma:a.za.src};e.ea={Ec:17,src:a.ea.ma,ma:a.ea.src};e.Ka={ka:123,fa:a.Ka.ka};e.oa=Object.assign({},a.oa);e.oa.flags=36;e.oa.Ih=10;e.oa.Bh=a.oa.Tg;e.oa.Ah=a.oa.Sg;e.oa.bi=c/1E3;e.oa.ai=d;e.oa.Tg=c/1E3;e.oa.Sg=d;e.oa.gi=2;b.Oa(Sf(e));return!0}
function Tf(a,b){let c={};c.za={$b:2048,src:b.Bb,ma:a.za.src};c.ea={Ec:17,src:b.Ab,ma:b.Jf};c.Ka={ka:67,fa:68};c.sa={qf:1,vh:6,wh:0,$g:a.sa.$g,ci:0,flags:0,dh:0,ki:Qf(b.Jf),fi:Qf(b.Ab),uh:Qf(b.Ab),Pf:a.sa.Pf};let d=[],e=a.sa.options.find(function(f){return 53===f[0]});e&&3===e[2]&&(a.sa.Pe=3);1===a.sa.Pe&&(c.sa.Pe=2,d.push(new Uint8Array([53,1,2])));3===a.sa.Pe&&(c.sa.Pe=2,d.push(new Uint8Array([53,1,5])),d.push(new Uint8Array([51,4,8,0,0,0])));a=[b.Ab[0],b.Ab[1],b.Ab[2],b.Ab[3]];d.push(new Uint8Array([1,
4,255,255,255,0]));b.ge&&(d.push(new Uint8Array([3,4].concat(a))),d.push(new Uint8Array([6,4].concat(a))));d.push(new Uint8Array([54,4].concat(a)));d.push(new Uint8Array([60,3].concat(Of)));d.push(new Uint8Array([255,0]));c.sa.options=d;b.Oa(Sf(c))}
function Uf(a,b){var c=(new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint16(12),d={$b:c,ma:a.subarray(0,6),kl:Pf(a.subarray(0,6)),src:a.subarray(6,12),Nl:Pf(a.subarray(6,12))};b.za=d;a=a.subarray(14,a.length);if(2048===c){var e=new DataView(a.buffer,a.byteOffset,a.byteLength);d=a[0]>>4&15;var f=a[0]&15,g=e.getUint8(1),h=e.getUint16(2),k=e.getUint8(8);c=e.getUint8(9);e=e.getUint16(10);b.ea={version:d,Cl:f,Wk:g,Me:h,rg:k,Ec:c,El:e,src:a.subarray(12,16),ma:a.subarray(16,20)};a=a.subarray(4*f,
h);1===c&&(d=a,f=new DataView(d.buffer,d.byteOffset,d.byteLength),d={type:f.getUint8(0),code:f.getUint8(1),bh:f.getUint16(2),data:d.subarray(4)},b.Lb=d);6===c&&(d=a,g=new DataView(d.buffer,d.byteOffset,d.byteLength),f={ka:g.getUint16(0),fa:g.getUint16(2),wa:g.getUint32(4),tb:g.getUint32(8),Wi:g.getUint8(12)>>4,hb:g.getUint16(14),bh:g.getUint16(16),Yk:g.getUint16(18)},g=g.getUint8(13),f.Ke=!!(g&1),f.Rb=!!(g&2),f.jg=!!(g&4),f.Zh=!!(g&8),f.Wa=!!(g&16),f.Xk=!!(g&32),f.Xi=!!(g&64),f.Ji=!!(g&128),b.J=f,
b.qb=d.subarray(4*f.Wi));if(17===c){c=new DataView(a.buffer,a.byteOffset,a.byteLength);c={ka:c.getUint16(0),fa:c.getUint16(2),Me:c.getUint16(4),bh:c.getUint16(6),data:a.subarray(8),Ni:(new TextDecoder).decode(a.subarray(8))};if(67===c.fa||67===c.ka){f=a.subarray(8);d=new DataView(f.buffer,f.byteOffset,f.byteLength);d={Pe:d.getUint8(0),qf:d.getUint8(1),vh:d.getUint8(2),wh:d.getUint8(3),$g:d.getUint32(4),ci:d.getUint16(8),flags:d.getUint16(10),dh:d.getUint32(12),ki:d.getUint32(16),fi:d.getUint32(20),
uh:d.getUint32(24),Pf:f.subarray(28,44),yh:d.getUint32(236),options:[]};f=f.subarray(240);for(g=0;g<f.length;++g)h=g,0!==f[g]&&(++g,k=f[g],g+=k,d.options.push(f.subarray(h,h+k+2)));b.sa=d;b.ll=d.options}53!==c.fa&&53!==c.ka||Vf(a.subarray(8),b);123===c.fa&&(a=a.subarray(8),a=new DataView(a.buffer,a.byteOffset,a.byteLength),b.oa={flags:a.getUint8(0),gi:a.getUint8(1),Ih:a.getUint8(2),precision:a.getUint8(3),Nk:a.getUint32(4),Ok:a.getUint32(8),Kk:a.getUint32(12),Mk:a.getUint32(16),Lk:a.getUint32(20),
Bh:a.getUint32(24),Ah:a.getUint32(28),bi:a.getUint32(32),ai:a.getUint32(36),Tg:a.getUint32(40),Sg:a.getUint32(44)});b.Ka=c}}else 2054===c&&(c=new DataView(a.buffer,a.byteOffset,a.byteLength),c={qf:c.getUint16(0),ig:c.getUint16(2),eg:c.getUint16(6),Pg:a.subarray(8,14),og:a.subarray(14,18),hi:a.subarray(18,24),Ff:a.subarray(24,28)},b.Ja=c)}
function Vf(a,b){function c(){let l=[],m;do m=d.getUint8(h),l.push((new TextDecoder).decode(a.subarray(h+1,h+1+m))),h+=m+1;while(0<m);return l}let d=new DataView(a.buffer,a.byteOffset,a.byteLength),e={id:d.getUint16(0),flags:d.getUint16(2),wd:[],$e:[]};var f=d.getUint16(4);let g=d.getUint16(6);d.getUint16(8);d.getUint16(10);let h=12;for(var k=0;k<f;k++)e.wd.push({name:c(),type:d.getInt16(h),Vd:d.getInt16(h+2)}),h+=4;for(f=0;f<g;f++){k={name:c(),type:d.getInt16(h),Vd:d.getUint16(h+2),rg:d.getUint32(h+
4)};h+=8;let l=d.getUint16(h);h+=2;k.data=a.subarray(h,h+l);h+=l;e.$e.push(k)}b.ib=e}
function Sf(a){let b=new Uint8Array(1518);var c=new DataView(b.buffer,b.byteOffset,b.byteLength);c.setUint16(12,a.za.$b);for(var d=0;6>d;++d)c.setUint8(d,a.za.ma[d]);for(d=0;6>d;++d)c.setUint8(6+d,a.za.src[d]);c=14;if(a.Ja){d=b.subarray(14);d=new DataView(d.buffer,d.byteOffset,d.byteLength);d.setUint16(0,a.Ja.qf);d.setUint16(2,a.Ja.ig);d.setUint8(4,a.Ja.Pg.length);d.setUint8(5,a.Ja.og.length);d.setUint16(6,a.Ja.eg);for(var e=0;6>e;++e)d.setUint8(8+e,a.Ja.Pg[e]),d.setUint8(18+e,a.Ja.hi[e]);for(e=0;4>
e;++e)d.setUint8(14+e,a.Ja.og[e]),d.setUint8(24+e,a.Ja.Ff[e]);c+=28}if(a.ea){e=b.subarray(14);d=new DataView(e.buffer,e.byteOffset,e.byteLength);var f=20;if(a.Lb){var g=e.subarray(20);g=new DataView(g.buffer,g.byteOffset,g.byteLength);g.setUint8(0,a.Lb.type);g.setUint8(1,a.Lb.code);g.setUint16(2,0);for(var h=0;h<a.Lb.data.length;++h)g.setUint8(h+4,a.Lb.data[h]);h=0;for(var k=0;k<4+a.Lb.data.length;k+=2)h+=g.getUint16(k),65535<h&&(h=(h&65535)+1);g.setUint16(2,h^65535);f+=4+a.Lb.data.length}if(a.Ka){h=
e.subarray(20);g=new DataView(h.buffer,h.byteOffset,h.byteLength);if(a.sa){var l=h.subarray(8);l=new DataView(l.buffer,l.byteOffset,l.byteLength);l.setUint8(0,a.sa.Pe);l.setUint8(1,a.sa.qf);l.setUint8(2,a.sa.vh);l.setUint8(3,a.sa.wh);l.setUint32(4,a.sa.$g);l.setUint16(8,a.sa.ci);l.setUint16(10,a.sa.flags);l.setUint32(12,a.sa.dh);l.setUint32(16,a.sa.ki);l.setUint32(20,a.sa.fi);l.setUint32(24,a.sa.uh);for(var m=0;m<a.sa.Pf.length;++m)l.setUint8(28+m,a.sa.Pf[m]);l.setUint32(236,1669485411);m=240;for(var p of a.sa.options)for(h=
0;h<p.length;++h)l.setUint8(m,p[h]),++m;l=m}else if(a.ib){p=h.subarray(8);p=new DataView(p.buffer,p.byteOffset,p.byteLength);p.setUint16(0,a.ib.id);p.setUint16(2,a.ib.flags);p.setUint16(4,a.ib.wd.length);p.setUint16(6,a.ib.$e.length);h=12;for(k=0;k<a.ib.wd.length;++k){var w=a.ib.wd[k];for(m of w.name){p.setUint8(h,m.length);h++;for(let r=0;r<m.length;++r)p.setUint8(h,m.charCodeAt(r)),h++}p.setUint16(h,w.type);h+=2;p.setUint16(h,w.Vd);h+=2}for(k=0;k<a.ib.$e.length;++k){m=a.ib.$e[k];for(l of m.name)for(p.setUint8(h,
l.length),h++,w=0;w<l.length;++w)p.setUint8(h,l.charCodeAt(w)),h++;p.setUint16(h,m.type);h+=2;p.setUint16(h,m.Vd);h+=2;p.setUint32(h,m.rg);h+=4;p.setUint16(h,m.data.length);h+=2;for(w=0;w<m.data.length;++w)p.setUint8(h+w,m.data[w]);h+=m.data.length}l=h}else if(a.oa)l=h.subarray(8),l=new DataView(l.buffer,l.byteOffset,l.byteLength),l.setUint8(0,a.oa.flags),l.setUint8(1,a.oa.gi),l.setUint8(2,a.oa.Ih),l.setUint8(3,a.oa.precision),l.setUint32(4,a.oa.Nk),l.setUint32(8,a.oa.Ok),l.setUint32(12,a.oa.Kk),
l.setUint32(16,a.oa.Mk),l.setUint32(20,a.oa.Lk),l.setUint32(24,a.oa.Bh),l.setUint32(28,a.oa.Ah),l.setUint32(32,a.oa.bi),l.setUint32(36,a.oa.ai),l.setUint32(40,a.oa.Tg),l.setUint32(44,a.oa.Sg),l=48;else for(m=a.Ka.data,l=m.length,p=0;p<m.length;++p)g.setUint8(8+p,m[p]);g.setUint16(0,a.Ka.ka);g.setUint16(2,a.Ka.fa);g.setUint16(4,8+l);g.setUint16(6,0);f+=8+l}if(a.J){l=f;e=e.subarray(20);e=new DataView(e.buffer,e.byteOffset,e.byteLength);m=0;p=a.J;p.Ke&&(m|=1);p.Rb&&(m|=2);p.jg&&(m|=4);p.Zh&&(m|=8);p.Wa&&
(m|=16);p.Xk&&(m|=32);p.Xi&&(m|=64);p.Ji&&(m|=128);e.setUint16(0,p.ka);e.setUint16(2,p.fa);e.setUint32(4,p.wa);e.setUint32(8,p.tb);e.setUint8(12,80);e.setUint8(13,m);e.setUint16(14,p.hb);e.setUint16(16,0);e.setUint16(18,p.Yk||0);p=20+(a.qb?a.qb.length:0);m=0;f=new Uint8Array(12);f=new DataView(f.buffer,f.byteOffset,f.byteLength);for(g=0;4>g;++g)f.setUint8(g,a.ea.src[g]),f.setUint8(4+g,a.ea.ma[g]);f.setUint8(9,6);f.setUint16(10,p);for(p=0;6>p;++p)m+=f.getUint16(p<<1),65535<m&&(m=(m&65535)+1);for(p=
0;10>p;++p)m+=e.getUint16(p<<1),65535<m&&(m=(m&65535)+1);if(a.qb)for(p=0;p<a.qb.length;p+=2)m+=a.qb[p]<<8|a.qb[p+1],65535<m&&(m=(m&65535)+1);e.setUint16(16,m^65535);f=l+20}if(a.qb){for(e=0;e<a.qb.length;++e)d.setUint8(f+e,a.qb[e]);f+=a.qb.length}d.setUint8(0,69);d.setUint8(1,a.ea.Wk||0);d.setUint16(2,f);d.setUint16(4,a.ea.id||0);d.setUint8(6,64);d.setUint8(8,a.ea.rg||32);d.setUint8(9,a.ea.Ec);d.setUint16(10,0);for(e=0;4>e;++e)d.setUint8(12+e,a.ea.src[e]),d.setUint8(16+e,a.ea.ma[e]);a=0;for(e=0;10>
e;++e)a+=d.getUint16(e<<1),65535<a&&(a=(a&65535)+1);d.setUint16(10,a^65535);c+=f}return b.subarray(0,c)}function Wf(){this.g=new Uint8Array([]);this.I=[]}function Xf(a){let b={};b.za={$b:2048,src:a.s,ma:a.o};b.ea={Ec:6,src:a.F,ma:a.D};b.J={ka:a.ka,fa:a.fa,hb:a.hb,tb:a.Wa,wa:a.wa,Wa:!0};return b}t=Wf.prototype;t.connect=function(){this.wa=1338;this.Wa=1;this.i=0;this.hb=64240;this.state="syn-sent";let a=Xf(this);a.ea.id=2345;a.J={ka:this.ka,fa:this.fa,wa:1337,tb:0,hb:0,Rb:!0};this.cb.Oa(Sf(a))};
t.accept=function(a){this.wa=1338;this.Wa=a.J.wa+1;this.i=a.J.wa;this.s=this.cb.Bb;this.F=a.ea.ma;this.ka=a.J.fa;this.o=a.za.src;this.fa=a.J.ka;this.D=a.ea.src;this.hb=a.J.hb;let b=Xf(this);b.J={ka:this.ka,fa:this.fa,wa:1337,tb:this.Wa,hb:a.J.hb,Rb:!0,Wa:!0};this.cb.Oa(Sf(b))};
t.process=function(a){if(a.J.Rb)this.Wa=a.J.wa+1,this.i=a.J.wa,this.h=a.J.tb,this.cb.Oa(Sf(Xf(this))),this.state="established",this.A&&this.A.call(this);else if(a.J.Ke){this.Wa!==a.J.wa&&++this.Wa;var b=Xf(this);b.J={ka:a.J.fa,fa:a.J.ka,wa:this.wa,tb:this.Wa,hb:a.J.hb,jg:!0};delete this.cb.Ad[this.l];this.cb.Oa(Sf(b))}else this.Wa!==a.J.wa?(b=Xf(this),b.J={ka:a.J.fa,fa:a.J.ka,wa:this.wa,tb:this.Wa,hb:a.J.hb,Wa:!0},this.cb.Oa(Sf(b))):(this.I.push(`${a.J.wa-this.i}:${a.J.wa+a.qb.length-this.i}`),this.Wa+=
a.qb.length,0<a.qb.length&&this.cb.Oa(Sf(Xf(this))),void 0===this.h&&(this.h=a.J.tb),b=a.J.tb-this.h,0<b&&(this.h=a.J.tb,this.g=this.g.subarray(b),this.wa+=b,this.pending=!1),0>b||(this.j(a.qb),this.Eb()))};t.write=function(a){if(0<this.g.length){let b=new Uint8Array(this.g.byteLength+a.byteLength);b.set(this.g,0);b.set(a,this.g.byteLength);this.g=b}else this.g=a;this.Eb()};t.close=function(){this.state="fin-wait-1";let a=Xf(this);a.J.Ke=!0;this.cb.Oa(Sf(a));this.Eb()};
t.Eb=function(){if(0<this.g.length&&!this.pending){let a=this.g.subarray(0,500),b=Xf(this);this.pending=!0;1>this.g.length&&(b.J.Ke=!0);b.J.Zh=!0;b.qb=a;this.cb.Oa(Sf(b))}};function Yf(a,b){var c=Qf(a.Ja.Ff)&4294967040;let d=Qf(b.Ab)&4294967040;!b.ge&&c!==d||c===d&&99<a.Ja.Ff[3]||(c={},c.za={$b:2054,src:b.Bb,ma:a.za.src},c.Ja={qf:1,ig:2048,eg:2,Pg:b.Bb,og:a.Ja.Ff,hi:a.za.src,Ff:a.Ja.og},b.Oa(Sf(c)))}
function Zf(a,b){let c={};c.za={$b:2048,src:b.Bb,ma:a.za.src};c.ea={Ec:17,src:a.ea.ma,ma:a.ea.src};c.Ka={ka:a.Ka.fa,fa:a.Ka.ka,data:(new TextEncoder).encode(a.Ka.Ni)};b.Oa(Sf(c))};function Hf(a,b,c){$f(this,a);this.j=1;this.g={0:{df:0}};this.i=[];c=c||{};this.v=b;this.id=c.id||0;this.Bb=new Uint8Array((c.Bb||"52:54:0:1:2:3").split(":").map(function(d){return parseInt(d,16)}));this.Ab=new Uint8Array((c.Ab||"192.168.86.1").split(".").map(function(d){return parseInt(d,10)}));this.Jf=new Uint8Array((c.Jf||"192.168.86.100").split(".").map(function(d){return parseInt(d,10)}));this.ge=void 0===c.ge||!!c.ge;new Uint8Array(6);this.jh=c.jh||"cloudflare-dns.com";this.Ad={};this.v.register("net"+
this.id+"-mac",function(d){new Uint8Array(d.split(":").map(function(e){return parseInt(e,16)}))},this);this.v.register("net"+this.id+"-send",function(d){this.send(d)},this)}
function $f(a,b){a.h=new WebSocket(b.replace("wisp://","ws://").replace("wisps://","wss://"));a.h.binaryType="arraybuffer";a.h.onmessage=c=>{c=new Uint8Array(c.data);const d=new DataView(c.buffer),e=d.getUint32(1,!0);switch(c[0]){case 2:if(a.g[e])a.g[e].xg(c.slice(5));else throw Error("Got a DATA packet but stream not registered. ID: "+e);break;case 3:a.g[e]&&(a.g[e].df=d.getUint32(5,!0));if(a.g[e].eh){for(const f of a.i)ag(a,f.data,f.type,e);a.g[e].eh=!1}break;case 4:a.g[e]&&a.g[e].vg(d.getUint8(5)),
delete a.g[e]}};a.h.onclose=()=>{setTimeout(()=>{$f(a,b)},1E4)}}function ag(a,b,c,d){0<a.g[d].df?("DATA"===c&&a.g[d].df--,a.h.send(b)):(a.g[d].eh=!0,a.i.push({data:b,type:c}))}
function bg(a,b){let c,d;switch(b.type){case "CONNECT":const e=(new TextEncoder).encode(b.hostname);c=new Uint8Array(8+e.length);d=new DataView(c.buffer);d.setUint8(0,1);d.setUint32(1,b.cd,!0);d.setUint8(5,1);d.setUint16(6,b.port,!0);c.set(e,8);a.g[b.cd]={xg:b.xg,vg:b.vg,df:a.g[0].df};break;case "DATA":c=new Uint8Array(5+b.data.length);d=new DataView(c.buffer);d.setUint8(0,2);d.setUint32(1,b.cd,!0);c.set(b.data,5);break;case "CLOSE":c=new Uint8Array(6),d=new DataView(c.buffer),d.setUint8(0,4),d.setUint32(1,
b.cd,!0),d.setUint8(5,b.reason)}ag(a,c,b.type,b.cd)}Hf.prototype.va=function(){this.h&&(this.h.onmessage=null,this.h.onclose=null,this.h.close(),this.h=null)};
Hf.prototype.send=function(a){let b={};Uf(a,b);if(b.J){a={};a.za={$b:2048,src:this.Bb,ma:b.za.src};a.ea={Ec:6,src:b.ea.ma,ma:b.ea.src};var c=[b.ea.src.join("."),b.J.ka,b.ea.ma.join("."),b.J.fa].join(":");if(b.J.Rb){const d=new Wf;d.state="syn-received";d.cb=this;d.l=c;d.cd=this.j++;this.Ad[c]=d;d.j=e=>{0!==e.length&&bg(this,{type:"DATA",cd:d.cd,data:e})};bg(this,{type:"CONNECT",cd:d.cd,hostname:b.ea.ma.join("."),port:b.J.fa,xg:e=>{d.write(e)},vg:()=>{d.close()}});d.accept(b);return}if(!this.Ad[c]){c=
b.J.tb;if(b.J.Ke||b.J.Rb)c+=1;a.J={ka:b.J.fa,fa:b.J.ka,wa:c,tb:b.J.wa+(b.J.Rb?1:0),hb:b.J.hb,jg:!0,Wa:b.J.Rb};this.Oa(Sf(a));return}this.Ad[c].process(b)}b.Ja&&1===b.Ja.eg&&2048===b.Ja.ig&&Yf(b,this);b.ib&&(async()=>{let d={};d.za={$b:2048,src:this.Bb,ma:b.za.src};d.ea={Ec:17,src:this.Ab,ma:b.ea.src};d.Ka={ka:53,fa:b.Ka.ka};const e=await (await fetch(`https://${this.jh}/dns-query`,{method:"POST",headers:[["content-type","application/dns-message"]],body:b.Ka.data})).arrayBuffer();d.Ka.data=new Uint8Array(e);
this.Oa(Sf(d))})();b.oa?Rf(b,this):b.sa?Tf(b,this):b.Ka&&8===b.Ka.fa&&Zf(b,this)};Hf.prototype.Oa=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};function Gf(a,b){b=b||{};this.v=a;this.id=b.id||0;this.Bb=new Uint8Array((b.Bb||"52:54:0:1:2:3").split(":").map(function(c){return parseInt(c,16)}));this.Ab=new Uint8Array((b.Ab||"192.168.86.1").split(".").map(function(c){return parseInt(c,10)}));this.Jf=new Uint8Array((b.Jf||"192.168.86.100").split(".").map(function(c){return parseInt(c,10)}));this.ge=void 0===b.ge||!!b.ge;new Uint8Array(6);this.Ad={};this.wg=b.wg;this.v.register("net"+this.id+"-mac",function(c){new Uint8Array(c.split(":").map(function(d){return parseInt(d,
16)}))},this);this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}Gf.prototype.va=function(){};
async function cg(a){if(a&&(this.read=this.read||"",(this.read+=(new TextDecoder).decode(a))&&-1!==this.read.indexOf("\r\n\r\n"))){var b=this.read.indexOf("\r\n\r\n");a=this.read.substring(0,b).split(/\r\n/);b=this.read.substring(b+4);this.read="";let c=a[0].split(" "),d;d=/^https?:/.test(c[1])?new URL(c[1]):new URL("http://host"+c[1]);"undefined"!==typeof window&&"http:"===d.protocol&&"https:"===window.location.protocol&&(d.protocol="https:");let e=new Headers;for(let k=1;k<a.length;++k){let l=a[k].split(": "),
m=l[0].toLowerCase(),p=l[1];"host"===m?d.host=p:1<m.length&&e.set(l[0],p)}this.name=d.href;a={method:c[0],headers:e};-1!==["put","post"].indexOf(a.method.toLowerCase())&&(a.body=b);const [f,g]=await this.cb.fetch(d.href,a),h=[`HTTP/1.1 ${f.status} ${f.statusText}`,"connection: Closed","content-length: "+g.byteLength];h.push("x-was-fetch-redirected: "+String(f.redirected));h.push("x-fetch-resp-url: "+String(f.url));f.headers.forEach(function(k,l){-1===["content-encoding","connection","content-length",
"transfer-encoding"].indexOf(l.toLowerCase())&&h.push(l+": "+k)});h.push("");h.push("");this.write((new TextEncoder).encode(h.join("\r\n")));this.write(new Uint8Array(g))}}Gf.prototype.fetch=async function(a,b){this.wg&&(a=this.wg+encodeURIComponent(a));try{const c=await fetch(a,b),d=await c.arrayBuffer();return[c,d]}catch(c){return console.warn("Fetch Failed: "+a+"\n"+c),b=new Headers,b.set("Content-Type","text/plain"),[{status:502,statusText:"Fetch Error",headers:b},(new TextEncoder).encode(`Fetch ${a} failed:\n\n${c.stack}`).buffer]}};
Gf.prototype.send=function(a){{let f={};Uf(a,f);if(!(a=!f.J)){b:{a=f;var b={};b.za={$b:2048,src:this.Bb,ma:a.za.src};b.ea={Ec:6,src:a.ea.ma,ma:a.ea.src};var c=[a.ea.src.join("."),a.J.ka,a.ea.ma.join("."),a.J.fa].join(":");if(a.J.Rb){var d=c;if(80===a.J.fa){var e=new Wf;e.state="syn-received";e.cb=this;e.j=cg;e.l=d;e.accept(a);this.Ad[d]=e;d=!0}else d=!1;if(d){a=void 0;break b}}if(this.Ad[c])this.Ad[c].process(a),a=void 0;else{c=a.J.tb;if(a.J.Ke||a.J.Rb)c+=1;b.J={ka:a.J.fa,fa:a.J.ka,wa:c,tb:a.J.wa+
(a.J.Rb?1:0),hb:a.J.hb,jg:!0,Wa:a.J.Rb};this.Oa(Sf(b));a=!0}}a=!a}if(a){f.Ja&&1===f.Ja.eg&&2048===f.Ja.ig&&Yf(f,this);if(!(a=!f.ib)){a=f;b={};b.za={$b:2048,src:this.Bb,ma:a.za.src};b.ea={Ec:17,src:this.Ab,ma:a.ea.src};b.Ka={ka:53,fa:a.Ka.ka};c=[];for(d=0;d<a.ib.wd.length;++d)switch(e=a.ib.wd[d],e.type){case 1:c.push({name:e.name,type:e.type,Vd:e.Vd,rg:600,data:[192,168,87,1]})}b.ib={id:a.ib.id,flags:33152,wd:a.ib.wd,$e:c};this.Oa(Sf(b));a=!1}!a||f.oa&&Rf(f,this)||(f.Lb&&8===f.Lb.type&&(a=f,b={},b.za=
{$b:2048,src:this.Bb,ma:a.za.src},b.ea={Ec:1,src:this.Ab,ma:a.ea.src},b.Lb={type:0,code:a.Lb.code,data:a.Lb.data},this.Oa(Sf(b))),f.sa&&Tf(f,this)||f.Ka&&8===f.Ka.fa&&Zf(f,this))}}};Gf.prototype.Oa=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.FetchNetworkAdapter=Gf);const Ya={Vk:function(a){return Ya.Ik(a)+Ya.Hk(a)},Ik:function(a){let b="";var c="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE RUN_INTERPRETED RUN_INTERPRETED_NEW_PAGE RUN_INTERPRETED_PAGE_HAS_CODE RUN_INTERPRETED_PAGE_HAS_ENTRY_AFTER_PAGE_WALK RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_DIFFERENT_STATE_CPL3 RUN_INTERPRETED_DIFFERENT_STATE_FLAT RUN_INTERPRETED_DIFFERENT_STATE_IS32 RUN_INTERPRETED_DIFFERENT_STATE_SS32 RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED CONDITION_UNOPTIMISED_PF CONDITION_UNOPTIMISED_UNHANDLED_L CONDITION_UNOPTIMISED_UNHANDLED_LE FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS MAIN_LOOP MAIN_LOOP_IDLE DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED SEG_OFFSET_NOT_OPTIMISED_ES SEG_OFFSET_NOT_OPTIMISED_FS SEG_OFFSET_NOT_OPTIMISED_GS SEG_OFFSET_NOT_OPTIMISED_NOT_FLAT".split(" "),
d=0;const e={};for(let g=0;g<c.length;g++){const h=c[g];var f=void 0;if(h.includes("/")){d++;const [k,l]=h.split("/");f=e[k]/e[l]}else f=e[h]=a.Ma.exports.profiler_stat_get(g-d),f=1E8<=f?Math.round(f/1E6)+"m":1E5<=f?Math.round(f/1E3)+"k":f;b+=h+"="+f+"\n"}b+="\n";c=a.Ma.exports.get_valid_tlb_entries_count();d=a.Ma.exports.get_valid_global_tlb_entries_count();b=b+("TLB_ENTRIES="+c+" ("+d+" global, "+(c-d)+" non-global)\nWASM_TABLE_FREE=")+(a.Ma.exports.jit_get_wasm_table_index_free_list_count()+"\n");
b+="JIT_CACHE_SIZE="+a.Ma.exports.jit_get_cache_size()+"\n";b+="FLAT_SEGMENTS="+a.Ma.exports.has_flat_segmentation()+"\n";b+="wasm memory size: "+(a.La.buffer.byteLength>>20)+"m\n";b=b+"Config:\nJIT_DISABLED="+(a.Ma.exports.get_jit_config(0)+"\n");b+="MAX_PAGES="+a.Ma.exports.get_jit_config(1)+"\n";b+="JIT_USE_LOOP_SAFETY="+!!a.Ma.exports.get_jit_config(2)+"\n";return b+="MAX_EXTRA_BASIC_BLOCKS="+a.Ma.exports.get_jit_config(3)+"\n"},Hk:function(a){return[Ya.wf(a,!1,!1,!1,!1),Ya.wf(a,!0,!1,!1,!1),
Ya.wf(a,!1,!0,!1,!1),Ya.wf(a,!1,!1,!0,!1),Ya.wf(a,!1,!1,!1,!0)].join("\n\n")},wf:function(a,b,c,d,e){let f="";var g=[],h=b?"compiled":c?"jit exit":d?"unguarded register":e?"wasm size":"executed";for(let m=0;256>m;m++)for(let p=0;8>p;p++)for(const w of[!1,!0]){var k=a.Ma.exports.get_opstats_buffer(b,c,d,e,m,!1,w,p);g.push({dg:m,count:k,xh:w,oh:p});k=a.Ma.exports.get_opstats_buffer(b,c,d,e,m,!0,w,p);g.push({dg:3840|m,count:k,xh:w,oh:p})}a=0;b=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(const {count:m,
dg:p}of g)b.has(p)||(a+=m);if(0===a)return"";c=new Uint32Array(256);b=new Uint32Array(256);for(const {dg:m,count:p}of g)3840===(m&65280)?b[m&255]+=p:c[m&255]+=p;f=f+"------------------\nTotal: "+(a+"\n");const l=1E7<a?1E3:1;d=Math.max.apply(Math,g.map(({count:m})=>Math.round(m/l)));d=String(d).length;f+=`Instruction counts ${h} (in ${l}):\n`;for(e=0;256>e;e++)f+=e.toString(16).padStart(2,"0")+":"+yb(Math.round(c[e]/l),d),f=15===e%16?f+"\n":f+" ";f=f+"\n"+`Instruction counts ${h} (0f, in ${l}):\n`;
for(h=0;256>h;h++)f+=(h&255).toString(16).padStart(2,"0")+":"+yb(Math.round(b[h]/l),d),f=15===h%16?f+"\n":f+" ";f+="\n";g=g.filter(({count:m})=>m).sort(({count:m},{count:p})=>p-m);for(const {dg:m,xh:p,oh:w,count:r}of g.slice(0,200))f+=m.toString(16)+"_"+w+(p?"_m":"_r")+":"+(r/a*100).toFixed(2)+" ";return f+"\n"}};"undefined"!==typeof module&&"undefined"!==typeof module.exports&&(module.exports.print_stats=Ya);function Jf(){this.h=new Map}Jf.prototype.read=async function(a,b,c){return(a=this.h.get(a))?a.subarray(b,b+c):null};Jf.prototype.cache=async function(a,b){this.h.set(a,b)};Jf.prototype.g=function(a){this.h.delete(a)};function Kf(a,b){b.endsWith("/")||(b+="/");this.h=a;this.Mf=b}function dg(a,b){return new Promise(c=>{Hb(a.Mf+b,{done:async d=>{d=new Uint8Array(d);await a.cache(b,d);c(d)}})})}
Kf.prototype.read=async function(a,b,c){const d=await this.h.read(a,b,c);return d?d:(await dg(this,a)).subarray(b,b+c)};Kf.prototype.cache=async function(a,b){return await this.h.cache(a,b)};Kf.prototype.g=function(a){this.h.g(a)};
